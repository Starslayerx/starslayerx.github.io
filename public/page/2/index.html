<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head>
	<meta name="generator" content="Hugo 0.154.5"><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Starslayerx&#39; Blog</title>
<meta name="keywords" content="Blog, Technology, Programming, Hugo, PaperMod">
<meta name="description" content="A personal blog about technology, programming, and daily notes">
<meta name="author" content="Starslayerx">
<link rel="canonical" href="http://localhost:1313/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.da3211e5ef867bf2b75fd5a6515cfed7195c011e8ab735694e203810a827097b.css" integrity="sha256-2jIR5e&#43;Ge/K3X9WmUVz&#43;1xlcAR6KtzVpTiA4EKgnCXs=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.svg">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon.svg">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon.svg">
<link rel="apple-touch-icon" href="http://localhost:1313/favicon.svg">
<link rel="mask-icon" href="http://localhost:1313/favicon.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/index.xml" title="rss">
<link rel="alternate" type="application/json" href="http://localhost:1313/index.json" title="json">
<link rel="alternate" hreflang="en" href="http://localhost:1313/">
<link rel="alternate" hreflang="zh-cn" href="http://localhost:1313/zh-cn/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script><meta property="og:url" content="http://localhost:1313/">
  <meta property="og:site_name" content="Starslayerx&#39; Blog">
  <meta property="og:title" content="Home">
  <meta property="og:description" content="A personal blog about technology, programming, and daily notes">
  <meta property="og:locale" content="en-US">
  <meta property="og:type" content="website">
      <meta property="og:image" content="http://localhost:1313/images/og-default.avif">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://localhost:1313/images/og-default.avif">
<meta name="twitter:title" content="Home">
<meta name="twitter:description" content="A personal blog about technology, programming, and daily notes">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Starslayerx' Blog",
  "url": "http://localhost:1313/",
  "description": "A personal blog about technology, programming, and daily notes",
  "logo": "http://localhost:1313/favicon.svg",
  "sameAs": [
      "https://github.com/Starslayerx", "mailto:starslayerxleo@gmail.com", "/index.xml"
  ]
}
</script>
</head>
<body class="list" id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Starslayerx&#39; Blog (Alt + H)">
                <img src="http://localhost:1313/favicon.svg" alt="" aria-label="logo"
                    height="35">Starslayerx&#39; Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                    <ul class="lang-switch"><li>|</li>
                        <li>
                            <a href="http://localhost:1313/zh-cn/" title="简体中文"
                                aria-label="简体中文">Zh-Cn</a>
                        </li>
                    </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Python Tricks Part 4: Objects, Types and Protocols
    </h2>
  </header>
  <div class="entry-content">
    <p>Essential Concepts 每个存储在程序中的数据都是一个对象，每个对象都有一个 identity, type and value （身份、类型和值）。 例如 a = 42 会创建一个整数为 42 的类型，该对象的 identity 是内存中的一个数字，代表其在内存中的位置，a 是这个类的标签，指向这个特定的内存位置，标签本身并非对象的一部分。
object 对象的类型，也被称为 class 类，该类定义了对象的内部数据表示，和支持的方法。 当特定类型的对象创建后，该对象被称为该类的 instance “实例”。 当实例创建后，其 identity 就不会改变。 如果一个对象的值可以被修改，则该对象是可变的 mutable。 如果一个对象的值不可以被修改，则该对象是不可变的 unmutable。 一个持有对其他对象引用的对象，被称为容器。
对象通过其属性来表征，属性是于对象关联的值，通过点 . 运算符来访问。 属性可以是一个简单的值，例如一个数字，也可以是一个被调用以执行某些操作的函数。
这类函数被称为方法，例如下面这个例子
a = 34 # Create an integer n = a.number # Get the numberator (an attribute) b = [1, 2, 3] # Create a list b.append(4) # Add a new element using the append method Object Identity and Type 内置函数 id() 返回对象的 identity，该 identity 是一个整数，通常对应 object 的内存地址。 is 操作符会对比两个对象的 identity，type() 返回对象的类型。
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-12-18 08:00:00 +0800 CST'>December 18, 2025</span>&nbsp;·&nbsp;<span>9 min</span>&nbsp;·&nbsp;<span>1715 words</span>&nbsp;·&nbsp;<span>Starslayerx</span></footer>
  <a class="entry-link" aria-label="post link to Python Tricks Part 4: Objects, Types and Protocols" href="http://localhost:1313/posts/python-tricks-part-4-objects-types-and-protocols/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Shell
    </h2>
  </header>
  <div class="entry-content">
    <p>Terminal 终端是提供文本用户界面的程序，早期终端是集成设备，键盘和屏幕集成在一起，现在终端知识简单的应用程序。 除了基本的输入输出外，终端还支持将所谓转义序列或转移码，用于光标和屏幕处理，并可能支持颜色。 例如，使用 Ctrl-h 会删除前面一个字符。
环境变量 TERM 可能使用了终端模拟器，其配置可以通过 infocmp 获得
# Reconstructed via infocmp from file: /usr/share/terminfo/74/tmux-256color tmux-256color|tmux with 256 colors, am, hs, km, mir, msgr, xenl, colors#256, cols#80, it#8, lines#24, pairs#32767, acsc=&#43;&#43;\,\,--..00``aaffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzz{{||}}~~, bel=^G, blink=\E[5m, bold=\E[1m, cbt=\E[Z, civis=\E[?25l, clear=\E[H\E[J, cnorm=\E[34h\E[?25h, cr=^M, ... 显示内容看上去很混乱，这些是
Shell shell 是一个运行在终端内部的程序，充当命令解释器。 shell 通过流提供输入和输出处理，支持变量，有一些内置命令，处理命令执行和状态，支持交互式和脚本使用。 最初的 shell 叫做 Bourne shell sh，即作者名字命名，现在通常被 bash 替代，即 “Bourne Again Shell” 的缩写。
file -h /bin/sh Stream shell 为每个进程提供了三个默认的文件描述符 (FD)，用于输入和输出：
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-12-18 08:00:00 +0800 CST'>December 18, 2025</span>&nbsp;·&nbsp;<span>5 min</span>&nbsp;·&nbsp;<span>995 words</span>&nbsp;·&nbsp;<span>Starslayerx</span></footer>
  <a class="entry-link" aria-label="post link to Shell" href="http://localhost:1313/posts/shell/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Python Tricks Part 3: Program Structure and Control Flow
    </h2>
  </header>
  <div class="entry-content">
    <p>Exceptions 异常 exceptions 具有一些标准属性，这些属性在需要针对错误执行进一步操作的代码中可能非常有用。
e.args 这是引发异常时提供的元组，在大多数情况下，这是一个包含描述错误字符串的单元元素元组。 对于 OSError 异常，其值是一个包含整数错误码、字符串错误消息，以及可选文件名的 2 元组或 3 元组。
e.__cause__ 如果该异常是在处理另一个异常时有意引起的 raise ... from ...，Python 会将这两个异常链接起来，形成异常链。
e.__context__ 如果异常是处理异常时无意间导致的，则会产生 e.__context__。
e.__traceback__ 与异常相关联的堆栈回溯对象。
用于存储异常值的变量仅在相关的 except 块内部可以访问，一但控制论离开该块，该变量将变为未定义。
try: int(&#39;N/A&#39;) except ValueError as e: print(&#39;Failed:&#39;, e) print(e) # Fails -&gt; NameError. &#39;e&#39; not defined 多异常处理块通过多个异常子句指定：
try: # do something except TypeError as e: # Handle Type error except ValueError as e: # Handle Value error 当然也可以在单个子句中处理多个异常类型
try: # do something except (TypeError, ValueError) as e: # Handle Type or Value error 可以使用 pass 忽略报错
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-12-17 08:00:00 +0800 CST'>December 17, 2025</span>&nbsp;·&nbsp;<span>7 min</span>&nbsp;·&nbsp;<span>1335 words</span>&nbsp;·&nbsp;<span>Starslayerx</span></footer>
  <a class="entry-link" aria-label="post link to Python Tricks Part 3: Program Structure and Control Flow" href="http://localhost:1313/posts/python-tricks-part-3-program-structure-and-control-flow/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Python Tricks Part 2: Operators, Expressions and Data Manipulation
    </h2>
  </header>
  <div class="entry-content">
    <p>Literals 整数
04 0b101010 # Binary 二进制 0o52 # Octal 八进制 0x2a # Hexadecimal 十六进制 浮点数，内部使用 IEEE 754 双精度存储
4.2 42. 4.2e&#43;2 # 科学记数法 4.2E2 -4.2e-2 数字类型字面量还可以使用 _ 来方便阅读
123_456_789 Truth Values true: 非0数字、任何非空的字符串，列表，元组或字典 false: 0、None、空列表，元组或字典 Operations Involving Iterables 任何可迭代对象都可以展开，如 list, tuple and set，都通过星号(*)。
items = [1, 2, 3] a = [10, *items, 1] # [10, 1, 2, 3, 1] b = (*items, 10, *items) # [1, 2, 3, 10, 1, 2, 3] c = {10, 11, *items} # {10, 11, 1, 2, 3} 在上面例子中，item 简单的被粘贴到 list, tuple, set 中，就和手动输入进去一样。 有时候这种展开 expansion 被称为“展开操作符” splatting。
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-12-16 08:00:00 +0800 CST'>December 16, 2025</span>&nbsp;·&nbsp;<span>2 min</span>&nbsp;·&nbsp;<span>328 words</span>&nbsp;·&nbsp;<span>Starslayerx</span></footer>
  <a class="entry-link" aria-label="post link to Python Tricks Part 2: Operators, Expressions and Data Manipulation" href="http://localhost:1313/posts/python-tricks-part-2-operators-expressions-and-data-manipulation/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Python Tricks Part 1: Basis
    </h2>
  </header>
  <div class="entry-content">
    <p>这篇文章总结一些平时容易被忽略的 Python 知识
Primitives, Variables and Expressions print(f&#34;{year:&gt;3d} {principal:0.2f}&#34;) &gt;3d 指至少 3 位十进制数，右对齐 0.2f 指精度为 2 位的浮点数 Arithmetic Operators round(x, [n]): 该函数采用 Banker’s Rounding 银行家舍入法，也叫 四舍六入五成双，当要舍弃的数字正好是 5 时
前一位是偶数 → 向下舍去（向偶数靠拢） 如果前一位是奇数 → 向上进位（向偶数靠拢） 这样做的目的是减少舍入误差的累积，在统计学和金融计算中更为公平。
# 常规四舍五入（Python实际行为是银行家舍入） print(round(1.5)) # 2 （1是奇数，5进位） print(round(2.5)) # 2 （2是偶数，5舍去） print(round(3.5)) # 4 （3是奇数，5进位） print(round(4.5)) # 4 （4是偶数，5舍去） # 更复杂的例子 print(round(1.25, 1)) # 1.2 （2是偶数，5舍去） print(round(1.35, 1)) # 1.4 （3是奇数，5进位） print(round(1.251, 1)) # 1.3 （因为后面还有1，不是正好5，正常进位） 银行家舍入法是 IEEE 754 标准推荐的方式，Python、R、NumPy 等都采用这种舍入方式，能有效减少大量数据计算时的统计偏差。
Python 二进制运算符会将整数视为 2’s complement binary representation 二进制补码，并且符号位会在左侧无限扩展。 此外，Python 不会截断二进制，也不会溢出。
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-12-15 08:00:00 +0800 CST'>December 15, 2025</span>&nbsp;·&nbsp;<span>4 min</span>&nbsp;·&nbsp;<span>662 words</span>&nbsp;·&nbsp;<span>Starslayerx</span></footer>
  <a class="entry-link" aria-label="post link to Python Tricks Part 1: Basis" href="http://localhost:1313/posts/python-tricks-part-1-basis/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Exploring Docker
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p>之前几篇关于 docker 的文章已经介绍了 image、container 方面的内容，这篇文章将介绍 Docker 其他方面的能力：
Docker version Server information Downloading image updates Inspecting containers Entering a running container Returning a result Viewing logs Monitoring statistics Printing the Docker Version % docker version Client: Version: 28.4.0 API version: 1.51 Go version: go1.24.7 Git commit: d8eb465 Built: Wed Sep 3 20:56:26 2025 OS/Arch: darwin/arm64 Context: desktop-linux Server: Docker Desktop 4.47.0 (206054) Engine: Version: 28.4.0 API version: 1.51 (minimum version 1.24) Go version: go1.24.7 Git commit: 249d679 Built: Wed Sep 3 20:58:53 2025 OS/Arch: linux/arm64 Experimental: false containerd: Version: 1.7.27 GitCommit: 05044ec0a9a75232cad458027ca83437aae3f4da runc: Version: 1.2.5 GitCommit: v1.2.5-0-g59923ef docker-init: Version: 0.19.0 GitCommit: de40ad0 注意到有 client 和 server 的区分，上面例子中 client 和 server 是匹配的版本，因为是一起安装的，但这并不总是相同的。 一般在生产环境会使用相同版本，在开发换即使版本有一些不大的区别，也会有很大问题。
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-12-11 08:00:00 +0800 CST'>December 11, 2025</span>&nbsp;·&nbsp;<span>8 min</span>&nbsp;·&nbsp;<span>1635 words</span>&nbsp;·&nbsp;<span>Starslayerx</span></footer>
  <a class="entry-link" aria-label="post link to Exploring Docker" href="http://localhost:1313/posts/exploring-docker/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Git cherry-pick
    </h2>
  </header>
  <div class="entry-content">
    <p>Patch Application 补丁应用类似下面这样（Codex 使用的 OpenAI Patch 是不是借鉴的这个？）的描述文件变更的文本文件，通常包含：
哪些文件被修改 具体的行级变更 上下文信息 # 创建补丁 git diff &gt; changes.patch # 未暂存的修改 git diff --cached &gt; changes.patch # 已暂存的修改 git format-patch HEAD~3 # 最近 3 次提交生成补丁 # 应用补丁 git apply changes.patch # 直接应用，不创建提交 git am changes.patch # 应用并创建提交（用于format-patch生成的） 命令如 git diff、git stach 和 git rebase 都使用 patch。
这种修改方法，如果产生冲突则需要手动处理。
3-Way Merge 三方合并则是一种智能的合并算法，使用三个版本来解决合并冲突：
A - B (feature分支) / Base \ C - D (main分支) Base: 共同的祖先提交 Current: 当前分支的最新提交 Incoming: 要合并进来的分支的最新提交 合并过程：
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-12-08 08:00:00 +0800 CST'>December 8, 2025</span>&nbsp;·&nbsp;<span>1 min</span>&nbsp;·&nbsp;<span>193 words</span>&nbsp;·&nbsp;<span>Starslayerx</span></footer>
  <a class="entry-link" aria-label="post link to Git cherry-pick" href="http://localhost:1313/posts/git-cherry-pick/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Writing a good CLAUDE.md
    </h2>
  </header>
  <div class="entry-content">
    <p>如何编写一个好的 CLAUDE.md 注意：本文同样适用于 AGENTS.md，这是 CLAUDE.md 的开源等效文件，适用于 OpenCode、Zed、Cursor 和 Codex 等代理和工具。
原则：LLMs（基本上）是无状态的 LLMs 是无状态函数。它们的权重在用于推理时是冻结的，因此它们不会随时间学习。模型对你的代码库唯一了解的就是你输入给它的 tokens。
类似地，像 Claude Code 这样的编码代理工具通常需要你显式管理代理的记忆。CLAUDE.md（或 AGENTS.md）是默认情况下唯一会进入你与代理的每一次对话的文件。
这有三个重要含义：
编码代理在每个会话开始时对你的代码库一无所知。 代理必须在每次启动会话时被告知关于代码库的任何重要信息。 CLAUDE.md 是实现这一点的首选方式。 CLAUDE.md 让 Claude 了解你的代码库 由于 Claude 在每个会话开始时对你的代码库一无所知，你应该使用 CLAUDE.md 来引导 Claude 了解你的代码库。在高层次上，这意味着它应该涵盖：
是什么（WHAT）：告诉 Claude 关于技术栈、项目结构。给 Claude 一张代码库地图。 这在 monorepos 中尤其重要！告诉 Claude 有哪些应用、有哪些共享包，以及每个部分的用途，这样它就知道在哪里查找内容 为什么（WHY）：告诉 Claude 项目的目的以及仓库中所有内容的作用。项目不同部分的目的和功能是什么？ 如何（HOW）：告诉 Claude 应该如何在项目上工作。例如，你使用 bun 而不是 node？你需要包含它实际完成有意义工作所需的所有信息。Claude 如何验证它的更改？它如何运行测试、类型检查和编译步骤？ 但你的做法很重要！不要试图把 Claude 可能需要运行的每个命令都塞进你的 CLAUDE.md 文件——你会得到次优结果。
Claude 经常忽略 CLAUDE.md 无论你使用哪个模型，你可能会注意到 Claude 经常忽略你的 CLAUDE.md 文件的内容。
你可以通过使用 ANTHROPIC_BASE_URL 在 claude code CLI 和 Anthropic API 之间放置一个日志代理来自己调查这一点。Claude code 在用户消息中注入以下系统提醒和你的 CLAUDE.md 文件：
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-12-02 08:00:00 +0800 CST'>December 2, 2025</span>&nbsp;·&nbsp;<span>2 min</span>&nbsp;·&nbsp;<span>322 words</span>&nbsp;·&nbsp;<span>Starslayerx</span></footer>
  <a class="entry-link" aria-label="post link to Writing a good CLAUDE.md" href="http://localhost:1313/posts/writing-a-good-claude.md/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Python asyncio 03: A first asyncio application
    </h2>
  </header>
  <div class="entry-content">
    <p>Working with blocking sockets socket 是在网络中读取和写入数据的一种方式。 可以将 socket 看成一个邮件，将信封放到里面后运送到接收者的地址。
下面使用 Python 的内置 socket 模块来创建一个简单的 server
import socket server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM) server_socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1) 这里，给 socket 函数指定了两个参数，第一个是 socket.AF_INET，这个告诉我们要与什么类型的地址进行交互，在这个例子中是 hostname 和 phonenumber。 第二个是 socket.SO_REUSEADDR，这个参数是说我们使用 TCP 协议进行交互。
然后使用 socket.setsockopt 方法将 socket.SOL_SOCKET 标志设置为 1。这将允许在关闭和快速重启应用，避免 address already in use 这类错误，如果不这样做将会消耗操作系统一段时间来解除与 port 的绑定。
使用 socket.socket 创建 socket 后，并不能开始沟通，因为还没有将其绑定到任何地址上面。 在本例中，将使用电脑本地地址 127.0.0.1 和任意 port 8000
server_address = (&#39;127.0.0.1&#39;, 8000) server_socket.bind(server_address) 这里将地址设置为 127.0.0.1:8000，这意味着 client 将能够使用该地址向服务器发送数据，如果要向 client 发送数据，也会看到该地址为来源地址。
接下来，在套接字上调用 listen 方法，主动监听来自客户端的连接请求。 随后，通过调用 accept 方法等待连接建立。 该方法会保持阻塞状态直至接收到连接请求，当连接成功时，将返回一个连接对象及客户端地址。 这个连接对象本质上是一个新的套接字，可以用于与客户端进行双向数据通信
server_socket.listen() connection, client_address = server_socket.accept() 有了这些组件，我们便掌握了创建基于套接字的服务器应用所需的所有基础模块。 该应用将等待连接，并在建立连接后打印提示信息。
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-12-01 08:00:00 +0800 CST'>December 1, 2025</span>&nbsp;·&nbsp;<span>10 min</span>&nbsp;·&nbsp;<span>1975 words</span>&nbsp;·&nbsp;<span>Starslayerx</span></footer>
  <a class="entry-link" aria-label="post link to Python asyncio 03: A first asyncio application" href="http://localhost:1313/posts/python-asyncio-03-a-first-asyncio-application/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Docker Context
    </h2>
  </header>
  <div class="entry-content">
    <p>Docker Context 是 Docker 2019 年引入的一个特性，用来管理多个 Docker 主机的上下文，通过切换 context 就能让本地的 docker 命令作用在不同的 Docker 主机上。
本地开发机：
docker context use default 远程服务器要配置好 ssh 免密登陆，然后使用下面命令添加 context：
docker context create my-server --docker &#34;host=ssh://root@1.2.3.4&#34; docker context create my-server --docker &#34;host=ssh://CompanyServer1&#34; 这里的 CompanyServer1 是 ssh 配置，例如这样
Host CompanyServer1 Hostname 192.168.0.106 User root Port 22 IdentityFile ~/.ssh/id_rsa_company 其中 IdentityFile 是存放无密码密钥的地方，如果你的密钥密钥密码就不需要这一行，否则需要设置一个没有密码的密钥，例如这样
ssh-keygen -t rsa -b 4096 -f ~/.ssh/id_rsa_company -N &#34;&#34; 配置好后就可以在本地连接服务器 docker 了
docker context list 输出类似这样
NAME DESCRIPTION DOCKER ENDPOINT ERROR company-server ssh://CompanyServer1 default Current DOCKER_HOST based configuration unix:///***/docker.sock desktop-linux * Docker Desktop unix:///***/docker.sock 使用命令 use 切换 context
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-11-25 08:00:00 +0800 CST'>November 25, 2025</span>&nbsp;·&nbsp;<span>1 min</span>&nbsp;·&nbsp;<span>122 words</span>&nbsp;·&nbsp;<span>Starslayerx</span></footer>
  <a class="entry-link" aria-label="post link to Docker Context" href="http://localhost:1313/posts/docker-context/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="http://localhost:1313/">
      «&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="http://localhost:1313/page/3/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="http://localhost:1313/">Starslayerx&#39; Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
