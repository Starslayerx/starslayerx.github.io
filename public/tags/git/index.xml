<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Git on Starslayerx&#39; Blog</title>
    <link>http://localhost:1313/tags/git/</link>
    <description>Recent content in Git on Starslayerx&#39; Blog</description>
    <image>
      <title>Starslayerx&#39; Blog</title>
      <url>http://localhost:1313/images/og-default.avif</url>
      <link>http://localhost:1313/images/og-default.avif</link>
    </image>
    <generator>Hugo -- 0.154.5</generator>
    <language>en-US</language>
    <lastBuildDate>Mon, 08 Dec 2025 08:00:00 +0800</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/git/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Git cherry-pick</title>
      <link>http://localhost:1313/posts/git-cherry-pick/</link>
      <pubDate>Mon, 08 Dec 2025 08:00:00 +0800</pubDate>
      <guid>http://localhost:1313/posts/git-cherry-pick/</guid>
      <description>&lt;h3 id=&#34;patch-application&#34;&gt;Patch Application&lt;/h3&gt;
&lt;p&gt;补丁应用类似下面这样（Codex 使用的 OpenAI Patch 是不是借鉴的这个？）的描述文件变更的文本文件，通常包含：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;哪些文件被修改&lt;/li&gt;
&lt;li&gt;具体的行级变更&lt;/li&gt;
&lt;li&gt;上下文信息&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 创建补丁&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git diff &amp;gt; changes.patch          &lt;span class=&#34;c1&#34;&gt;# 未暂存的修改&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git diff --cached &amp;gt; changes.patch &lt;span class=&#34;c1&#34;&gt;# 已暂存的修改&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git format-patch HEAD~3           &lt;span class=&#34;c1&#34;&gt;# 最近 3 次提交生成补丁&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 应用补丁&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git apply changes.patch           &lt;span class=&#34;c1&#34;&gt;# 直接应用，不创建提交&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git am changes.patch              &lt;span class=&#34;c1&#34;&gt;# 应用并创建提交（用于format-patch生成的）&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;命令如 &lt;code&gt;git diff&lt;/code&gt;、&lt;code&gt;git stach&lt;/code&gt; 和 &lt;code&gt;git rebase&lt;/code&gt; 都使用 patch。&lt;/p&gt;
&lt;p&gt;这种修改方法，如果产生冲突则需要手动处理。&lt;/p&gt;
&lt;h3 id=&#34;3-way-merge&#34;&gt;3-Way Merge&lt;/h3&gt;
&lt;p&gt;三方合并则是一种智能的合并算法，使用三个版本来解决合并冲突：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-text&#34; data-lang=&#34;text&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      A - B (feature分支)
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     /
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Base
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     \
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;      C - D (main分支)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol&gt;
&lt;li&gt;Base: 共同的祖先提交&lt;/li&gt;
&lt;li&gt;Current: 当前分支的最新提交&lt;/li&gt;
&lt;li&gt;Incoming: 要合并进来的分支的最新提交&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;合并过程：&lt;/p&gt;</description>
    </item>
    <item>
      <title>Git Whitelist</title>
      <link>http://localhost:1313/posts/git-whitelist/</link>
      <pubDate>Fri, 08 Aug 2025 08:00:00 +0800</pubDate>
      <guid>http://localhost:1313/posts/git-whitelist/</guid>
      <description>&lt;p&gt;有时你开启了一个新的项目, 运行了 &lt;code&gt;cargo init&lt;/code&gt;、&lt;code&gt;uv init&lt;/code&gt; 和 &lt;code&gt;go mod init&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;这些命令创建了工作所需要的必要文件, 同时也在 &lt;code&gt;.gitignore&lt;/code&gt; 文件中添加了以下内容&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;target
__pycache__
bin
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;一切都很顺利, 你继续开发新功能, 等到时机成熟时就将项目发布到了 Git 托管平台上&lt;/p&gt;
&lt;p&gt;人们开始对你的项目感兴趣, 甚至有人决定为你实现一个新功能, 这简直是免费劳动力!&lt;/p&gt;
&lt;p&gt;当你查看代码, 发现了一个格格不入的文件 &lt;code&gt;.DS_Store&lt;/code&gt;, 你问那个人这是什么, 他说他根本不知道&lt;/p&gt;
&lt;p&gt;然后你只是将该文件从分支里面删除, 并把文件名加入了仓库的 &lt;code&gt;.gitignore&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;target
__pycache__
bin
.DS_Store
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;现在代码合并到了 &lt;code&gt;main&lt;/code&gt;, 仓库里只包含有用的内容&lt;/p&gt;
&lt;p&gt;接着, 另一人使用基于 Web 技术的 IDE 提交了另一个合并请求, 一看发现有一个完全无关的目录也被提交了, 于是 &lt;code&gt;.gitignore&lt;/code&gt; 里又增加了一条内容&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;target
__pycache__
bin
.DS_Store
.vscode
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;接下来, 有人使用 IntelliJ IDEA 提交了五百个 XML 文件和 .idea 目录, 这时又不得不将其加入 &lt;code&gt;.gitignore&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;target
__pycache__
bin
.DS_Store
.vscode
.idea
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;多年后, &lt;code&gt;.gitignore&lt;/code&gt; 已经有了上百行, 但是仍然时不时有各种奇怪的文件, 例如 &lt;code&gt;testscripts&lt;/code&gt;、&lt;code&gt;foo&lt;/code&gt;、&lt;code&gt;a&lt;/code&gt;、&lt;code&gt;qux&lt;/code&gt;、&lt;code&gt;data.tar.gz&lt;/code&gt;、&lt;code&gt;start.sh&lt;/code&gt;、&lt;code&gt;cat&lt;/code&gt; &amp;hellip;&amp;hellip;&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
