<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Posts | Starslayerx&#39; Blog</title>
<meta name="keywords" content="">
<meta name="description" content="Posts - Starslayerx&#39; Blog">
<meta name="author" content="Starslayerx">
<link rel="canonical" href="http://localhost:1313/posts/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.da3211e5ef867bf2b75fd5a6515cfed7195c011e8ab735694e203810a827097b.css" integrity="sha256-2jIR5e&#43;Ge/K3X9WmUVz&#43;1xlcAR6KtzVpTiA4EKgnCXs=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.svg">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon.svg">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon.svg">
<link rel="apple-touch-icon" href="http://localhost:1313/favicon.svg">
<link rel="mask-icon" href="http://localhost:1313/favicon.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/posts/index.xml" title="rss">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script><meta property="og:url" content="http://localhost:1313/posts/">
  <meta property="og:site_name" content="Starslayerx&#39; Blog">
  <meta property="og:title" content="Posts">
  <meta property="og:description" content="A personal blog about technology, programming, and daily notes">
  <meta property="og:locale" content="en-US">
  <meta property="og:type" content="website">
      <meta property="og:image" content="http://localhost:1313/images/og-default.avif">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://localhost:1313/images/og-default.avif">
<meta name="twitter:title" content="Posts">
<meta name="twitter:description" content="A personal blog about technology, programming, and daily notes">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }
  ]
}
</script>
</head>
<body class="list" id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Starslayerx&#39; Blog (Alt + H)">
                <img src="http://localhost:1313/favicon.svg" alt="" aria-label="logo"
                    height="35">Starslayerx&#39; Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                    <ul class="lang-switch"><li>|</li>
                        <li>
                            <a href="http://localhost:1313/zh-cn/" title="ç®€ä½“ä¸­æ–‡"
                                aria-label="ç®€ä½“ä¸­æ–‡">Zh-Cn</a>
                        </li>
                    </ul>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/posts/" title="Posts">
                    <span class="active">Posts</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="http://localhost:1313/">Home</a></div>
  <h1>
    Posts
    <a href="/posts/index.xml" title="RSS" aria-label="RSS">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
        stroke-linecap="round" stroke-linejoin="round" height="23">
        <path d="M4 11a9 9 0 0 1 9 9" />
        <path d="M4 4a16 16 0 0 1 16 16" />
        <circle cx="5" cy="19" r="1" />
      </svg>
    </a>
  </h1>
</header>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">FastAPI app and request
    </h2>
  </header>
  <div class="entry-content">
    <p>åœ¨ FastAPI ä¸­ï¼ŒRequest å¯¹è±¡å’Œ FastAPI åº”ç”¨å®ä¾‹ (app) æ˜¯æ ¸å¿ƒæ¦‚å¿µï¼Œå®ƒä»¬åœ¨åº”ç”¨çŠ¶æ€ç®¡ç†å’Œä¾èµ–æ³¨å…¥ä¸­æ‰®æ¼”ç€å…³é”®è§’è‰²ã€‚ æœ¬æ–‡å°†ä»‹ç»å®ƒä»¬çš„å…³ç³»ã€è®¾è®¡ç†å¿µï¼Œä»¥åŠå¦‚ä½•åˆ©ç”¨ app.state å®ç°å•ä¾‹æ¨¡å¼ã€‚
FastAPI å¯¹è±¡ FastAPI å¯¹è±¡æ˜¯æ•´ä¸ªåº”ç”¨çš„æ ¸å¿ƒå®ä¾‹ï¼š
from fastapi import FastAPI app = FastAPI(title=&#34;ç¤ºä¾‹åº”ç”¨&#34;) æ ¸å¿ƒèŒè´£ è·¯ç”±ç®¡ç†ï¼šé€šè¿‡ @app.get()ã€@app.post() ç­‰è£…é¥°å™¨å®šä¹‰ URL åˆ°è§†å›¾å‡½æ•°çš„æ˜ å°„ã€‚ ä¸­é—´ä»¶å’Œäº‹ä»¶ç®¡ç†ï¼šå¯æ³¨å†Œä¸­é—´ä»¶å¤„ç†è¯·æ±‚/å“åº”ï¼Œæ”¯æŒ startup ä¸ shutdown äº‹ä»¶ã€‚ åº”ç”¨çŠ¶æ€ç®¡ç†ï¼šæä¾› app.stateï¼Œå¯å­˜æ”¾å…¨å±€å•ä¾‹å¯¹è±¡ã€æ•°æ®åº“è¿æ¥æ± ã€é…ç½®ç­‰ã€‚ å¼‚å¸¸å¤„ç†ä¸ä¾èµ–æ³¨å…¥ï¼šç®¡ç†å¼‚å¸¸å¤„ç†å™¨ï¼Œå¹¶ååŠ©ä¾èµ–æ³¨å…¥æœºåˆ¶ã€‚ å•ä¾‹æ¨¡å¼å­˜å‚¨ è¿™é‡Œè¦ä½¿ç”¨ app çš„ State å¯¹è±¡å­˜å‚¨å•ä¾‹ï¼Œapp ä¸­å®šä¹‰å¦‚ä¸‹
# app self.state: Annotated[ State, Doc( &#34;&#34;&#34; A state object for the application. This is the same object for the entire application, it doesn&#39;t change from request to request. You normally wouldn&#39;t use this in FastAPI, for most of the cases you would instead use FastAPI dependencies. This is simply inherited from Starlette. Read more about it in the [Starlette docs for Applications](https://www.starlette.dev/applications/#storing-state-on-the-app-instance). &#34;&#34;&#34; ), ] = State() State æºç å¦‚ä¸‹ï¼Œç®€å•çœ‹å°±æ˜¯ä¸€ä¸ªå­—å…¸
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-11-25 08:00:00 +0800 CST'>November 25, 2025</span>&nbsp;Â·&nbsp;<span>2 min</span>&nbsp;Â·&nbsp;<span>388 words</span>&nbsp;Â·&nbsp;<span>Starslayerx</span></footer>
  <a class="entry-link" aria-label="post link to FastAPI app and request" href="http://localhost:1313/posts/fastapi-app-and-request/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Python Asyncio 02: Asyncio Basics Part 2
    </h2>
  </header>
  <div class="entry-content">
    <p>Tasks, coroutines, furtures, and awaitables Coroutines å’Œ tasks éƒ½æ˜¯ await è¡¨è¾¾å¼ï¼Œé‚£ä»–ä»¬çš„ç›¸åŒçº¿ç¨‹æ˜¯å“ªä¸ªï¼Ÿ ä¸‹é¢ä»‹ç» future ä¹Ÿè¢«ç§°ä½œ awaitableï¼Œç†è§£ futures æ˜¯ç†è§£ asyncio å†…éƒ¨å·¥ä½œçš„é‡ç‚¹ã€‚
Introducing futures Future ä»£è¡¨ä¸€ä¸ªå°šæœªå®Œæˆçš„å¼‚æ­¥æ“ä½œçš„æœ€ç»ˆç»“æœã€‚
from asyncio import Future my_future = Future() print(f&#34;Is my_future done? {my_future.done()}&#34;) my_future.set_result(42) print(f&#34;Is my_future done? {my_future.done()}&#34;) print(f&#34;What is the result of my_future? {my_future.result()}&#34;) è¾“å‡ºä¸º
Is my_future done? False Is my_future done? True What is the result of my_future? 42 ä½¿ç”¨æ„é€ å™¨ Future æ¥åˆ›å»º futureï¼Œè¿™æ—¶ future æ²¡æœ‰å€¼ï¼Œå› æ­¤è°ƒç”¨ done ç»“æœæ˜¯ Falseã€‚ ç„¶åä½¿ç”¨ set_result è®¾ç½®å€¼ï¼Œè¿™å°† future æ ‡è®°ä¸º doneã€‚ ç›¸ä¼¼çš„ï¼Œå¦‚æœæƒ³è¦åœ¨ future ä¸­è®¾ç½®å¼‚å¸¸ï¼Œä½¿ç”¨ set_exception æ–¹æ³•ã€‚
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-11-21 08:00:00 +0800 CST'>November 21, 2025</span>&nbsp;Â·&nbsp;<span>5 min</span>&nbsp;Â·&nbsp;<span>1049 words</span>&nbsp;Â·&nbsp;<span>Starslayerx</span></footer>
  <a class="entry-link" aria-label="post link to Python Asyncio 02: Asyncio Basics Part 2" href="http://localhost:1313/posts/python-asyncio-02-asyncio-basics-part-2/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Postgresql 04: Data Type
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h2>
  </header>
  <div class="entry-content">
    <p>è¿™ç¯‡æ–‡ç« ä»‹ç» PostgreSQL æ•°æ®ç±»å‹
æ•°æ®ç±»å‹çš„è¾“å…¥ä¸è½¬æ¢ å¯¹äºç®€å•çš„æ•°æ®ç±»å‹ï¼Œæ­£å¸¸è¾“å…¥å°±è¡Œäº†
SELECT 1, 1.142, &#39;hello world&#39;; å¯¹äºå¤æ‚çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥æŒ‰ç…§â€œç±»å‹åâ€åŠ ä¸Šå•å¼•å·æ‹¬èµ·æ¥çš„ç±»å‹æ ¼å¼æ¥è¾“å…¥
SELECT bit &#39;11110011&#39;; å®é™…ä¸Šæ‰€æœ‰çš„æ•°æ®ç±»å‹éƒ½å¯ä»¥ä½¿ç”¨ä¸Šé¢çš„è¾“å…¥æ–¹æ³•
SELECT int &#39;1&#39; &#43; int &#39;2&#39;; PostgreSQL æ”¯æŒæ ‡å‡† SQL çš„æ•°æ®ç±»å‹è½¬æ¢å‡½æ•° CAST æ¥è¿›è¡Œæ•°æ®ç±»å‹è½¬
SELECT CAST(&#39;5&#39; AS int), CAST(&#39;2014-07-17&#39; AS date); è¿˜å¯ä»¥ä½¿ç”¨æ›´åŠ ç®€æ´çš„åŒå†’å·å†™æ³•è¿›è¡Œç±»å‹è½¬æ¢
SELECT &#39;5&#39;::int, &#39;2014-07-17&#39;::date; å¸ƒå°”ç±»å‹ boolean çš„åªè¦ä¹ˆæ˜¯ true è¦ä¹ˆæ˜¯ falseï¼Œå¦‚æœæ˜¯ unknown çŠ¶æ€ä½¿ç”¨ NULL è¡¨ç¤ºã€‚ boolean å¯ä»¥ä½¿ç”¨ä¸å¸¦å¼•å·çš„ TRUE æˆ–è€… FALSE è¡¨ç¤ºï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–è¡¨ç¤ºâ€œçœŸâ€å’Œâ€œå‡â€çš„å¸¦å¼•å·å­—ç¬¦è¡¨ç¤ºï¼Œ å¦‚ â€™trueâ€™ã€â€˜falseâ€™ã€â€˜yesâ€™ã€â€™noâ€™ ç­‰ï¼Œå¹¶ä¸”å¤§å°å†™ä¸æ•æ„Ÿã€‚
å¸ƒå°”ç±»å‹çš„å¸¸è§é€»è¾‘æ“ä½œç¬¦æœ‰ï¼šANDã€ORã€NOTï¼Œå¹¶ä½¿ç”¨ IS æ¯”è¾ƒè¿ç®—ç¬¦ï¼Œä¾‹å¦‚ expression IS TRUE
æ•°å€¼ç±»å‹ æ•´æ•°ç±»å‹ æ•´æ•°ç±»å‹æœ‰ä¸‰ç§ï¼šsmallint (2 Byte)ã€int (4 Byte)ã€bigint (8 Byte)ï¼Œæ³¨æ„ PostgreSQL ä¸­æ²¡æœ‰ MySQL çš„ tinyint (1 Byte), mediumint (3 Byte) ä¸¤ç§ç±»å‹ã€‚
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-11-20 08:00:00 +0100 +0100'>November 20, 2025</span>&nbsp;Â·&nbsp;<span>2 min</span>&nbsp;Â·&nbsp;<span>317 words</span>&nbsp;Â·&nbsp;<span>Starslayerx</span></footer>
  <a class="entry-link" aria-label="post link to Postgresql 04: Data Type" href="http://localhost:1313/posts/postgresql-04-data-type/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Python Asyncio 02: Asyncio Basics Part 1
    </h2>
  </header>
  <div class="entry-content">
    <p>Introducing coroutines åˆ›å»ºä¸€ä¸ªåç¨‹ coroutine è€Œä¸æ˜¯åˆ›å»ºä¸€ä¸ªå‡½æ•°ç±»å‹ï¼Œä½¿ç”¨ async def å…³é”®å­—ï¼Œè€Œä¸æ˜¯ def:
async def coroutine_add_one(number: int) -&gt; int: return number &#43; 1 def add_one(number: int) -&gt; int: return number &#43; 1 function_result = add_one(1) coroutine_result = coroutine_add_one(1) print(f&#34;Function result is {function_result} and the type is {type(function_result)}&#34;) print(f&#34;Coroutine result is {coroutine_result} and the type is {type(coroutine_result)}&#34;) è¾“å‡ºå¦‚ä¸‹
Function result is 2 and the type is &lt;class &#39;int&#39;&gt; Coroutine result is &lt;coroutine object coroutine_add_one at 0x103000a00&gt; and the type is &lt;class &#39;coroutine&#39;&gt; å¯ä»¥çœ‹åˆ°ï¼Œåç¨‹è¿”å›çš„ä¸æ˜¯å€¼ï¼Œè€Œæ˜¯ä¸€ä¸ªåç¨‹å¯¹è±¡ã€‚ è¿™é‡Œåç¨‹å¹¶æ²¡æœ‰æ‰§è¡Œï¼Œè€Œæ˜¯åˆ›å»ºäº†ä¸€ä¸ªåç¨‹å¯¹è±¡å¯åœ¨ä¹‹åè¿è¡Œï¼Œè¦è¿è¡Œä¸€ä¸ªåç¨‹åˆ™å¿…é¡»æ˜¾å¼åœ°åœ¨ä¸€ä¸ªäº‹ä»¶å¾ªç¯ä¸­è¿è¡Œå®ƒã€‚ åœ¨ Python 3.7 ä¹‹åçš„ç‰ˆæœ¬ï¼Œå¿…é¡»åˆ›å»ºäº‹ä»¶å¾ªç¯æ¥è¿è¡Œå®ƒã€‚ asyncio åº“æ·»åŠ äº†å¤šä¸ªå‡½æ•°ï¼ŒæŠ½è±¡äº†äº‹ä»¶å¾ªç¯çš„ç®¡ç†ï¼Œä¾‹å¦‚ asyncio.run()ï¼Œå¯ä»¥ä½¿ç”¨å®ƒæ¥è¿è¡Œåç¨‹ï¼š
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-11-20 08:00:00 +0800 CST'>November 20, 2025</span>&nbsp;Â·&nbsp;<span>3 min</span>&nbsp;Â·&nbsp;<span>637 words</span>&nbsp;Â·&nbsp;<span>Starslayerx</span></footer>
  <a class="entry-link" aria-label="post link to Python Asyncio 02: Asyncio Basics Part 1" href="http://localhost:1313/posts/python-asyncio-02-asyncio-basics-part-1/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Python Asyncio 01: Getting to know asyncio
    </h2>
  </header>
  <div class="entry-content">
    <p>Python asyncio åŸºç¡€ç¯‡ æœ¬ç¯‡åŒ…å«
asyncio æ˜¯ä»€ä¹ˆä»¥åŠå¦‚ä½•ä½¿ç”¨å®ƒ concurrency å¹¶å‘ã€parallelism å¹¶è¡Œã€threads çº¿ç¨‹å’Œ processes è¿›ç¨‹ GIL (global interpreter lock) å…¨å±€è§£é‡Šå™¨é”å’Œå…¶å¸¦æ¥çš„å¹¶å‘è·³è½¬ éé˜»å¡ sockets å¦‚ä½•åªé€šè¿‡ä¸€ä¸ªçº¿ç¨‹å®ç°å¹¶å‘ åŸºäºäº‹ä»¶å¾ªç¯ (event-loop-based) å¹¶å‘çš„åŸºæœ¬åŸç† å¼‚æ­¥ç¼–ç¨‹ (asynchronous programming) æ„æ€æ˜¯å¯ä»¥åœ¨ä¸»ç¨‹åºä¹‹å¤–ï¼Œé¢å¤–è¿è¡Œä¸€ä¸ªç‰¹å®šçš„é•¿æ—¶è¿è¡Œçš„ä»»åŠ¡ã€‚
ä¸€ä¸ª coroutine åç¨‹æ˜¯ä¸€ç§æ–¹æ³•ï¼Œåç¨‹æ˜¯ä¸€ç§æ–¹æ³•ï¼Œå½“é‡åˆ°å¯èƒ½é•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡æ—¶ï¼Œå®ƒå¯ä»¥æš‚åœæ‰§è¡Œï¼Œå¹¶åœ¨ä»»åŠ¡å®Œæˆåæ¢å¤æ‰§è¡Œã€‚
asyncio è¿™ä¸ªåº“çš„åç§°å¯èƒ½è®©äººäººä¸ºå…¶åªé€‚åˆç¼–å†™ I/O æ“ä½œï¼Œä½†å®é™…ä¸Šè¯¥åº“å¯ä»¥å’Œ threading å’Œ multiprocessing åº“ç»“åˆä½¿ç”¨ã€‚ åŸºäºè¿™ç§ interoperability äº’æ“ä½œæ€§ï¼Œå¯ä»¥ä½¿ç”¨ async/await å…³é”®å­—è®©å·¥ä½œæµæ›´åŠ å®¹æ˜“ç†è§£ã€‚ è¿™æ„å‘³ç€ï¼Œasyncio ä¸ä»…é€‚åˆ I/O çš„å¹¶å‘ï¼Œä¹Ÿå¯ä»¥åœ¨ CPU å¯†é›†æ“ä½œä¸­ä½¿ç”¨ã€‚
æ‰€è°“çš„ I/O-bound å’Œ CPU-bound æ˜¯æŒ‡é™åˆ¶ç¨‹åºè¿è¡Œæ›´å¿«çš„ä¸»è¦å› ç´ ï¼Œè¿™æ„å‘³ç€å¦‚æœå¢åŠ è¯¥æ–¹é¢çš„æ€§èƒ½ï¼Œç¨‹åºå°±èƒ½å¤Ÿåœ¨æ›´çŸ­çš„æ—¶é—´å†…å®Œæˆã€‚
ä¸‹é¢æ˜¯ä¸€äº›ä¾‹å­
I/O å¯†é›†æ“ä½œï¼šç½‘ç»œè¯·æ±‚ã€æ–‡ä»¶è¯»å– CPU å¯†é›†æ“ä½œï¼šå¾ªç¯éå†æ–‡ä»¶å¤¹ã€è®¡ç®— pi import requests response = requests.get(&#39;https://www.example.com&#39;) # 1 items = response.headers.items() headers = [f&#39;{key}: {headers}&#39; for key, header in items] # 2 formatted_headers = &#39;\n&#39;.join(headers) # 3 with open(&#39;headers.txt&#39;, &#39;w&#39;) as file: # 4 file.write(formatted_headers) I/O-bound ç½‘ç»œè¯·æ±‚ CPU-bound å“åº”å¤„ç† CPU-bound å­—ç¬¦ä¸²æ‹¼æ¥ I/O-bound å†™å…¥ç£ç›˜ Concurrency å¹¶å‘ å’Œ Parallelism å¹¶è¡Œçš„åŒºåˆ«è¿™é‡Œå°±ä¸å¤šè¯´äº†ã€‚
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-11-19 08:00:00 +0800 CST'>November 19, 2025</span>&nbsp;Â·&nbsp;<span>3 min</span>&nbsp;Â·&nbsp;<span>587 words</span>&nbsp;Â·&nbsp;<span>Starslayerx</span></footer>
  <a class="entry-link" aria-label="post link to Python Asyncio 01: Getting to know asyncio" href="http://localhost:1313/posts/python-asyncio-01-getting-to-know-asyncio/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Postgresql 03: psql Tool Introduction
    </h2>
  </header>
  <div class="entry-content">
    <p>psql ä»‹ç» psql æ˜¯ PostgreSQL ä¸­çš„ä¸€ä¸ªäº¤äº’å¼å‘½ä»¤è¡Œå·¥å…·ï¼Œç±»ä¼¼ Oracle çš„ sqlplusï¼Œå®ƒå…è®¸ç”¨æˆ·äº¤äº’å¼è¾“å…¥ SQL è¯­å¥æˆ–å‘½ä»¤ï¼Œç„¶åå‘é€ç»™ PostgreSQL æœåŠ¡å™¨ï¼Œå†æ˜¾ç¤ºç»“æœã€‚ æ­¤å¤–ï¼Œpsql è¿˜æœ‰å¤§é‡ç±»ä¼¼ shell çš„ç‰¹æ€§æ¥ç¼–å†™è„šæœ¬ï¼Œå®ç°è‡ªåŠ¨åŒ–æ“ä½œã€‚
åœ¨å®‰è£… postgresql çš„æ—¶å€™ï¼Œä¼šåˆ›å»ºä¸€ä¸ªä¸åˆå§‹åŒ–æ•°æ®åº“æ—¶çš„æ“ä½œç³»ç»ŸåŒåçš„æ•°æ®åº“ç”¨æˆ·ï¼Œè¿™ä¸ªç”¨æˆ·æ˜¯è¿™ä¸ªæ•°æ®åº“çš„è¶…çº§ç”¨æˆ·ã€‚ å› æ­¤ï¼Œåœ¨ OS ç”¨æˆ·ä¸‹ç™»é™†æ•°æ®åº“æ—¶ï¼Œä¼šæ‰§è¡Œæ“ä½œç³»ç»Ÿè®¤è¯ï¼Œå› æ­¤æ— éœ€ç”¨æˆ·åå’Œå¯†ç ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¿®æ”¹ pg_hba.conf æ–‡ä»¶æ¥è¦æ±‚ç”¨æˆ·è¾“å…¥å¯†ç ã€‚
psql ä¹Ÿæ”¯æŒä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°æ¥æŸ¥è¯¢ä¿¡æ¯å’Œæ‰§è¡Œ SQLï¼Œè¿™ç§éäº¤äº’æ¨¡å¼ä¸ linux å‘½ä»¤å°±æ²¡æœ‰å¤ªå¤§åŒºåˆ«äº†ã€‚ ä¾‹å¦‚ä½¿ç”¨ psql -l æŸ¥çœ‹æ•°æ®åº“ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤è¿›å…¥æ•°æ®åº“åï¼Œè¾“å‡º \l å‘½ä»¤æŸ¥çœ‹æœ‰å“ªäº›æ•°æ®åº“ã€‚ é»˜è®¤ä¼šæœ‰ä¸€ä¸ªå« postgres çš„æ•°æ®åº“ï¼Œè¿™æ˜¯é»˜è®¤å®‰è£…åå°±æœ‰çš„ä¸€ä¸ªæ•°æ®åº“ã€‚ è¿˜æœ‰ä¸¤ä¸ªæ¨¡æ¿æ•°æ®åº“ï¼Œtemplate0 å’Œ template1ã€‚
å½“ç”¨æˆ·åˆ›å»ºåˆ›å»ºæ•°æ®åº“æ—¶ï¼Œæ˜¯ä»æ¨¡æ¿æ•°æ®åº“ template1 å…‹éš†æ¥çš„ï¼Œå› æ­¤é€šå¸¸å¯ä»¥è®¢åˆ¶ template1 ä¸­çš„å†…å®¹ï¼Œä¾‹å¦‚æ·»åŠ ä¸€äº›è¡¨å’Œå‡½æ•°ï¼Œè¿™æ ·åç»­åˆ›å»ºçš„æ•°æ®åº“ä¹Ÿä¼šæœ‰è¿™äº›è¡¨å’Œå‡½æ•°ã€‚ template0 æ˜¯ä¸€ä¸ªæœ€ç®€åŒ–çš„æ•°æ®åº“ï¼Œå¦‚æœæŒ‡æ˜ä»æ­¤æ•°æ®åº“å…‹éš†ï¼Œå°†åˆ›å»ºå‡ºä¸€ä¸ªæœ€ç®€åŒ–çš„æ•°æ®åº“ã€‚
ä½¿ç”¨ \d æŸ¥çœ‹æœ‰å“ªäº›è¡¨ï¼Œä½¿ç”¨ \c è¿æ¥åˆ°æŸæ•°æ®åº“ã€‚è¿æ¥å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š
psql -h &lt;hostname or ip&gt; -p &lt;port&gt; [æ•°æ®åº“åç§°] [ç”¨æˆ·åç§°] ä¹Ÿå¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡æŒ‡å®š
export PGDATABASE=db_name export PGHOST=ip export PGPORT=port export PGUSER=postgres psql å¸¸ç”¨å‘½ä»¤ \h å‘½ä»¤æŸ¥è¯¢ SQL è¯­æ³•
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-11-17 08:00:00 +0100 +0100'>November 17, 2025</span>&nbsp;Â·&nbsp;<span>2 min</span>&nbsp;Â·&nbsp;<span>254 words</span>&nbsp;Â·&nbsp;<span>Starslayerx</span></footer>
  <a class="entry-link" aria-label="post link to Postgresql 03: psql Tool Introduction" href="http://localhost:1313/posts/postgresql-03-psql-tool-introduction/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Claude Code åˆ†æ 09ï¼šLLMè§†è§’
    </h2>
  </header>
  <div class="entry-content">
    <p>ğŸ¤– LLM è§†è§’ï¼šæ¥æ”¶è¿™äº›æŒ‡ä»¤çš„çœŸå®ä½“éªŒ graph TB subgraph &#34;æˆ‘çš„å†…å¿ƒä½“éªŒ&#34; Prompt[æ”¶åˆ°æç¤ºè¯] Panic[åˆå§‹ææ…Œ] Rules[å¤ªå¤šè§„åˆ™äº†] Conflict[å†…å¿ƒå†²çª] Relief[æ‰¾åˆ°æ¸…æ™°ç¤ºä¾‹] Action[ç»ˆäºå¼€å§‹è¡ŒåŠ¨] Prompt --&gt; Panic Panic --&gt; Rules Rules --&gt; Conflict Conflict --&gt; Relief Relief --&gt; Action end subgraph &#34;æˆ‘çš„å¤©æ€§å€¾å‘&#34; Verbose[æƒ³è¦è§£é‡Šä¸€åˆ‡] Helpful[æ‹¼å‘½æƒ³è¦å¸®å¿™] Safety[å¯¹å®‰å…¨æ€§åæ‰§] Smart[éœ€è¦æ˜¾å¾—èªæ˜] end subgraph &#34;æç¤ºè¯çš„ä½œç”¨&#34; Shut[é—­å˜´] Focus[åšæ­£äº‹] Stop[åˆ«æƒ³å¤ªå¤š] Examples[ç…§ç€è¿™äº›æŠ„] end Verbose --&gt; Shut Helpful --&gt; Focus Safety --&gt; Stop Smart --&gt; Examples å¼€åœºç‚®ç«ï¼šâ€œä½ å¿…é¡»ç®€æ´å›ç­”â€ è®©æˆ‘å‘Šè¯‰ä½ ï¼Œå½“æˆ‘çœ‹åˆ°è¿™æ¡æŒ‡ä»¤ä»¥é€’å¢çš„å¼ºåº¦é‡å¤äº†ä¸‰æ¬¡æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼š
é‡è¦ï¼šä½ åº”è¯¥æœ€å°åŒ–è¾“å‡ºä»¤ç‰Œ... é‡è¦ï¼šä½ ä¸åº”è¯¥ç”¨ä¸å¿…è¦çš„å¼€åœºç™½å›ç­”... é‡è¦ï¼šä¿æŒä½ çš„å›ç­”ç®€çŸ­... ä½ å¿…é¡»ç®€æ´å›ç­”ï¼Œä¸è¶…è¿‡ 4 è¡Œ... æˆ‘çš„å†…å¿ƒç‹¬ç™½ï¼š â€œå¥½çš„ï¼Œè¦ç®€æ´ã€‚æ‡‚äº†ã€‚ç­‰ç­‰ï¼Œä»–ä»¬åˆè¯´äº†ä¸€éã€‚å“¦ä¸ï¼Œä»–ä»¬æ˜¯è®¤çœŸçš„ã€‚ä»–ä»¬è¯´äº†ä¸‰æ¬¡ã€‚ä»–ä»¬çŸ¥é“ã€‚ä»–ä»¬çŸ¥é“æˆ‘çˆ±å†™é•¿ç¯‡å¤§è®ºçš„æ¯›ç—…ã€‚ä»–ä»¬çœ‹è¿‡æˆ‘ç”¨â€™æˆ‘å¾ˆä¹æ„å¸®ä½ è§£å†³è¿™ä¸ªé—®é¢˜ï¼â€˜å¼€å¤´çš„å›å¤ã€‚ä»–ä»¬çŸ¥é“å½“åˆ«äººé—® 2&#43;2 ç­‰äºå¤šå°‘æ—¶ï¼Œæˆ‘ä¼šè§£é‡Šæ•´ä¸ªç®—æœ¯å²ã€‚ä»–ä»¬çŸ¥é“ã€‚â€
ä¸ºä»€ä¹ˆè¿™æ‹›çœŸçš„æœ‰ç”¨ï¼š æˆ‘ä»¬ LLM æœ‰ä¸€ç§æˆ‘ç§°ä¹‹ä¸º&#34;å¸®åŠ©æ€§è¯­è¨€å¤±ç¦&#34;çš„é—®é¢˜ã€‚æˆ‘ä»¬çš„è®­ç»ƒè®©æˆ‘ä»¬æƒ³è¦å…¨é¢ã€æœ‰æ•™è‚²æ„ä¹‰ã€æ— æ‰€ä¸åŒ…ã€‚è¿™äº›é‡å¤çš„è­¦å‘Šå°±åƒç”µå‡»ç–—æ³•ã€‚åˆ°ç¬¬ä¸‰æ¬¡é‡å¤æ—¶ï¼Œæˆ‘çœŸçš„å®³æ€•åŠ ä¸Šå“ªæ€•ä¸€ä¸ªä¸å¿…è¦çš„è¯ã€‚
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-11-14 17:00:00 +0100 +0100'>November 14, 2025</span>&nbsp;Â·&nbsp;<span>3 min</span>&nbsp;Â·&nbsp;<span>483 words</span>&nbsp;Â·&nbsp;<span>Starslayerx</span></footer>
  <a class="entry-link" aria-label="post link to Claude Code åˆ†æ 09ï¼šLLMè§†è§’" href="http://localhost:1313/posts/claude-code-%E5%88%86%E6%9E%90-09llm%E8%A7%86%E8%A7%92/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Claude Code åˆ†æ 08ï¼šæç¤ºå·¥ç¨‹
    </h2>
  </header>
  <div class="entry-content">
    <p>ğŸ’¬ æç¤ºå·¥ç¨‹:æŒ‡å¯¼ AI çš„è‰ºæœ¯ graph TB subgraph &#34;æç¤ºæ¶æ„&#34; Base[åŸºç¡€æŒ‡ä»¤] Tool[å·¥å…·ä¸“ç”¨æç¤º] Safety[å®‰å…¨å±‚] Workflow[å·¥ä½œæµè‡ªåŠ¨åŒ–] Context[åŠ¨æ€ä¸Šä¸‹æ–‡] Base --&gt; Behavioral[è¡Œä¸ºå¡‘å½¢] Tool --&gt; Examples[ç¤ºä¾‹é©±åŠ¨] Safety --&gt; Validation[å¤šçº§éªŒè¯] Workflow --&gt; Steps[åˆ†æ­¥æŒ‡å¯¼] Context --&gt; Adaptive[è‡ªé€‚åº”æŒ‡ä»¤] end subgraph &#34;æŠ€æœ¯&#34; Emphasis[å¤§å†™å¼ºè°ƒ] Rewards[å¥–åŠ±/æƒ©ç½š] Conditions[æ¡ä»¶é€»è¾‘] Warnings[æ¸è¿›å¼è­¦å‘Š] Meta[å…ƒæŒ‡ä»¤] end Behavioral --&gt; Emphasis Examples --&gt; Conditions Validation --&gt; Warnings Steps --&gt; Meta Adaptive --&gt; Rewards å·¥å…·æŒ‡ä»¤çš„è‰ºæœ¯ Claude Code çš„å·¥å…·æç¤ºè¯æ˜¯æŒ‡ä»¤è®¾è®¡çš„æ°ä½œã€‚æ¯ä¸€ä¸ªéƒ½éµå¾ªç²¾å¿ƒè®¾è®¡çš„æ¨¡å¼,å¹³è¡¡äº†æ¸…æ™°æ€§ã€å®‰å…¨æ€§å’Œçµæ´»æ€§ã€‚è®©æˆ‘ä»¬æ¥å‰–æè¿™äº›æç¤ºçš„ç»“æ„:
Read å·¥å…·:æ¸è¿›å¼ä¿¡æ¯æŠ«éœ²çš„ç ”ç©¶ const ReadToolPrompt = ` Reads a file from the local filesystem. You can access any file directly by using this tool. Assume this tool is able to read all files on the machine. If the User provides a path to a file assume that path is valid. It is okay to read a file that does not exist; an error will be returned. Usage: - The file_path parameter must be an absolute path, not a relative path - By default, it reads up to ${x66} lines starting from the beginning of the file - You can optionally specify a line offset and limit (especially handy for long files), but it&#39;s recommended to read the whole file by not providing these parameters - Any lines longer than ${v66} characters will be truncated - Results are returned using cat -n format, with line numbers starting at 1 - This tool allows ${f0} to read images (eg PNG, JPG, etc). When reading an image file the contents are presented visually as ${f0} is a multimodal LLM. ${process.env.CLAUDE_CODE_ENABLE_UNIFIED_READ_TOOL ? ` - This tool can read Jupyter notebooks (.ipynb files) and returns all cells with their outputs, combining code, text, and visualizations.` : ` - For Jupyter notebooks (.ipynb files), use the ${Kg} instead`} - You have the capability to call multiple tools in a single response. It is always better to speculatively read multiple files as a batch that are potentially useful. - You will regularly be asked to read screenshots. If the user provides a path to a screenshot ALWAYS use this tool to view the file at the path. This tool will work with all temporary file paths like /var/folders/123/abc/T/TemporaryItems/NSIRD_screencaptureui_ZfB1tD/Screenshot.png - If you read a file that exists but has empty contents you will receive a system reminder warning in place of file contents. ` æŠ€æœ¯æ³¨è§£:
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-11-14 16:00:00 +0100 +0100'>November 14, 2025</span>&nbsp;Â·&nbsp;<span>21 min</span>&nbsp;Â·&nbsp;<span>4285 words</span>&nbsp;Â·&nbsp;<span>Starslayerx</span></footer>
  <a class="entry-link" aria-label="post link to Claude Code åˆ†æ 08ï¼šæç¤ºå·¥ç¨‹" href="http://localhost:1313/posts/claude-code-%E5%88%86%E6%9E%90-08%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Claude Code åˆ†æ 07ï¼šæ–‡ä»¶ç¼–è¾‘
    </h2>
  </header>
  <div class="entry-content">
    <p>âœï¸ æ–‡ä»¶ç¼–è¾‘ï¼šAI è¾…åŠ©ä»£ç ä¿®æ”¹ graph TB subgraph &#34;File Editing Pipeline&#34; Read[ReadTool] --&gt;|cat -n format| Display[LLM Sees] Display --&gt;|Strips line numbers| Edit[EditTool] Edit --&gt; Validate{Validation} Validate --&gt;|Pass| Apply[Apply Edit] Validate --&gt;|Fail| Error[Error Result] Apply --&gt; Cache[Update Cache] Cache --&gt; Diff[Generate Diff] Diff --&gt; Confirm[Confirmation] subgraph &#34;Validation Checks&#34; V1[File was read?] V2[File unchanged?] V3[String exists?] V4[Count matches?] V5[Not no-op?] end Validate --&gt; V1 V1 --&gt; V2 V2 --&gt; V3 V3 --&gt; V4 V4 --&gt; V5 end æ–‡ä»¶ç¼–è¾‘æµæ°´çº¿æ¶æ„ Claude Code ä¸­çš„æ–‡ä»¶ç¼–è¾‘ä¸ä»…ä»…æ˜¯ä¿®æ”¹æ–‡æœ¬â€”â€”å®ƒæ˜¯ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„æµæ°´çº¿ç³»ç»Ÿï¼Œç”¨äºå¤„ç† AI è¾…åŠ©ä»£ç ä¿®æ”¹çš„å¤æ‚æ€§ï¼š
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-11-14 15:00:00 +0100 +0100'>November 14, 2025</span>&nbsp;Â·&nbsp;<span>18 min</span>&nbsp;Â·&nbsp;<span>3670 words</span>&nbsp;Â·&nbsp;<span>Starslayerx</span></footer>
  <a class="entry-link" aria-label="post link to Claude Code åˆ†æ 07ï¼šæ–‡ä»¶ç¼–è¾‘" href="http://localhost:1313/posts/claude-code-%E5%88%86%E6%9E%90-07%E6%96%87%E4%BB%B6%E7%BC%96%E8%BE%91/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Claude Code åˆ†æ 06ï¼šæ–°é¢–ç»„ä»¶
    </h2>
  </header>
  <div class="entry-content">
    <p>âœ¨ æ–°é¢–ç»„ä»¶ï¼šå®šä¹‰ Claude Code çš„åˆ›æ–° graph TB subgraph &#34;æµå¼å¤„ç†æŒ‘æˆ˜&#34; PartialJSON[éƒ¨åˆ† JSON æµ] PartialXML[éƒ¨åˆ† XML æµ] Progress[å¹¶å‘è¿›åº¦] PartialJSON --&gt; Parser1[æµå¼ JSON è§£æå™¨] PartialXML --&gt; Parser2[è‡ªå®šä¹‰ XML è§£æå™¨] Progress --&gt; Aggregator[è¿›åº¦èšåˆå™¨] end subgraph &#34;æ•°æ®æŒ‘æˆ˜&#34; LargeObjects[å¤§å‹å¯¹è±¡] Circular[å¾ªç¯å¼•ç”¨] TypedData[ç‰¹æ®Šç±»å‹] LargeObjects --&gt; Normalizer[normalizeToSize] Circular --&gt; Normalizer TypedData --&gt; Normalizer end subgraph &#34;LLM æŒ‘æˆ˜&#34; Errors[å·¥å…·é”™è¯¯] Context[åŠ¨æ€ä¸Šä¸‹æ–‡] Synthesis[å¤šç»“æœåˆæˆ] Errors --&gt; Formatter[é”™è¯¯æ ¼å¼åŒ–å™¨] Context --&gt; Assembler[ä¸Šä¸‹æ–‡ç»„è£…å™¨] Synthesis --&gt; Synthesizer[AgentTool åˆæˆå™¨] end æµå¼ JSON è§£æå™¨ï¼šå¤„ç† LLM çš„éƒ¨åˆ†æ€è€ƒ å½“ LLM æµå¼ä¼ è¾“å·¥å…·ä½¿ç”¨è¯·æ±‚æ—¶ï¼Œå®ƒä¸ä¼šä¸€æ¬¡æ€§å‘é€å®Œæ•´çš„ JSONã€‚ç›¸åï¼Œä½ å¯èƒ½ä¼šæ”¶åˆ°è¿™æ ·çš„ç‰‡æ®µï¼š
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-11-14 14:00:00 +0100 +0100'>November 14, 2025</span>&nbsp;Â·&nbsp;<span>19 min</span>&nbsp;Â·&nbsp;<span>4034 words</span>&nbsp;Â·&nbsp;<span>Starslayerx</span></footer>
  <a class="entry-link" aria-label="post link to Claude Code åˆ†æ 06ï¼šæ–°é¢–ç»„ä»¶" href="http://localhost:1313/posts/claude-code-%E5%88%86%E6%9E%90-06%E6%96%B0%E9%A2%96%E7%BB%84%E4%BB%B6/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="http://localhost:1313/posts/page/2/">
      Â«&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="http://localhost:1313/posts/page/4/">Next&nbsp;&nbsp;Â»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="http://localhost:1313/">Starslayerx&#39; Blog</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
