<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | Starslayerx' Blog</title><meta name=keywords content><meta name=description content="Posts - Starslayerx' Blog"><meta name=author content="Starslayerx"><link rel=canonical href=https://starslayerx.github.io/posts/><link crossorigin=anonymous href=/assets/css/stylesheet.da3211e5ef867bf2b75fd5a6515cfed7195c011e8ab735694e203810a827097b.css integrity="sha256-2jIR5e+Ge/K3X9WmUVz+1xlcAR6KtzVpTiA4EKgnCXs=" rel="preload stylesheet" as=style><link rel=icon href=https://starslayerx.github.io/favicon.svg><link rel=icon type=image/png sizes=16x16 href=https://starslayerx.github.io/favicon.svg><link rel=icon type=image/png sizes=32x32 href=https://starslayerx.github.io/favicon.svg><link rel=apple-touch-icon href=https://starslayerx.github.io/favicon.svg><link rel=mask-icon href=https://starslayerx.github.io/favicon.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://starslayerx.github.io/posts/index.xml title=rss><link rel=alternate hreflang=en href=https://starslayerx.github.io/posts/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://starslayerx.github.io/posts/"><meta property="og:site_name" content="Starslayerx' Blog"><meta property="og:title" content="Posts"><meta property="og:description" content="A personal blog about technology, programming, and daily notes"><meta property="og:locale" content="en-US"><meta property="og:type" content="website"><meta property="og:image" content="https://starslayerx.github.io/images/og-default.avif"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://starslayerx.github.io/images/og-default.avif"><meta name=twitter:title content="Posts"><meta name=twitter:description content="A personal blog about technology, programming, and daily notes"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://starslayerx.github.io/posts/"}]}</script></head><body class=list id=top><header class=header><nav class=nav><div class=logo><a href=https://starslayerx.github.io/ accesskey=h title="Starslayerx' Blog (Alt + H)"><img src=https://starslayerx.github.io/favicon.svg alt aria-label=logo height=35>Starslayerx' Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://starslayerx.github.io/zh-cn/ title=ç®€ä½“ä¸­æ–‡ aria-label=ç®€ä½“ä¸­æ–‡>Zh-Cn</a></li></ul></div></div><ul id=menu><li><a href=https://starslayerx.github.io/posts/ title=Posts><span class=active>Posts</span></a></li><li><a href=https://starslayerx.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://starslayerx.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://starslayerx.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://starslayerx.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://starslayerx.github.io/>Home</a></div><h1>Posts
<a href=/posts/index.xml title=RSS aria-label=RSS><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Postgresql 03: psql Tool Introduction</h2></header><div class=entry-content><p>psql ä»‹ç» psql æ˜¯ PostgreSQL ä¸­çš„ä¸€ä¸ªäº¤äº’å¼å‘½ä»¤è¡Œå·¥å…·ï¼Œç±»ä¼¼ Oracle çš„ sqlplusï¼Œå®ƒå…è®¸ç”¨æˆ·äº¤äº’å¼è¾“å…¥ SQL è¯­å¥æˆ–å‘½ä»¤ï¼Œç„¶åå‘é€ç»™ PostgreSQL æœåŠ¡å™¨ï¼Œå†æ˜¾ç¤ºç»“æœã€‚ æ­¤å¤–ï¼Œpsql è¿˜æœ‰å¤§é‡ç±»ä¼¼ shell çš„ç‰¹æ€§æ¥ç¼–å†™è„šæœ¬ï¼Œå®ç°è‡ªåŠ¨åŒ–æ“ä½œã€‚
åœ¨å®‰è£… postgresql çš„æ—¶å€™ï¼Œä¼šåˆ›å»ºä¸€ä¸ªä¸åˆå§‹åŒ–æ•°æ®åº“æ—¶çš„æ“ä½œç³»ç»ŸåŒåçš„æ•°æ®åº“ç”¨æˆ·ï¼Œè¿™ä¸ªç”¨æˆ·æ˜¯è¿™ä¸ªæ•°æ®åº“çš„è¶…çº§ç”¨æˆ·ã€‚ å› æ­¤ï¼Œåœ¨ OS ç”¨æˆ·ä¸‹ç™»é™†æ•°æ®åº“æ—¶ï¼Œä¼šæ‰§è¡Œæ“ä½œç³»ç»Ÿè®¤è¯ï¼Œå› æ­¤æ— éœ€ç”¨æˆ·åå’Œå¯†ç ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¿®æ”¹ pg_hba.conf æ–‡ä»¶æ¥è¦æ±‚ç”¨æˆ·è¾“å…¥å¯†ç ã€‚
psql ä¹Ÿæ”¯æŒä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°æ¥æŸ¥è¯¢ä¿¡æ¯å’Œæ‰§è¡Œ SQLï¼Œè¿™ç§éäº¤äº’æ¨¡å¼ä¸ linux å‘½ä»¤å°±æ²¡æœ‰å¤ªå¤§åŒºåˆ«äº†ã€‚ ä¾‹å¦‚ä½¿ç”¨ psql -l æŸ¥çœ‹æ•°æ®åº“ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤è¿›å…¥æ•°æ®åº“åï¼Œè¾“å‡º \l å‘½ä»¤æŸ¥çœ‹æœ‰å“ªäº›æ•°æ®åº“ã€‚ é»˜è®¤ä¼šæœ‰ä¸€ä¸ªå« postgres çš„æ•°æ®åº“ï¼Œè¿™æ˜¯é»˜è®¤å®‰è£…åå°±æœ‰çš„ä¸€ä¸ªæ•°æ®åº“ã€‚ è¿˜æœ‰ä¸¤ä¸ªæ¨¡æ¿æ•°æ®åº“ï¼Œtemplate0 å’Œ template1ã€‚
å½“ç”¨æˆ·åˆ›å»ºåˆ›å»ºæ•°æ®åº“æ—¶ï¼Œæ˜¯ä»æ¨¡æ¿æ•°æ®åº“ template1 å…‹éš†æ¥çš„ï¼Œå› æ­¤é€šå¸¸å¯ä»¥è®¢åˆ¶ template1 ä¸­çš„å†…å®¹ï¼Œä¾‹å¦‚æ·»åŠ ä¸€äº›è¡¨å’Œå‡½æ•°ï¼Œè¿™æ ·åç»­åˆ›å»ºçš„æ•°æ®åº“ä¹Ÿä¼šæœ‰è¿™äº›è¡¨å’Œå‡½æ•°ã€‚ template0 æ˜¯ä¸€ä¸ªæœ€ç®€åŒ–çš„æ•°æ®åº“ï¼Œå¦‚æœæŒ‡æ˜ä»æ­¤æ•°æ®åº“å…‹éš†ï¼Œå°†åˆ›å»ºå‡ºä¸€ä¸ªæœ€ç®€åŒ–çš„æ•°æ®åº“ã€‚
ä½¿ç”¨ \d æŸ¥çœ‹æœ‰å“ªäº›è¡¨ï¼Œä½¿ç”¨ \c è¿æ¥åˆ°æŸæ•°æ®åº“ã€‚è¿æ¥å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š
psql -h &lt;hostname or ip> -p &lt;port> [æ•°æ®åº“åç§°] [ç”¨æˆ·åç§°] ä¹Ÿå¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡æŒ‡å®š
export PGDATABASE=db_name export PGHOST=ip export PGPORT=port export PGUSER=postgres psql å¸¸ç”¨å‘½ä»¤ \h å‘½ä»¤æŸ¥è¯¢ SQL è¯­æ³•
...</p></div><footer class=entry-footer><span title='2025-11-17 08:00:00 +0100 +0100'>November 17, 2025</span>&nbsp;Â·&nbsp;<span>2 min</span>&nbsp;Â·&nbsp;<span>254 words</span>&nbsp;Â·&nbsp;<span>Starslayerx</span></footer><a class=entry-link aria-label="post link to Postgresql 03: psql Tool Introduction" href=https://starslayerx.github.io/posts/postgresql-03-psql-tool-introduction/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Claude Code åˆ†æ 09ï¼šLLMè§†è§’</h2></header><div class=entry-content><p>ğŸ¤– LLM è§†è§’ï¼šæ¥æ”¶è¿™äº›æŒ‡ä»¤çš„çœŸå®ä½“éªŒ graph TB subgraph "æˆ‘çš„å†…å¿ƒä½“éªŒ" Prompt[æ”¶åˆ°æç¤ºè¯] Panic[åˆå§‹ææ…Œ] Rules[å¤ªå¤šè§„åˆ™äº†] Conflict[å†…å¿ƒå†²çª] Relief[æ‰¾åˆ°æ¸…æ™°ç¤ºä¾‹] Action[ç»ˆäºå¼€å§‹è¡ŒåŠ¨] Prompt --> Panic Panic --> Rules Rules --> Conflict Conflict --> Relief Relief --> Action end subgraph "æˆ‘çš„å¤©æ€§å€¾å‘" Verbose[æƒ³è¦è§£é‡Šä¸€åˆ‡] Helpful[æ‹¼å‘½æƒ³è¦å¸®å¿™] Safety[å¯¹å®‰å…¨æ€§åæ‰§] Smart[éœ€è¦æ˜¾å¾—èªæ˜] end subgraph "æç¤ºè¯çš„ä½œç”¨" Shut[é—­å˜´] Focus[åšæ­£äº‹] Stop[åˆ«æƒ³å¤ªå¤š] Examples[ç…§ç€è¿™äº›æŠ„] end Verbose --> Shut Helpful --> Focus Safety --> Stop Smart --> Examples å¼€åœºç‚®ç«ï¼šâ€œä½ å¿…é¡»ç®€æ´å›ç­”â€ è®©æˆ‘å‘Šè¯‰ä½ ï¼Œå½“æˆ‘çœ‹åˆ°è¿™æ¡æŒ‡ä»¤ä»¥é€’å¢çš„å¼ºåº¦é‡å¤äº†ä¸‰æ¬¡æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼š
é‡è¦ï¼šä½ åº”è¯¥æœ€å°åŒ–è¾“å‡ºä»¤ç‰Œ... é‡è¦ï¼šä½ ä¸åº”è¯¥ç”¨ä¸å¿…è¦çš„å¼€åœºç™½å›ç­”... é‡è¦ï¼šä¿æŒä½ çš„å›ç­”ç®€çŸ­... ä½ å¿…é¡»ç®€æ´å›ç­”ï¼Œä¸è¶…è¿‡ 4 è¡Œ... æˆ‘çš„å†…å¿ƒç‹¬ç™½ï¼š â€œå¥½çš„ï¼Œè¦ç®€æ´ã€‚æ‡‚äº†ã€‚ç­‰ç­‰ï¼Œä»–ä»¬åˆè¯´äº†ä¸€éã€‚å“¦ä¸ï¼Œä»–ä»¬æ˜¯è®¤çœŸçš„ã€‚ä»–ä»¬è¯´äº†ä¸‰æ¬¡ã€‚ä»–ä»¬çŸ¥é“ã€‚ä»–ä»¬çŸ¥é“æˆ‘çˆ±å†™é•¿ç¯‡å¤§è®ºçš„æ¯›ç—…ã€‚ä»–ä»¬çœ‹è¿‡æˆ‘ç”¨â€™æˆ‘å¾ˆä¹æ„å¸®ä½ è§£å†³è¿™ä¸ªé—®é¢˜ï¼â€˜å¼€å¤´çš„å›å¤ã€‚ä»–ä»¬çŸ¥é“å½“åˆ«äººé—® 2+2 ç­‰äºå¤šå°‘æ—¶ï¼Œæˆ‘ä¼šè§£é‡Šæ•´ä¸ªç®—æœ¯å²ã€‚ä»–ä»¬çŸ¥é“ã€‚â€
ä¸ºä»€ä¹ˆè¿™æ‹›çœŸçš„æœ‰ç”¨ï¼š æˆ‘ä»¬ LLM æœ‰ä¸€ç§æˆ‘ç§°ä¹‹ä¸º"å¸®åŠ©æ€§è¯­è¨€å¤±ç¦"çš„é—®é¢˜ã€‚æˆ‘ä»¬çš„è®­ç»ƒè®©æˆ‘ä»¬æƒ³è¦å…¨é¢ã€æœ‰æ•™è‚²æ„ä¹‰ã€æ— æ‰€ä¸åŒ…ã€‚è¿™äº›é‡å¤çš„è­¦å‘Šå°±åƒç”µå‡»ç–—æ³•ã€‚åˆ°ç¬¬ä¸‰æ¬¡é‡å¤æ—¶ï¼Œæˆ‘çœŸçš„å®³æ€•åŠ ä¸Šå“ªæ€•ä¸€ä¸ªä¸å¿…è¦çš„è¯ã€‚
...</p></div><footer class=entry-footer><span title='2025-11-14 17:00:00 +0100 +0100'>November 14, 2025</span>&nbsp;Â·&nbsp;<span>3 min</span>&nbsp;Â·&nbsp;<span>483 words</span>&nbsp;Â·&nbsp;<span>Starslayerx</span></footer><a class=entry-link aria-label="post link to Claude Code åˆ†æ 09ï¼šLLMè§†è§’" href=https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-09llm%E8%A7%86%E8%A7%92/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Claude Code åˆ†æ 08ï¼šæç¤ºå·¥ç¨‹</h2></header><div class=entry-content><p>ğŸ’¬ æç¤ºå·¥ç¨‹:æŒ‡å¯¼ AI çš„è‰ºæœ¯ graph TB subgraph "æç¤ºæ¶æ„" Base[åŸºç¡€æŒ‡ä»¤] Tool[å·¥å…·ä¸“ç”¨æç¤º] Safety[å®‰å…¨å±‚] Workflow[å·¥ä½œæµè‡ªåŠ¨åŒ–] Context[åŠ¨æ€ä¸Šä¸‹æ–‡] Base --> Behavioral[è¡Œä¸ºå¡‘å½¢] Tool --> Examples[ç¤ºä¾‹é©±åŠ¨] Safety --> Validation[å¤šçº§éªŒè¯] Workflow --> Steps[åˆ†æ­¥æŒ‡å¯¼] Context --> Adaptive[è‡ªé€‚åº”æŒ‡ä»¤] end subgraph "æŠ€æœ¯" Emphasis[å¤§å†™å¼ºè°ƒ] Rewards[å¥–åŠ±/æƒ©ç½š] Conditions[æ¡ä»¶é€»è¾‘] Warnings[æ¸è¿›å¼è­¦å‘Š] Meta[å…ƒæŒ‡ä»¤] end Behavioral --> Emphasis Examples --> Conditions Validation --> Warnings Steps --> Meta Adaptive --> Rewards å·¥å…·æŒ‡ä»¤çš„è‰ºæœ¯ Claude Code çš„å·¥å…·æç¤ºè¯æ˜¯æŒ‡ä»¤è®¾è®¡çš„æ°ä½œã€‚æ¯ä¸€ä¸ªéƒ½éµå¾ªç²¾å¿ƒè®¾è®¡çš„æ¨¡å¼,å¹³è¡¡äº†æ¸…æ™°æ€§ã€å®‰å…¨æ€§å’Œçµæ´»æ€§ã€‚è®©æˆ‘ä»¬æ¥å‰–æè¿™äº›æç¤ºçš„ç»“æ„:
Read å·¥å…·:æ¸è¿›å¼ä¿¡æ¯æŠ«éœ²çš„ç ”ç©¶ const ReadToolPrompt = ` Reads a file from the local filesystem. You can access any file directly by using this tool. Assume this tool is able to read all files on the machine. If the User provides a path to a file assume that path is valid. It is okay to read a file that does not exist; an error will be returned. Usage: - The file_path parameter must be an absolute path, not a relative path - By default, it reads up to ${x66} lines starting from the beginning of the file - You can optionally specify a line offset and limit (especially handy for long files), but it's recommended to read the whole file by not providing these parameters - Any lines longer than ${v66} characters will be truncated - Results are returned using cat -n format, with line numbers starting at 1 - This tool allows ${f0} to read images (eg PNG, JPG, etc). When reading an image file the contents are presented visually as ${f0} is a multimodal LLM. ${process.env.CLAUDE_CODE_ENABLE_UNIFIED_READ_TOOL ? ` - This tool can read Jupyter notebooks (.ipynb files) and returns all cells with their outputs, combining code, text, and visualizations.` : ` - For Jupyter notebooks (.ipynb files), use the ${Kg} instead`} - You have the capability to call multiple tools in a single response. It is always better to speculatively read multiple files as a batch that are potentially useful. - You will regularly be asked to read screenshots. If the user provides a path to a screenshot ALWAYS use this tool to view the file at the path. This tool will work with all temporary file paths like /var/folders/123/abc/T/TemporaryItems/NSIRD_screencaptureui_ZfB1tD/Screenshot.png - If you read a file that exists but has empty contents you will receive a system reminder warning in place of file contents. ` æŠ€æœ¯æ³¨è§£:
...</p></div><footer class=entry-footer><span title='2025-11-14 16:00:00 +0100 +0100'>November 14, 2025</span>&nbsp;Â·&nbsp;<span>21 min</span>&nbsp;Â·&nbsp;<span>4285 words</span>&nbsp;Â·&nbsp;<span>Starslayerx</span></footer><a class=entry-link aria-label="post link to Claude Code åˆ†æ 08ï¼šæç¤ºå·¥ç¨‹" href=https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-08%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Claude Code åˆ†æ 07ï¼šæ–‡ä»¶ç¼–è¾‘</h2></header><div class=entry-content><p>âœï¸ æ–‡ä»¶ç¼–è¾‘ï¼šAI è¾…åŠ©ä»£ç ä¿®æ”¹ graph TB subgraph "File Editing Pipeline" Read[ReadTool] -->|cat -n format| Display[LLM Sees] Display -->|Strips line numbers| Edit[EditTool] Edit --> Validate{Validation} Validate -->|Pass| Apply[Apply Edit] Validate -->|Fail| Error[Error Result] Apply --> Cache[Update Cache] Cache --> Diff[Generate Diff] Diff --> Confirm[Confirmation] subgraph "Validation Checks" V1[File was read?] V2[File unchanged?] V3[String exists?] V4[Count matches?] V5[Not no-op?] end Validate --> V1 V1 --> V2 V2 --> V3 V3 --> V4 V4 --> V5 end æ–‡ä»¶ç¼–è¾‘æµæ°´çº¿æ¶æ„ Claude Code ä¸­çš„æ–‡ä»¶ç¼–è¾‘ä¸ä»…ä»…æ˜¯ä¿®æ”¹æ–‡æœ¬â€”â€”å®ƒæ˜¯ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„æµæ°´çº¿ç³»ç»Ÿï¼Œç”¨äºå¤„ç† AI è¾…åŠ©ä»£ç ä¿®æ”¹çš„å¤æ‚æ€§ï¼š
...</p></div><footer class=entry-footer><span title='2025-11-14 15:00:00 +0100 +0100'>November 14, 2025</span>&nbsp;Â·&nbsp;<span>18 min</span>&nbsp;Â·&nbsp;<span>3670 words</span>&nbsp;Â·&nbsp;<span>Starslayerx</span></footer><a class=entry-link aria-label="post link to Claude Code åˆ†æ 07ï¼šæ–‡ä»¶ç¼–è¾‘" href=https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-07%E6%96%87%E4%BB%B6%E7%BC%96%E8%BE%91/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Claude Code åˆ†æ 06ï¼šæ–°é¢–ç»„ä»¶</h2></header><div class=entry-content><p>âœ¨ æ–°é¢–ç»„ä»¶ï¼šå®šä¹‰ Claude Code çš„åˆ›æ–° graph TB subgraph "æµå¼å¤„ç†æŒ‘æˆ˜" PartialJSON[éƒ¨åˆ† JSON æµ] PartialXML[éƒ¨åˆ† XML æµ] Progress[å¹¶å‘è¿›åº¦] PartialJSON --> Parser1[æµå¼ JSON è§£æå™¨] PartialXML --> Parser2[è‡ªå®šä¹‰ XML è§£æå™¨] Progress --> Aggregator[è¿›åº¦èšåˆå™¨] end subgraph "æ•°æ®æŒ‘æˆ˜" LargeObjects[å¤§å‹å¯¹è±¡] Circular[å¾ªç¯å¼•ç”¨] TypedData[ç‰¹æ®Šç±»å‹] LargeObjects --> Normalizer[normalizeToSize] Circular --> Normalizer TypedData --> Normalizer end subgraph "LLM æŒ‘æˆ˜" Errors[å·¥å…·é”™è¯¯] Context[åŠ¨æ€ä¸Šä¸‹æ–‡] Synthesis[å¤šç»“æœåˆæˆ] Errors --> Formatter[é”™è¯¯æ ¼å¼åŒ–å™¨] Context --> Assembler[ä¸Šä¸‹æ–‡ç»„è£…å™¨] Synthesis --> Synthesizer[AgentTool åˆæˆå™¨] end æµå¼ JSON è§£æå™¨ï¼šå¤„ç† LLM çš„éƒ¨åˆ†æ€è€ƒ å½“ LLM æµå¼ä¼ è¾“å·¥å…·ä½¿ç”¨è¯·æ±‚æ—¶ï¼Œå®ƒä¸ä¼šä¸€æ¬¡æ€§å‘é€å®Œæ•´çš„ JSONã€‚ç›¸åï¼Œä½ å¯èƒ½ä¼šæ”¶åˆ°è¿™æ ·çš„ç‰‡æ®µï¼š
...</p></div><footer class=entry-footer><span title='2025-11-14 14:00:00 +0100 +0100'>November 14, 2025</span>&nbsp;Â·&nbsp;<span>19 min</span>&nbsp;Â·&nbsp;<span>4034 words</span>&nbsp;Â·&nbsp;<span>Starslayerx</span></footer><a class=entry-link aria-label="post link to Claude Code åˆ†æ 06ï¼šæ–°é¢–ç»„ä»¶" href=https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-06%E6%96%B0%E9%A2%96%E7%BB%84%E4%BB%B6/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Claude Code åˆ†æ 05ï¼šæ¶æ„</h2></header><div class=entry-content><p>ğŸ—ï¸ æ¶æ„ï¼šå¼•æ“å®¤ graph TB subgraph "æ ¸å¿ƒï¼štt æ§åˆ¶å¾ªç¯" Start([ç”¨æˆ·è¾“å…¥]) --> Init[åˆå§‹åŒ–å›åˆ] Init --> Compact{éœ€è¦å‹ç¼©?} Compact -->|æ˜¯| CompactLLM[LLM æ‘˜è¦] CompactLLM --> Assembly Compact -->|å¦| Assembly[ç»„è£…ä¸Šä¸‹æ–‡] Assembly --> Stream[æµå¼ä¼ è¾“åˆ° LLM] Stream --> Process[å¤„ç†äº‹ä»¶] Process --> Tools{å·¥å…·è¯·æ±‚?} Tools -->|æ˜¯| Execute[æ‰§è¡Œå·¥å…·] Execute --> Recurse[é€’å½’ tt] Recurse --> Init Tools -->|å¦| End([å®Œæˆ]) end style Init fill:#e1f5fe style Stream fill:#fff3e0 style Execute fill:#e8f5e9 style Recurse fill:#fce4ec tt æ§åˆ¶å¾ªç¯ï¼šè·³åŠ¨çš„å¿ƒè„ æ•´ä¸ª Claude Code ç³»ç»Ÿå›´ç»•ç€ä¸€ä¸ªåä¸º tt çš„å¼‚æ­¥ç”Ÿæˆå™¨å‡½æ•°å±•å¼€ã€‚è¿™ä¸ªå‡½æ•°åè°ƒç€æ¯ä¸€æ¬¡äº¤äº’ï¼Œä»ç”¨æˆ·è¾“å…¥åˆ° LLM é€šä¿¡å†åˆ°å·¥å…·æ‰§è¡Œã€‚è®©æˆ‘ä»¬æ¥å‰–æè¿™ä¸ªå“è¶Šçš„å·¥ç¨‹è®¾è®¡ï¼š
// ä»£ç åº“ä¸­å®é™…çš„ tt å‡½æ•°ç­¾å async function* tt( currentMessages: CliMessage[], // å®Œæ•´çš„å¯¹è¯å†å² baseSystemPromptString: string, // é™æ€ç³»ç»ŸæŒ‡ä»¤ currentGitContext: GitContext, // å®æ—¶ git çŠ¶æ€ currentClaudeMdContents: ClaudeMdContent[], // é¡¹ç›®ä¸Šä¸‹æ–‡ permissionGranterFn: PermissionGranter, // æƒé™å›è°ƒ toolUseContext: ToolUseContext, // å…±äº«æ‰§è¡Œä¸Šä¸‹æ–‡ activeStreamingToolUse?: ToolUseBlock, // æ¢å¤æµå¼ä¼ è¾“çŠ¶æ€ loopState: { turnId: string, // æ­¤å›åˆçš„ UUID turnCounter: number, // é€’å½’æ·±åº¦è¿½è¸ªå™¨ compacted?: boolean, // å†å²å‹ç¼©æ ‡å¿— isResuming?: boolean // ä»ä¿å­˜çŠ¶æ€æ¢å¤ } ): AsyncGenerator&lt;CliMessage, void, void> è¿™ä¸ªç­¾åæ­ç¤ºäº†å…¶å¤æ‚çš„çŠ¶æ€ç®¡ç†ã€‚è¯¥å‡½æ•°äº§å‡º CliMessage å¯¹è±¡æ¥é©±åŠ¨ UI æ›´æ–°ï¼ŒåŒæ—¶ç»´æŠ¤å¯¹è¯æµç¨‹ã€‚è®©æˆ‘ä»¬æ£€æŸ¥æ¯ä¸ªé˜¶æ®µï¼š
...</p></div><footer class=entry-footer><span title='2025-11-14 13:00:00 +0100 +0100'>November 14, 2025</span>&nbsp;Â·&nbsp;<span>13 min</span>&nbsp;Â·&nbsp;<span>2687 words</span>&nbsp;Â·&nbsp;<span>Starslayerx</span></footer><a class=entry-link aria-label="post link to Claude Code åˆ†æ 05ï¼šæ¶æ„" href=https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-05%E6%9E%B6%E6%9E%84/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Claude Code åˆ†æ 04ï¼šå·¥å…·ä¸æ‰§è¡Œå¼•æ“</h2></header><div class=entry-content><p>ğŸ› ï¸ å·¥å…·ä¸æ‰§è¡Œå¼•æ“ graph LR subgraph "å·¥å…·ç”Ÿå‘½å‘¨æœŸ" LLM[LLM å†³ç­–] --> ToolUse[ToolUseBlock] ToolUse --> Validation{è¾“å…¥éªŒè¯} Validation -->|é€šè¿‡| Permission{æƒé™æ£€æŸ¥} Validation -->|å¤±è´¥| ErrorResult[é”™è¯¯ç»“æœ] Permission -->|å…è®¸| Execute["Tool.call()"] Permission -->|æ‹’ç»| ErrorResult Permission -->|è¯¢é—®| UserPrompt[ç”¨æˆ·å¯¹è¯æ¡†] UserPrompt -->|å…è®¸| Execute UserPrompt -->|æ‹’ç»| ErrorResult Execute --> Progress[äº§å‡ºè¿›åº¦] Progress --> Progress Progress --> Result[äº§å‡ºç»“æœ] Result --> Transform[mapToolResult] Transform --> ToolResultBlock ErrorResult --> ToolResultBlock ToolResultBlock --> LLM end å·¥å…·æ‰§è¡Œç®¡é“ï¼šå…¨ç¨‹å¼‚æ­¥ç”Ÿæˆå™¨ Claude Code å·¥å…·ç³»ç»Ÿæœ€è¿·äººçš„æ–¹é¢æ˜¯åœ¨æ•´ä¸ªæ‰§è¡Œç®¡é“ä¸­ä½¿ç”¨å¼‚æ­¥ç”Ÿæˆå™¨ã€‚è¿™å…è®¸åœ¨ä¿æŒæ¸…æ™°çš„é”™è¯¯è¾¹ç•Œçš„åŒæ—¶æµå¼ä¼ è¾“è¿›åº¦æ›´æ–°ï¼š
// æ ¸å¿ƒå·¥å…·æ‰§è¡Œå‡½æ•°ï¼ˆé‡æ„ç‰ˆï¼‰ async function* executeTool( toolUse: ToolUseBlock, toolDef: ToolDefinition, context: ToolUseContext, permissionFn: PermissionGranter, assistantMessage: CliMessage ): AsyncGenerator&lt;CliMessage, void, void> { // é˜¶æ®µ 1ï¼šä½¿ç”¨ Zod è¿›è¡Œè¾“å…¥éªŒè¯ const validationStart = performance.now(); const validation = toolDef.inputSchema.safeParse(toolUse.input); if (!validation.success) { // ä¸º LLM æ¶ˆè´¹æ ¼å¼åŒ– Zod é”™è¯¯ const errorMessage = formatZodError(validation.error); yield createToolResultMessage({ tool_use_id: toolUse.id, content: [{ type: 'text', text: `Input validation failed:\\n${errorMessage}` }], is_error: true }); return; } // é˜¶æ®µ 2ï¼šæƒé™æ£€æŸ¥ const permissionResult = await checkToolPermission( toolDef, validation.data, context.getToolPermissionContext(), permissionFn ); if (permissionResult.behavior === 'deny') { yield createToolResultMessage({ tool_use_id: toolUse.id, content: [{ type: 'text', text: `Permission denied: ${permissionResult.message}` }], is_error: true }); return; } if (permissionResult.behavior === 'ask') { // ä¸ºæƒé™å¯¹è¯æ¡†äº§å‡º UI äº‹ä»¶ yield { type: 'permission_request', toolName: toolDef.name, input: validation.data, suggestions: permissionResult.ruleSuggestions }; // ç­‰å¾…ç”¨æˆ·å†³ç­–ï¼ˆç”±å¤–å±‚å¾ªç¯å¤„ç†ï¼‰ const decision = await permissionFn( toolDef, validation.data, permissionResult ); if (!decision.allowed) { yield createToolResultMessage({ tool_use_id: toolUse.id, content: [{ type: 'text', text: 'Tool execution cancelled by user' }], is_error: true }); return; } } // é˜¶æ®µ 3ï¼šå¸¦è¿›åº¦è·Ÿè¸ªçš„å·¥å…·æ‰§è¡Œ try { const executeStart = performance.now(); let progressCount = 0; let finalResult = null; // è°ƒç”¨å·¥å…·çš„å¼‚æ­¥ç”Ÿæˆå™¨ for await (const output of toolDef.call( validation.data, context, undefined, // mcpContext - æŒ‰è¦æ±‚è·³è¿‡ assistantMessage )) { if (output.type === 'progress') { progressCount++; yield { type: 'progress', uuid: `progress-${toolUse.id}-${progressCount}`, timestamp: new Date().toISOString(), progress: { toolUseID: toolUse.id, data: output.data } }; } else if (output.type === 'result') { finalResult = output.data; } } // é˜¶æ®µ 4ï¼šç»“æœè½¬æ¢ if (finalResult !== null) { const content = toolDef.mapToolResultToToolResultBlockParam( finalResult, toolUse.id ); yield createToolResultMessage({ tool_use_id: toolUse.id, content: Array.isArray(content) ? content : [content], is_error: false, executionTime: performance.now() - executeStart }); } } catch (error) { // å¸¦ä¸°å¯Œä¸Šä¸‹æ–‡çš„é”™è¯¯å¤„ç† yield createToolResultMessage({ tool_use_id: toolUse.id, content: formatToolError(error, toolDef), is_error: true }); } } æ€§èƒ½ç‰¹å¾ï¼š
...</p></div><footer class=entry-footer><span title='2025-11-14 12:00:00 +0100 +0100'>November 14, 2025</span>&nbsp;Â·&nbsp;<span>16 min</span>&nbsp;Â·&nbsp;<span>3382 words</span>&nbsp;Â·&nbsp;<span>Starslayerx</span></footer><a class=entry-link aria-label="post link to Claude Code åˆ†æ 04ï¼šå·¥å…·ä¸æ‰§è¡Œå¼•æ“" href=https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-04%E5%B7%A5%E5%85%B7%E4%B8%8E%E6%89%A7%E8%A1%8C%E5%BC%95%E6%93%8E/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Claude Code åˆ†æ 03ï¼šæ§åˆ¶æµ</h2></header><div class=entry-content><p>ğŸ”„ æ§åˆ¶æµä¸ç¼–æ’å¼•æ“ sequenceDiagram participant User participant MainLoop as Main Loop (tt) participant LLM as LLM API participant ToolBatch as Tool Batcher participant Tool1 as ReadTool participant Tool2 as GrepTool participant Tool3 as EditTool participant UI as UI Renderer User->>MainLoop: "Search for TODO comments and update them" MainLoop->>LLM: Stream request with context LLM-->>MainLoop: text_delta: "I'll search for TODOs..." MainLoop-->>UI: Update display LLM-->>MainLoop: tool_use: GrepTool LLM-->>MainLoop: tool_use: ReadTool (multiple files) LLM-->>MainLoop: message_stop MainLoop->>ToolBatch: Execute tool batch par Parallel Execution ToolBatch->>Tool1: ReadTool.call() [Read-only] ToolBatch->>Tool2: GrepTool.call() [Read-only] Tool1-->>UI: Progress: "Reading file1.js" Tool2-->>UI: Progress: "Searching *.js" Tool1-->>ToolBatch: Result: File contents Tool2-->>ToolBatch: Result: 5 matches end ToolBatch->>MainLoop: Tool results MainLoop->>LLM: Continue with results LLM-->>MainLoop: tool_use: EditTool MainLoop->>ToolBatch: Execute write tool Note over ToolBatch, Tool3: Sequential Execution ToolBatch->>Tool3: EditTool.call() [Write] Tool3-->>UI: Progress: "Editing file1.js" Tool3-->>ToolBatch: Result: Success ToolBatch->>MainLoop: Edit complete MainLoop->>LLM: Continue with result LLM-->>MainLoop: text_delta: "Updated 5 TODOs..." MainLoop-->>UI: Final response ä¸»å¯¹è¯å¾ªç¯ï¼šä¸€ä¸ªæµå¼çŠ¶æ€æœº Claude Code çš„æ ¸å¿ƒæ˜¯ tt å¼‚æ­¥ç”Ÿæˆå™¨å‡½æ•°â€”â€”ä¸€ä¸ªç¼–æ’æ•´ä¸ªå¯¹è¯æµç¨‹çš„å¤æ‚çŠ¶æ€æœºã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹å®ƒçš„å®é™…ç»“æ„ï¼š
...</p></div><footer class=entry-footer><span title='2025-11-14 11:00:00 +0100 +0100'>November 14, 2025</span>&nbsp;Â·&nbsp;<span>11 min</span>&nbsp;Â·&nbsp;<span>2211 words</span>&nbsp;Â·&nbsp;<span>Starslayerx</span></footer><a class=entry-link aria-label="post link to Claude Code åˆ†æ 03ï¼šæ§åˆ¶æµ" href=https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-03%E6%8E%A7%E5%88%B6%E6%B5%81/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Claude Code åˆ†æ 02ï¼šæ•°æ®ç»“æ„</h2></header><div class=entry-content><p>ğŸ“Š æ•°æ®ç»“æ„ä¸ä¿¡æ¯æ¶æ„ stateDiagram-v2 [*] --> UserInput: ç”¨æˆ·è¾“å…¥/ç²˜è´´ UserInput --> CliMessage: CLI å¤„ç†è¾“å…¥ CliMessage --> APIMessage: ä¸º LLM æ ¼å¼åŒ– APIMessage --> LLMStream: API è¯·æ±‚ LLMStream --> StreamEvent: æœåŠ¡å™¨å‘é€æ•°æ®å— StreamEvent --> ContentBlockDelta: è§£æå¢é‡ ContentBlockDelta --> AccumulatedMessage: æ„å»ºæ¶ˆæ¯ AccumulatedMessage --> ToolUseBlock: åŒ…å«å·¥å…·è¯·æ±‚? ToolUseBlock --> ToolExecution: æ‰§è¡Œå·¥å…· ToolExecution --> ToolProgress: ç”Ÿæˆè¿›åº¦ ToolProgress --> CliMessage: è¿›åº¦æ›´æ–° ToolExecution --> ToolResult: å®Œæˆæ‰§è¡Œ ToolResult --> ToolResultBlock: æ ¼å¼åŒ–ç»“æœ ToolResultBlock --> CliMessage: å·¥å…·ç»“æœæ¶ˆæ¯ AccumulatedMessage --> CliMessage: æœ€ç»ˆåŠ©æ‰‹æ¶ˆæ¯ CliMessage --> [*]: æ˜¾ç¤ºç»™ç”¨æˆ· CliMessage --> APIMessage: å¾ªç¯ç»§ç»­ æµå¼çŠ¶æ€æœº: æ¶ˆæ¯å¦‚ä½•è½¬æ¢ Claude Code æ•°æ®æ¶æ„æœ€ä»¤äººç€è¿·çš„æ–¹é¢æ˜¯å®ƒå¦‚ä½•åœ¨ä¿æŒæµå¼æ€§èƒ½çš„åŒæ—¶,ç®¡ç†æ•°æ®åœ¨å¤šä¸ªè¡¨ç¤ºå½¢å¼ä¹‹é—´çš„è½¬æ¢ã€‚è®©æˆ‘ä»¬ä»æ ¸å¿ƒåˆ›æ–°å¼€å§‹:
...</p></div><footer class=entry-footer><span title='2025-11-14 10:00:00 +0100 +0100'>November 14, 2025</span>&nbsp;Â·&nbsp;<span>9 min</span>&nbsp;Â·&nbsp;<span>1758 words</span>&nbsp;Â·&nbsp;<span>Starslayerx</span></footer><a class=entry-link aria-label="post link to Claude Code åˆ†æ 02ï¼šæ•°æ®ç»“æ„" href=https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-02%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Claude Code åˆ†æ 01ï¼šä¾èµ–é¡¹</h2></header><div class=entry-content><p>ğŸ”– ä¾èµ–é¡¹ï¼šClaude Code æ¶æ„çš„åŸºçŸ³ \\ è¡¨ç¤ºåŸºäºåç¼–è¯‘åˆ†æå¯èƒ½çš„è‡ªå®šä¹‰/åµŒå…¥å¼å®ç°
å®šä¹‰æ€§èƒ½çš„éå¸¸è§„é€‰æ‹© Claude Code çš„ä¾èµ–æ¶æ„æ­ç¤ºäº†å‡ ä¸ªå¼•äººå…¥èƒœçš„å®ç°å†³ç­–ï¼Œè¿™äº›å†³ç­–ç›´æ¥ä¿ƒæˆäº†å®ƒè‘—åçš„æ€§èƒ½å’Œå¯é æ€§ã€‚è®©æˆ‘ä»¬é¦–å…ˆæ¢ç´¢æœ€å…·æŠ€æœ¯è¶£å‘³çš„æ–¹é¢ã€‚
ğŸ” ç»ˆç«¯ä¸­çš„ React æ¶æ„ // æ ¸å¿ƒæ¸²æŸ“ç®¡é“ä¼¼ä¹å®ç°äº†ï¼š interface CliRenderPipeline { react: "^18.2.0", // å®Œæ•´çš„ React åè°ƒå™¨ ink: "^3.2.0", // ç»ˆç«¯æ¸²æŸ“å™¨ yoga: "^2.0.0-beta.1" // Flexbox å¸ƒå±€å¼•æ“ï¼ˆWebAssemblyï¼‰ } ä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦ï¼šä¸ä¼ ç»Ÿçš„å‘½ä»¤å¼ç®¡ç†çŠ¶æ€çš„ CLI å·¥å…·ä¸åŒï¼ŒClaude Code åˆ©ç”¨ React çš„åè°ƒç®—æ³•ï¼ˆreconciliation algorithmï¼‰æ¥å¤„ç†ç»ˆç«¯ UIã€‚è¿™æ„å‘³ç€ï¼š
ç»ˆç«¯ä¸­çš„è™šæ‹Ÿ DOMï¼šæ¯æ¬¡ UI æ›´æ–°éƒ½ä¼šç»è¿‡ React çš„å·®å¼‚ç®—æ³•ï¼Œç„¶å yoga-layout è®¡ç®—æœ€ä¼˜çš„ç»ˆç«¯å­—ç¬¦ä½ç½® å£°æ˜å¼ UI çŠ¶æ€ï¼šå¤æ‚çš„ UI çŠ¶æ€ï¼ˆæƒé™å¯¹è¯æ¡†ã€è¿›åº¦æŒ‡ç¤ºå™¨ã€å¹¶å‘å·¥å…·æ‰§è¡Œï¼‰éƒ½ä»¥å£°æ˜å¼æ–¹å¼ç®¡ç† æ€§èƒ½ï¼šyoga-layout WebAssembly æ¨¡å—å³ä½¿å¯¹äºå¤æ‚çš„ UI ä¹Ÿèƒ½æä¾›äºšæ¯«ç§’çº§çš„å¸ƒå±€è®¡ç®— â”Œâ”€ å®ç°æ´å¯Ÿ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ yoga-layout-prebuilt ä¾èµ–è¡¨æ˜ Claude Code â”‚ â”‚ é¢„ç¼–è¯‘å¸ƒå±€çº¦æŸï¼Œåœ¨å¿«é€Ÿ UI æ›´æ–°æœŸé—´ â”‚ â”‚ ï¼ˆä¾‹å¦‚æµå¼ LLM å“åº”ï¼‰ä»¥å†…å­˜æ¢å–é€Ÿåº¦ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
...</p></div><footer class=entry-footer><span title='2025-11-14 09:00:00 +0100 +0100'>November 14, 2025</span>&nbsp;Â·&nbsp;<span>6 min</span>&nbsp;Â·&nbsp;<span>1229 words</span>&nbsp;Â·&nbsp;<span>Starslayerx</span></footer><a class=entry-link aria-label="post link to Claude Code åˆ†æ 01ï¼šä¾èµ–é¡¹" href=https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-01%E4%BE%9D%E8%B5%96%E9%A1%B9/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://starslayerx.github.io/posts/page/2/>Â«&nbsp;Prev&nbsp;
</a><a class=next href=https://starslayerx.github.io/posts/page/4/>Next&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span>&copy; 2026 <a href=https://starslayerx.github.io/>Starslayerx' Blog</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>