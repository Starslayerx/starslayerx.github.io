<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Morden Javascript Tutorial Chapter 2 - Fundamentals: 11~18 | Starslayerx' Blog</title><meta name=keywords content="Javascript"><meta name=description content="2.11 Logical operators
There are four logical operators in JavaScript: || (ORA), && (AND), ! (NOT), ?? (Nullish Coalescing 空值合并).
|| OR
result = a || b
There are four logical combinations:
alter( true || true );   // true
alert( false || true );  // true
alert( true || false );  // true
alert( false || false ); // false
If an operand is not a boolean it&rsquo;s converted to be a boolean for the evaluation.
if (1 || 0) { // works like (true || false)
    alter('truthy!');
}
OR &ldquo;||&rdquo; finds the first truthy value
result = value1 || value2 || value3
The OR || operator does the following:"><meta name=author content="Starslayerx"><link rel=canonical href=https://starslayerx.github.io/posts/morden-javascript-tutorial-chapter-2-fundamentals-11~18/><link crossorigin=anonymous href=/assets/css/stylesheet.da3211e5ef867bf2b75fd5a6515cfed7195c011e8ab735694e203810a827097b.css integrity="sha256-2jIR5e+Ge/K3X9WmUVz+1xlcAR6KtzVpTiA4EKgnCXs=" rel="preload stylesheet" as=style><link rel=icon href=https://starslayerx.github.io/favicon.svg><link rel=icon type=image/png sizes=16x16 href=https://starslayerx.github.io/favicon.svg><link rel=icon type=image/png sizes=32x32 href=https://starslayerx.github.io/favicon.svg><link rel=apple-touch-icon href=https://starslayerx.github.io/favicon.svg><link rel=mask-icon href=https://starslayerx.github.io/favicon.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://starslayerx.github.io/posts/morden-javascript-tutorial-chapter-2-fundamentals-11~18/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://starslayerx.github.io/posts/morden-javascript-tutorial-chapter-2-fundamentals-11~18/"><meta property="og:site_name" content="Starslayerx' Blog"><meta property="og:title" content="Morden Javascript Tutorial Chapter 2 - Fundamentals: 11~18"><meta property="og:description" content="2.11 Logical operators There are four logical operators in JavaScript: || (ORA), && (AND), ! (NOT), ?? (Nullish Coalescing 空值合并).
|| OR result = a || b There are four logical combinations:
alter( true || true ); // true alert( false || true ); // true alert( true || false ); // true alert( false || false ); // false If an operand is not a boolean it’s converted to be a boolean for the evaluation.
if (1 || 0) { // works like (true || false) alter('truthy!'); } OR “||” finds the first truthy value result = value1 || value2 || value3 The OR || operator does the following:"><meta property="og:locale" content="en-US"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-09-21T08:00:00+08:00"><meta property="article:modified_time" content="2025-09-21T08:00:00+08:00"><meta property="article:tag" content="Javascript"><meta property="og:image" content="https://starslayerx.github.io/images/og-default.avif"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://starslayerx.github.io/images/og-default.avif"><meta name=twitter:title content="Morden Javascript Tutorial Chapter 2 - Fundamentals: 11~18"><meta name=twitter:description content="2.11 Logical operators
There are four logical operators in JavaScript: || (ORA), && (AND), ! (NOT), ?? (Nullish Coalescing 空值合并).
|| OR
result = a || b
There are four logical combinations:
alter( true || true );   // true
alert( false || true );  // true
alert( true || false );  // true
alert( false || false ); // false
If an operand is not a boolean it&rsquo;s converted to be a boolean for the evaluation.
if (1 || 0) { // works like (true || false)
    alter('truthy!');
}
OR &ldquo;||&rdquo; finds the first truthy value
result = value1 || value2 || value3
The OR || operator does the following:"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://starslayerx.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Morden Javascript Tutorial Chapter 2 - Fundamentals: 11~18","item":"https://starslayerx.github.io/posts/morden-javascript-tutorial-chapter-2-fundamentals-11~18/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Morden Javascript Tutorial Chapter 2 - Fundamentals: 11~18","name":"Morden Javascript Tutorial Chapter 2 - Fundamentals: 11~18","description":"2.11 Logical operators There are four logical operators in JavaScript: || (ORA), \u0026amp;\u0026amp; (AND), ! (NOT), ?? (Nullish Coalescing 空值合并).\n|| OR result = a || b There are four logical combinations:\nalter( true || true ); // true alert( false || true ); // true alert( true || false ); // true alert( false || false ); // false If an operand is not a boolean it\u0026rsquo;s converted to be a boolean for the evaluation.\nif (1 || 0) { // works like (true || false) alter(\u0026#39;truthy!\u0026#39;); } OR \u0026ldquo;||\u0026rdquo; finds the first truthy value result = value1 || value2 || value3 The OR || operator does the following:\n","keywords":["Javascript"],"articleBody":"2.11 Logical operators There are four logical operators in JavaScript: || (ORA), \u0026\u0026 (AND), ! (NOT), ?? (Nullish Coalescing 空值合并).\n|| OR result = a || b There are four logical combinations:\nalter( true || true ); // true alert( false || true ); // true alert( true || false ); // true alert( false || false ); // false If an operand is not a boolean it’s converted to be a boolean for the evaluation.\nif (1 || 0) { // works like (true || false) alter('truthy!'); } OR “||” finds the first truthy value result = value1 || value2 || value3 The OR || operator does the following:\nEvaluates operands from left to righit For each operand, converts it to boolean. if the result is true, stops and returns the original value of that operand If all operands are false, returns the last operand. alter( 1 || 0 ); // 1 alter( null || 1 ); // 1 alter( null || 0 || 1 ); // 1 alter( undefined || null || 0 ); // 0 (all falsy) If an operand is not a boolean, it’s converted to a boolean for the evaluation. For instance, the number 1 is treated as true, the 0 numebr as false.\nif (1 || 0) { // like if (true || false) alert( 'truthy!' ); } This leads something interesting usage compared to a “pure, classical, boolean-only OR”.\nGetting the first truthy value from a list of variables or exporessions\nFor instance, we have firstName, lastName, and nickName variabels, all optional. Let’s use OR || to choose the one that has the data and show it:\nlet firstName = \"\" let lastName = \"\" let nickName = \"\" alert(firstName || lastName || nickName || \"Anonymous\"); // SuperCode If all variables set false, “Annoymous” will show up.\nShort-cricuit evaluation\nIt means that || processes its arguments untill the first truthy value is reached, and then the value is returned immediately, without even touching the other argument.\nfalse || alert(\"not printed\") true || alert(\"printed\") Sometimes, people use this feature to execute commands only if the condition on the left part is falsy.\n\u0026\u0026 (AND) The AND operator is represented with two ampersands \u0026\u0026.\nresult = a \u0026\u0026 b AND “\u0026\u0026” finds the first falsy value Given mulitple AND’ed values:\nresult1 \u0026\u0026 result2 \u0026\u0026 result3 AND returns the first falsy value or the last value if none were found.\nExample:\n// if the first operand is truthy, returns the second operand: alert( 1 \u0026\u0026 0 ); // 0 alert( 1 \u0026\u0026 5 ); // 5 // if the first operand is falsy, returns the it. The second operand is ignored. alert( null \u0026\u0026 5 ); // null alert( 0 \u0026\u0026 \"no matter what\" ); // 0 ! (NOT) The boolean NOT operator is represented with an exclamation sign !. The syntax is pretty simple:\nresult = !value; The exclamation operator a single argument and does the following:\nConverts to operand to boolean type: true/false. Returns the inverse value. alert( !true ); // false alert( !0 ); // true A double NOT !! is sometimes used for converting a value to boolean type:\nalert( !!\"non-empty string\" ); // true alert( !!null ); // false Tasks\nWhat’s the result of OR’ed alerts?\nalert( alert(1) || 2 || alert(3) ); Answer: 1 and 2\nThe OR || evaluates alter(1). That’s shows message 1 and returns ‘undefined’. The alter returns undefined, so OR goes into the second operand. The 2 is truthy, so the execution is halted (停止), 2 is returned and then shown by the outer alert. What is the result of AND’ed alerts?\nalert( alert(1) \u0026\u0026 alert(2) ); Answer: 1 and undefined\nCheck the range between\nWrite an if condition to check that age is between 14 and 90 inclusively.\nif (age \u003e= 14 \u0026\u0026 age \u003c= 90) { alert(`Age is ${age}. Is between 14 and 90.`); } Check the range outside\nWrite and if condition to check that age is NOT between 14 and 90 inclusively. Create two variants (变体): the first one using NOT !, the second one - withoud it.\nif (!(age \u003e= 14 \u0026\u0026 age\u003c=90)) { alert(`Age is ${age}. Not between 14 and 90.`); } if (age \u003c 14 || age \u003e 90) { alert(`Age is ${age}. Not between 14 and 90.`); } A question about “if”\nWhich of these alerts are going to execute? What will the results of the expressions be inside if(…)?\nif (-1 || 0) alert( 'first' ); // runs if (-1 \u0026\u0026 0) alert( 'second' ); // doesn't run if (null || -1 \u0026\u0026 1) alert( 'third' ); // -\u003e null || (-1 \u0026\u0026 -1) // -\u003e null || -1 // -\u003e -1 Operator \u0026\u0026 has higher precedence (优先级) that ||.\nCheck the login\nWrite the code which asks for a login with prompt.\nIf the visitor enters \"Admin\", the prompt for a password, if the input is an empty line or Esc – show “Canceled”, if it’s another string – then show “I don’t know you”.\nThe password is checked as follows:\nIf it equals “TheMaster”, then show “Welcome!”, Another string – show “Wrong password”, For an empty string or canceled input, show “Canceled” let user = prompt(\"请输入用户名：\", \"\"); if (user === \"\" || user === null) { alter( \"Canceled\" ); } else if (user === \"Admin\") { let pass = prompt(\"请输入密码：\", \"\"); if (pass == \"\" || pass == null) { alert( \"Canceled\" ); } else if (pass == \"TheMaster\") { alert( \"Welcome!\" ); } else { alert( \"Wrong password\" ); } } else { alter( \"I don't know you\" ); } 注意点：\nprompt(text, defaultText): JavaScript 中用于获取用户输入的浏览器内置方法，它会显示一个对话框，包含提示信息、输入框和确定/取消按钮。text 为话框中显示的提示文本， defaultText 为输入框中的默认值。 从 prompt() 获取的输入可能为空字符，也可能为 null。 等号使用严格等于 === 而不是 ==。 2.12 Nullish coalescing operator ‘??’ The nullish coalescing operator (空值合并运算符) is written as two question marks ??.\nIt’s similar to || but only consider null and undefined as falsy. (|| consider 0, \"\", false, null and undefined as falsy.)\nThe result of a ?? b is:\nif a is defined, then a if a is not defined, then b In other words, ?? returns the first argument if it’s not null/undefined.\nWe can rewrite result = a ?? b using operators we alreadly know, like this:\nresult = (a !== null \u0026\u0026 a !== '') ? a : b; The common use for ?? is to provide default value.\nlet user; alert(user ?? \"Anonymous\"); // \"Annoymous\" user = \"John\"; alert(user ?? \"Anonymous\"); // \"John\" We can alos use a sequence of ?? to select the first value from a list that isn’t null/undefined.\nlet firstName = null; let lastName = null; let nickName = \"Supercoder\"; alert(firstName ?? lastName ?? nickName ?? \"Anonymous\"); // Supercoder Precedence The precedence of ?? and || operator is the same, they both equal 3 in the MDN table (higher than = and ?, but lower than + and *).\nUsing ?? with \u0026\u0026 or || Due to safety reasons, JavaScript forbids ?? together with \u0026\u0026 and || operators, unless the precedence is explicitly specificed with parentheses (括号).\nThe code below triggers a syntax error:\nlet x = 1 \u0026\u0026 2 ?? 3; // Syntax error Use explicit parentheses to work around it:\nlet x = (1 \u0026\u0026 2) ?? 3; // Works alert(x); // 2 2.13 Loops: while and for The “while” loop The while loop has the following syntax:\nwhile (condition) { // code: loop-body } The “do…while” loop do { // lop body } while (condition); The “for” loop for (let i = 0; i \u003c 3; i++) { alert(i); // 0, 1, 2 } Breaking the loop But we can force the exit at any time using the special break directive.\nlet sum = 0; while (true) { let value = +prompt(\"Enter a number\", \"\"); // + 号将 prompt() 获取的字符串转化为数字 if (!value) break; // (*) 非数字 sum += value; } alert(\"sum\" + sum); Continue to the next iteration The continue directive (指令) is a “lighter version” of break. It doesn’t stop the whole loop. Instead, it stops the current iteration and forces the loop to start a new one.\nfor (let i = 0; i \u003c 10; i++) { if (i % 2 === 0) continue; // skip alert enum numbers alert(i); // 1, then 3, 5, 7, 9 } Note that syntax constructs that are not expressions cannot be used with the ternary operator ?. In particular, directives such as break/continue aren’t allowed there. if (i \u003e 5) { alert(i); } else { continue; } can’t be write as (i \u003e 5) ? alert(i) : continue; // Syntax error: continue isn't allowed here Label for break/continue A label is an identifier with a colon before a loop:\nlabelName: for (...) { ... } A label can break mulitple loop, and break/input would break inner loop:\nouter: for (let i = 0; i \u003c 3; i++) { for (let j = 0; j \u003c 3: j++) { let input = prompt(`Value at corrds (${i}, ${j})`, ''); if (!input) break outer; // (*) } } alter(\"Done!\"); In the code above, break outer looks upwards for the label named outer and breaks out of that loop. So the control goes straight from (*) to alert('Done!').\nThe continue directive can also be used with a label. In this case, code execution jumps to the next iteration of the labeled loop.\n2.14 The “switch” statement A switch statement can replace multiple if checks. It gives a more descriptive way to compare a value with multiple variants.\nThe syntax The switch has one or more case blocks and an optional default.\nswitch (x) { case 'value1': ... [break] case 'value2': ... [break] default: ... [break] } An example An example of switch\nlet a = 2 + 2; switch (a) { case 3: alert( 'Too small' ); break; case 4: alert ( 'Exactly' ); break; case 5: alert ( 'Too big' ); break; default: alert(\"I don't know such values\"); } Here the switch starts to compare a from the first case untill case 4 and then breaks.\nIf there is no break then the execution continues with the next case without any checks.\nlet a = 2 + 2; switch (a) { case 3: alert( 'Too small' ); case 4: alert( 'Exactly!' ); case 5: alert( 'Too big' ); default: alert( \"I don't know such valeus\" ); } In the example above we’ll see sequential execution of three alerts:\nalert( 'Exactly!' ); alert( 'Too big' ); alert( \"I don't know such values\" ); Grouping of “case” Serval variants of case which share the same code can be grouped. For example, we want the same code for case 3 and case 5:\nlet a = 3; switch (a) { case 4: alert('Right!'); break; case 3: case 5: alert('Wrong!'); break; default: alert('The result is strange. Really.'); } Now both 3 and 5 show the same message.\nType matters The equality check is always strict. The values must be of the same type to match.\nFor example:\nlet arg = prompt('Enter a value?'); switch (arg) { case '0': case '1': alert( 'One or zero' ); break; case '2': alert( 'Two' ); break; case 3: // '3' will not execute this block alert( 'Never executes!' ); break; default: alert( 'An unkown value' ); } 2.15 Functions Function Declaration To create a function, use function declaration:\nfunction name(parameter1, paprameter2, ... parameterN) { // body } Local variables A variable declared inside a function is only visible inside that function.\nfunction showMessage() { let message = \"Hello, I'm JavaScript!\"; // local variable alert( message ); } showMessage(); // Hello, I'm JavaScript! alert( message ); // \u003c-- Error! The variable is local to the function Outer variables A function can access an outer variable as well.\nlet userName = 'John'; function showMessage() { let message = 'Hello, ' + userName; alert(message); } showMessage(); // Hello, John The function has full access to the outer variable. It can modify it as well.\nlet userName = 'John'; function showMessage() { userName = \"Bob\"; // (1) changed the outer variable let message = 'Hello, ' + userName; alert(message); } alert( userName ); // John before the function call showMessage(); alert( userName ); // Bob, the value was modified by the function The outer variable is only used if there’s no local one.\nIf a same-named variable is declared inside the function then it shadows the outer one. For instance, in the code below the function uses the local userName. The outer one is ignored:\nlet userName = 'John'; function showMessage() { let userName = \"Bob\"; // declare a local variable let message = 'Hello, ' + userName; // Bob alert(message); } // the function will create and use its own userName showMessage(); alert( userName ); // John, unchanged, the function did not access the outer variable Parameters We can pass arbitrary data to functions using parameters. In the example below, the function has two parameters: from and text.\nfunction showMessage(from, text) { // parameters: from, text alert(from + ': ' + text); } showMessage('Ann', 'Hello!'); // Ann: Hello! (*) showMessage('Ann', \"What's up?\"); // Ann: What's up? (**) Default Values If a function is called, but an argument is not provided, then the corresponding value becomes undefined.\nFor example, the aforementioned function showMessage(from, text) can be called with a single argument.\nshowMessage(\"Ann\"); That’s not an error. Such a call would output \"*Ann*: undefined\". As the value for text isn’t passed, it becomes undefined, like this:\nshowMessage(\"Ann\", undefined); // Ann: no text given We can specify the so-called “default” (to use if omitted) value for a parameter in the function declaration, using =:\nfunction showMessage(from, text = \"no text given\") { alert( from + \": \" + text ); } showMessage(\"Ann\"); // Ann: no text given showMessage(\"Ann\", undefined); // Ann: no text given Here \"no text given\" is a string, but it can be a more complex expression, which is only evaluated and assigned if the parameter is missing. So, this is also possible:\nfunction showMessage(from, text = anotherFunction()) { // anotherFunction() only executed if no text given // its result becomes the value of text } Alternative default parameters\nSometimes it makes sense to assign default values for parameters at a later stage after the function declaration.\nWe can check if the parameter is passed during the function execution, by comparing it with undefined:\nfunction showMessage(text) { if (text === undefined) { // if the parameter is missing text = 'empty message'; } alert(text); } showMessage(); // empty message …Or we could use the || operator:\nfunction showMessage(text) { // if text is undefined or otherwise falsy, set it to 'empty' text = text || 'empty'; ... } Modern JavaScript engines support the nullish coalescing (合并) operator ??, it’s better when most falsy values, such as 0, should be considered “normal”:\nfunction showCount(count) { // if count is undefined or null, show \"unknown\" alert(count ?? \"unknown\"); } showCount(0); // 0 showCount(null); // unknown showCount(); // unknown Returning a value A function can return a value back into the calling code as the result. The simplest example would be a function that sums two values:\nfunction sum(a, b) { return a + b; } let result = sum(1, 2); alert( result ); // 3 If a function does not return a value, it is the same as if it returns undefined:\nfunction doNothing() { /* empty */ } alert( doNothing() === undefined ); // true An empty return is also the same as return undefined:\nfunction doNothing() { return; } alert( doNothing() === undefined ); // true Naming a function Functions are actions. So their name is usually a verb. It is a widespread practice to start a function with a verbal prefix which vaguely describes the action.\nFunction starting with…\n\"get…\" – return a value, \"calc…\" – calculate something, \"create…\" – create something, \"check…\" – check something and return a boolean, etc. showMessage(..) // shows a message getAge(..) // returns the age (gets it somehow) calcSum(..) // calculates a sum and returns the result createForm(..) // creates a form (and usually returns it) checkPermission(..) // checks a permission, returns true/false One function – one action\nA function should do exactly what is suggested by its name, no more.\nTwo independent actions usually deserve two functions, even if they are usually called together (in that case we can make a 3rd function that calls those two).\nUltrashort function names\nFunctions that are used very often sometimes have ultrashort names.\nFor example, the jQuery framework defines a function with $. The Lodash library has its core function named _.\nThese are exceptions. Generally function names should be concise and descriptive.\nFunction == Comments Functions should be short and do exactly one thing. If that thing is big, maybe it’s worth it to split the function into a few smaller functions. Sometimes following this rule may not be that easy, but it’s definitely a good thing.\nA separate function is not only easier to test and debug – its very existence is a great comment!\nFor instance, compare the two functions showPrimes(n) below. Each one outputs prime numbers up to n.\nThe first variant uses a label:\nfunction showPrimes(n) { nextPrime: for (let i = 2; i \u003c n; i++) { for (let j = 2; j \u003c i; j++) { if (i % j == 0) continue nextPrime; } alert( i ); // a prime } } The second variant uses an additional function isPrime(n) to test for primality:\nfunction showPrimes(n) { for (let i = 2; i \u003c n; i++) { if (!isPrime(i)) continue; alert(i); // a prime } } function isPrime(n) { for (let i = 2; i \u003c n; i++) { if ( n % i == 0) return false; } return true; } The second variant is easier to understand.\nTasks\nRewrite the function using ‘?’ or ‘||’\nfunction checkAge(age) { if (age \u003e 18) { return true; } else { return confirm('Did parents allow you?'); } } Rewrite it, to perform the same, but without if, in a single line.\nMake two variants of checkAge:\nUsing a question mark operator ? Using OR || function checkAge(age) { return age \u003e 18 ? true : confirm('Did parents allow you?'); return true === (age \u003e 18) || confirm('Did parents allow you?'); } 2.16 Function expressions Function Declaration\nfunction sayHi() { alert( \"Hello\" ); } Function Expression\nlet sayHi = function() { alert( \"Hello\" ); }; // semicolon 分号 Function is a value Let’s reiterate (重申): no matter how the function is created, a function is a value. Both examples above sotre a function in the sayHi variable.\nfunction sayHi() { alert( \"Hello\" ); } alert( sayHi ); // shows the function code The lastline won’t run the code, because there are no parentheses after sayHi.\nWe can copy a function to another variable.\nfunction sayHi() { alert( \"Hello\" ); } let func = sayHi; func(); // \"Hello\" sayHi(); // \"Hello\" Callback functions function ask(question, yes, no) { if (confirm(question)) yes() // \"确定\" / \"取消\" 按钮对话框 else no(); } function showOk() { alert( \"You agred.\" ); } function showCancel() { alert( \"You canceled the execution.\" ); } ask(\"Don you agres?\", showOk, showCancel); The arguments showOk and showCancel of ask are called callback functions or just callbacks.\nThe idea is that we pass a function and except it to be “called back” later if necessary. In this case, showOk becomes the callback for “yes” answer, and showCancel fo “no” answer.\nWe can use Function Expressions to write a equivalent shorter function:\nfunction ask(question, yes, no) { if (confirm(question)) yes() else no(); } ask( \"Do you agree?\", function() { alert(\"You agreed.\"); }, function() { alert(\"You didn't agree.\"); }, ) Function Expression vs Function Declaration The key difference between Function Expression and Function Declaration:\nFunction Declaration: a function, declared as a separate statement.\nfunction sum(a, b) { return a + b; } Function Expression: a function, declaured inside an expression or inside anther syntax construct.\nlet sum = function(a, b) { return a + b; }; The more subtle difference is when a function is created by the JavaScript engine:\nA Function Expression is created when the execution reaches it and is usable only from that moment.\nA Function Declaration can be called earlier than it is defined.\nIn strict mode, when a Function Declaration is within a code block, it’s visible everywhere inside that block. But not outside of it.\nlet age = prompt(\"What's your age?\", 18); if (age \u003c 18) { function welcome() { alert('Hello'); } } else { function welcome() { alert('Greetings!'); } } welcome(); // Error: welcome is not defined The correct approch would be to use a Function Expression and assign weclome to the variable that is declared outside of if and has the proper visibility.\nlet age = prompt(\"What is your age?\", 18); let welcome; if (age \u003c 18) { welcome = function() { alert('Hello'); }; } else { welcome = function() { alert('Greetings'); } } welcome(); // ok now We can simplify it even further using an question mark operator ?:\nlet age = prompt(\"What's your age?\", 18); let welcome = age \u003c 18 ? function() { alert('Hello'); } : function() { alert('Greetings'); }; welcome(); // ok 2.17 Arrow functions, the basics “arrow functions” looks like this:\nlet func = (arg1, arg2, ..., argN) =\u003e expression; let’s create some concrete examples:\nlet sum = (a, b) =\u003e a + b; alert( sum(1, 2) ); // 3 // one arugemnt let double = (a) =\u003e a * 2; alert( double(1) ); // 2 // no argument let sayHi = () =\u003e alert(\"Hello!\"); alert( sayHi() ); Arrow functions can be used in the same way as Function Expressions.\nlet age = prompt(\"What's your age?\", 18); let welcome = (age \u003c 18) ? () =\u003e alert('Hello') : () =\u003e alert('Greetings'); welcome() Multiline arrow functions Sometime we need a more complex function with multiple expressions. In that case, we can enclose (包含) them in curly braces (大括号).\nlet sum = (a, b) =\u003e { let result = a + b; return result; // with curly braces, need an explicit \"return\" } alert(1, 2); // 3 Rewrite with arrow functions\nReplace Function Expressions with arrow functions in the code below:\nfunction ask(question, yes, no) { if (confirm(question)) yes(); else no(); } ask( \"Do you agree?\", function() { alert(\"You agreed.\"); }, function() { alert(\"You canceled the execution.\"); } ); Note that there is an semicolon after a function call (two parentheses).\nfunction ask(question, yes, no) { if (confirm(question)) yes(); // 注意分号 else no(); } ask( \"Do you agree?\", () =\u003e alert(\"You agreed.\"), () =\u003e alert(\"You canceled the execution.\") ); 2.18 JavaScript specials Code Structure Statements are delimited (分隔) with semicolon (分号):\nalert('Hello'); alert('World'); Usually a line-break is also treated as a delimiter (分隔符), so that would also work.\nalter('Hello') alter('World') It’s called “automatic semicolon insertion”. Sometimes it doesn’t work, for instance:\nalert(\"There will be an error after this message\") [1, 2].forEach(alert) Semicolon are not required after code blocks {...} and syntax constructs with them like loops:\nfunction f() { } // no semicolon needed for(;;) { } // no semicolon needed Strict mode To fully enable all features of morden JavaScript, use start script \"use strict\"\n\"use strict\" ... The directive (指令) must at the top of the script or at the beganing of a function body.\nVariables Can be declared using:\nlet const var (old style) A variable name can include:\nletter and digits, but the first character may not be digit. Characters $ and _ are normal Non-latin aiphabets and hieroglyphs (象形文字) are also allowed, but commonly not used. There are 8 data types:\nnumber for both floating-point and integer numbers. bigint for integer of arbitrary length. string fot strings boolean for logical values true/false null a type with single value, meaning “empty” or “doesn’t not exist” undefined a type with single value, meaning “not assigned” object and symbol - for complex data structures and unique identifiers The typeof operator returns the type for a value, with two execptions:\ntypeof null == \"object\" // an error in the language typeof function() {} == \"function\" // functions are treated speically Interaction Basic browser UI functions\nprompt(question, [default])\nAsk a question, and return either the visitor entered or null if they click “cancel”.\nconfirm(question)\nAsk a question, and suggest to choose Ok and Cancel. The choice is returned as true/false.\nalert(message)\nOutput a message.\nFor instance:\nlet userName = prompt(\"Your name?\", \"Alice\"); let isTeaWanted = confirm(\"Do u want tea?\"); alert( \"Visitor: \" + userName ); alert( \"Tea wantd: \" + isTeaWanted ); Operators JavaScript supports the following operators:\nArithmetical\nRegular: + - * /, also % for the remainder and ** for power of a number.\nThe binary plus + concatenates strings. And if any of the operands is a string, the other one is convertd too.\nalert('1' + 2); // '12', string alert(1 + '2'); // '12', string Assignments\nThere is a simple assigment: a = b and combined ones like a *= 2\nBitwise\nBitwise operators work with 32-bit integers at the lowest, bit-level.\nConditional\nThe only operator with three parameters: cord ? resultA : resultB.\nLogical operators\nLogical AND \u0026\u0026 and OR || perform short-circuit evaluation and then return the value it stopped. Logical NOT ! converts the operand to boolean type and returns the inverse value.\nNullish coalescing operator\nThe ?? operator provids a way to choose a defined value from a list of variables. The result of a ?? b is a unless it’s null / undefined, them b.\nComparisons\nEquality check == for values of different types converts them to a number, so these are euqal:\nalert( 0 == false ); // true alert( 0 == '' ); // true Other comperisons convert to a number as well.\nThe strict equality operator === doesn’t do the conversion: different types always mean different values for it.\nValues null and undefined are special: they equal == each other and don’t euqal anything else. And NaN != NaN is true. \"\" == 0 and \" \" == 0 are also true. Greater/less comparisons compare strings character-by-character, other types are converted to a number.\nLoops 3 type of loops\n// 1 while (condition) { ... } // 2 do { ... } while (condition); // 3 for (let i = 0; i \u003c 10; i++) { ... } Directives break/continue allow to exit the whole loop/current iteration. Use label to break nested loops.\nThe “switch” construct The “switch” construct can replace multiple if checks. It uses === (strict equality) for comparisons.\nlet age = prompt('Your age?', 18); switch (age) { case 18: alert(\"Won't work\"); // the result of prompt is a string, not a number break; case \"18\": alert(\"This works!\"); break; default: alert(\"Any value not equal to one above\"); } Functions Three ways to create a function in JavaScript:\nFunction Declaration: the function in the main code function sum(a, b) { let result = a + b; return result; } Function Expression: the function in the context of an expression let sum = function(a, b) { let result = a + b; return result; } Arrow Functions: // expression on the right side let sum = (a, b) =\u003e a + b; // multi line syntax { ... } let sum = (a, b) =\u003e { return a + b; } // without arguemnts let sayHi = () =\u003e alert(\"hello\"); // with a single argument let double = n =\u003e n * 2; Parameters can have default values: function sum(a = 1, b = 2) {...}\nFunctions always return something. If there is no return statement, then return undefined.\n","wordCount":"4603","inLanguage":"en","image":"https://starslayerx.github.io/images/og-default.avif","datePublished":"2025-09-21T08:00:00+08:00","dateModified":"2025-09-21T08:00:00+08:00","author":{"@type":"Person","name":"Starslayerx"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://starslayerx.github.io/posts/morden-javascript-tutorial-chapter-2-fundamentals-11~18/"},"publisher":{"@type":"Organization","name":"Starslayerx' Blog","logo":{"@type":"ImageObject","url":"https://starslayerx.github.io/favicon.svg"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://starslayerx.github.io/ accesskey=h title="Starslayerx' Blog (Alt + H)"><img src=https://starslayerx.github.io/favicon.svg alt aria-label=logo height=35>Starslayerx' Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://starslayerx.github.io/zh-cn/ title=简体中文 aria-label=简体中文>Zh-Cn</a></li></ul></div></div><ul id=menu><li><a href=https://starslayerx.github.io/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://starslayerx.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://starslayerx.github.io/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://starslayerx.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://starslayerx.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://starslayerx.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://starslayerx.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Morden Javascript Tutorial Chapter 2 - Fundamentals: 11~18</h1><div class=post-meta><span title='2025-09-21 08:00:00 +0800 +0800'>September 21, 2025</span>&nbsp;·&nbsp;<span>22 min</span>&nbsp;·&nbsp;<span>4603 words</span>&nbsp;·&nbsp;<span>Starslayerx</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#211-logical-operators>2.11 Logical operators</a><ul><li><a href=#-or>|| OR</a><ul><li><a href=#or--finds-the-first-truthy-value>OR &ldquo;||&rdquo; finds the first truthy value</a></li><li><a href=#-and>&& (AND)</a></li><li><a href=#and--finds-the-first-falsy-value>AND &ldquo;&&&rdquo; finds the first falsy value</a></li><li><a href=#-not>! (NOT)</a></li></ul></li></ul></li><li><a href=#212-nullish-coalescing-operator->2.12 Nullish coalescing operator &lsquo;??&rsquo;</a><ul><li><ul><li><a href=#precedence>Precedence</a></li><li><a href=#using--with--or->Using ?? with && or ||</a></li></ul></li></ul></li><li><a href=#213-loops-while-and-for>2.13 Loops: while and for</a><ul><li><ul><li><a href=#the-while-loop>The &ldquo;while&rdquo; loop</a></li><li><a href=#the-dowhile-loop>The &ldquo;do&mldr;while&rdquo; loop</a></li><li><a href=#the-for-loop>The &ldquo;for&rdquo; loop</a></li><li><a href=#breaking-the-loop>Breaking the loop</a></li><li><a href=#continue-to-the-next-iteration>Continue to the next iteration</a></li><li><a href=#label-for-breakcontinue>Label for break/continue</a></li></ul></li></ul></li><li><a href=#214-the-switch-statement>2.14 The &ldquo;switch&rdquo; statement</a><ul><li><ul><li><a href=#the-syntax>The syntax</a></li><li><a href=#an-example>An example</a></li><li><a href=#grouping-of-case>Grouping of &ldquo;case&rdquo;</a></li><li><a href=#type-matters>Type matters</a></li></ul></li></ul></li><li><a href=#215-functions>2.15 Functions</a><ul><li><ul><li><a href=#function-declaration>Function Declaration</a></li><li><a href=#local-variables>Local variables</a></li><li><a href=#outer-variables>Outer variables</a></li><li><a href=#parameters>Parameters</a></li><li><a href=#default-values>Default Values</a></li><li><a href=#returning-a-value>Returning a value</a></li><li><a href=#naming-a-function>Naming a function</a></li><li><a href=#function--comments>Function == Comments</a></li></ul></li></ul></li><li><a href=#216-function-expressions>2.16 Function expressions</a><ul><li><ul><li><a href=#function-is-a-value>Function is a value</a></li><li><a href=#callback-functions>Callback functions</a></li><li><a href=#function-expression-vs-function-declaration>Function Expression vs Function Declaration</a></li></ul></li></ul></li><li><a href=#217-arrow-functions-the-basics>2.17 Arrow functions, the basics</a><ul><li><ul><li><a href=#multiline-arrow-functions>Multiline arrow functions</a></li></ul></li></ul></li><li><a href=#218-javascript-specials>2.18 JavaScript specials</a><ul><li><ul><li><a href=#code-structure>Code Structure</a></li><li><a href=#strict-mode>Strict mode</a></li><li><a href=#variables>Variables</a></li><li><a href=#interaction>Interaction</a></li><li><a href=#operators>Operators</a></li><li><a href=#loops>Loops</a></li><li><a href=#the-switch-construct>The &ldquo;switch&rdquo; construct</a></li><li><a href=#functions>Functions</a></li></ul></li></ul></li></ul></nav></div></details></div><div class=post-content><h2 id=211-logical-operators>2.11 Logical operators<a hidden class=anchor aria-hidden=true href=#211-logical-operators>#</a></h2><p>There are four logical operators in JavaScript: <code>||</code> (ORA), <code>&&</code> (AND), <code>!</code> (NOT), <code>??</code> (Nullish Coalescing 空值合并).</p><h3 id=-or>|| OR<a hidden class=anchor aria-hidden=true href=#-or>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=nx>result</span> <span class=o>=</span> <span class=nx>a</span> <span class=o>||</span> <span class=nx>b</span>
</span></span></code></pre></div><p>There are four logical combinations:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=nx>alter</span><span class=p>(</span> <span class=kc>true</span> <span class=o>||</span> <span class=kc>true</span> <span class=p>);</span>   <span class=c1>// true
</span></span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=kc>false</span> <span class=o>||</span> <span class=kc>true</span> <span class=p>);</span>  <span class=c1>// true
</span></span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=kc>true</span> <span class=o>||</span> <span class=kc>false</span> <span class=p>);</span>  <span class=c1>// true
</span></span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=kc>false</span> <span class=o>||</span> <span class=kc>false</span> <span class=p>);</span> <span class=c1>// false
</span></span></span></code></pre></div><p>If an operand is not a boolean it&rsquo;s converted to be a boolean for the evaluation.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=mi>1</span> <span class=o>||</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span> <span class=c1>// works like (true || false)
</span></span></span><span class=line><span class=cl>    <span class=nx>alter</span><span class=p>(</span><span class=s1>&#39;truthy!&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h4 id=or--finds-the-first-truthy-value>OR &ldquo;||&rdquo; finds the first truthy value<a hidden class=anchor aria-hidden=true href=#or--finds-the-first-truthy-value>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=nx>result</span> <span class=o>=</span> <span class=nx>value1</span> <span class=o>||</span> <span class=nx>value2</span> <span class=o>||</span> <span class=nx>value3</span>
</span></span></code></pre></div><p>The OR <code>||</code> operator does the following:</p><ul><li>Evaluates operands from left to righit</li><li>For each operand, converts it to boolean. if the result is <code>true</code>, stops and returns the original value of that operand</li><li>If all operands are false, returns the last operand.</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=nx>alter</span><span class=p>(</span> <span class=mi>1</span> <span class=o>||</span> <span class=mi>0</span> <span class=p>);</span> <span class=c1>// 1
</span></span></span><span class=line><span class=cl><span class=nx>alter</span><span class=p>(</span> <span class=kc>null</span> <span class=o>||</span> <span class=mi>1</span> <span class=p>);</span> <span class=c1>// 1
</span></span></span><span class=line><span class=cl><span class=nx>alter</span><span class=p>(</span> <span class=kc>null</span> <span class=o>||</span> <span class=mi>0</span> <span class=o>||</span> <span class=mi>1</span> <span class=p>);</span> <span class=c1>// 1
</span></span></span><span class=line><span class=cl><span class=nx>alter</span><span class=p>(</span> <span class=kc>undefined</span> <span class=o>||</span> <span class=kc>null</span> <span class=o>||</span> <span class=mi>0</span> <span class=p>);</span> <span class=c1>// 0 (all falsy)
</span></span></span></code></pre></div><p>If an operand is not a boolean, it&rsquo;s converted to a boolean for the evaluation.
For instance, the number <code>1</code> is treated as <code>true</code>, the <code>0</code> numebr as <code>false</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=mi>1</span> <span class=o>||</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span> <span class=c1>// like if (true || false)
</span></span></span><span class=line><span class=cl>    <span class=nx>alert</span><span class=p>(</span> <span class=s1>&#39;truthy!&#39;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>This leads something interesting usage compared to a &ldquo;pure, classical, boolean-only OR&rdquo;.</p><ol><li><p><strong>Getting the first truthy value from a list of variables or exporessions</strong><br>For instance, we have <code>firstName</code>, <code>lastName</code>, and <code>nickName</code> variabels, all optional.
Let&rsquo;s use OR <code>||</code> to choose the one that has the data and show it:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>firstName</span> <span class=o>=</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>lastName</span> <span class=o>=</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>nickName</span> <span class=o>=</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span><span class=nx>firstName</span> <span class=o>||</span> <span class=nx>lastName</span> <span class=o>||</span> <span class=nx>nickName</span> <span class=o>||</span> <span class=s2>&#34;Anonymous&#34;</span><span class=p>);</span> <span class=c1>// SuperCode
</span></span></span></code></pre></div><p>If all variables set <code>false</code>, &ldquo;Annoymous&rdquo; will show up.</p></li><li><p><strong>Short-cricuit evaluation</strong><br>It means that <code>||</code> processes its arguments untill the first truthy value is reached, and then the value is returned immediately, without even touching the other argument.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kc>false</span> <span class=o>||</span> <span class=nx>alert</span><span class=p>(</span><span class=s2>&#34;not printed&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kc>true</span> <span class=o>||</span> <span class=nx>alert</span><span class=p>(</span><span class=s2>&#34;printed&#34;</span><span class=p>)</span>
</span></span></code></pre></div><p>Sometimes, people use this feature to execute commands only if the condition on the left part is falsy.</p></li></ol><h4 id=-and>&& (AND)<a hidden class=anchor aria-hidden=true href=#-and>#</a></h4><p>The AND operator is represented with two ampersands <code>&&</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=nx>result</span> <span class=o>=</span> <span class=nx>a</span> <span class=o>&amp;&amp;</span> <span class=nx>b</span>
</span></span></code></pre></div><h4 id=and--finds-the-first-falsy-value>AND &ldquo;&&&rdquo; finds the first falsy value<a hidden class=anchor aria-hidden=true href=#and--finds-the-first-falsy-value>#</a></h4><p>Given mulitple AND&rsquo;ed values:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=nx>result1</span> <span class=o>&amp;&amp;</span> <span class=nx>result2</span> <span class=o>&amp;&amp;</span> <span class=nx>result3</span>
</span></span></code></pre></div><p>AND returns the first falsy value or the last value if none were found.<br>Example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=c1>// if the first operand is truthy, returns the second operand:
</span></span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=mi>1</span> <span class=o>&amp;&amp;</span> <span class=mi>0</span> <span class=p>);</span> <span class=c1>// 0
</span></span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=mi>1</span> <span class=o>&amp;&amp;</span> <span class=mi>5</span> <span class=p>);</span> <span class=c1>// 5
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// if the first operand is falsy, returns the it. The second operand is ignored.
</span></span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=kc>null</span> <span class=o>&amp;&amp;</span> <span class=mi>5</span> <span class=p>);</span> <span class=c1>// null
</span></span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=s2>&#34;no matter what&#34;</span> <span class=p>);</span> <span class=c1>// 0
</span></span></span></code></pre></div><h4 id=-not>! (NOT)<a hidden class=anchor aria-hidden=true href=#-not>#</a></h4><p>The boolean NOT operator is represented with an exclamation sign <code>!</code>.
The syntax is pretty simple:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=nx>result</span> <span class=o>=</span> <span class=o>!</span><span class=nx>value</span><span class=p>;</span>
</span></span></code></pre></div><p>The exclamation operator a single argument and does the following:</p><ol><li>Converts to operand to boolean type: <code>true/false</code>.</li><li>Returns the inverse value.</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=o>!</span><span class=kc>true</span> <span class=p>);</span> <span class=c1>// false
</span></span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=o>!</span><span class=mi>0</span> <span class=p>);</span> <span class=c1>// true
</span></span></span></code></pre></div><p>A double NOT <code>!!</code> is sometimes used for converting a value to boolean type:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=o>!!</span><span class=s2>&#34;non-empty string&#34;</span> <span class=p>);</span> <span class=c1>// true
</span></span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=o>!!</span><span class=kc>null</span> <span class=p>);</span> <span class=c1>// false
</span></span></span></code></pre></div><blockquote><p>Tasks</p></blockquote><p><strong>What&rsquo;s the result of OR&rsquo;ed alerts?</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=nx>alert</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=o>||</span> <span class=mi>2</span> <span class=o>||</span> <span class=nx>alert</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span> <span class=p>);</span>
</span></span></code></pre></div><p>Answer: <code>1</code> and <code>2</code></p><ol><li>The OR <code>||</code> evaluates <code>alter(1)</code>. That&rsquo;s shows message 1 and returns &lsquo;undefined&rsquo;.</li><li>The <code>alter</code> returns <code>undefined</code>, so OR goes into the second operand.</li><li>The <code>2</code> is truthy, so the execution is halted (停止), <code>2</code> is returned and then shown by the outer alert.</li></ol><hr><p><strong>What is the result of AND&rsquo;ed alerts?</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=nx>alert</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=o>&amp;&amp;</span> <span class=nx>alert</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span> <span class=p>);</span>
</span></span></code></pre></div><p>Answer: <code>1</code> and <code>undefined</code></p><hr><p><strong>Check the range between</strong></p><p>Write an <code>if</code> condition to check that <code>age</code> is between <code>14</code> and <code>90</code> inclusively.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=nx>age</span> <span class=o>&gt;=</span> <span class=mi>14</span> <span class=o>&amp;&amp;</span> <span class=nx>age</span> <span class=o>&lt;=</span> <span class=mi>90</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>alert</span><span class=p>(</span><span class=sb>`Age is </span><span class=si>${</span><span class=nx>age</span><span class=si>}</span><span class=sb>. Is between 14 and 90.`</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><hr><p><strong>Check the range outside</strong></p><p>Write and <code>if</code> condition to check that <code>age</code> is NOT between <code>14</code> and <code>90</code> inclusively.
Create two variants (变体): the first one using NOT <code>!</code>, the second one - withoud it.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=p>(</span><span class=nx>age</span> <span class=o>&gt;=</span> <span class=mi>14</span> <span class=o>&amp;&amp;</span> <span class=nx>age</span><span class=o>&lt;=</span><span class=mi>90</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>alert</span><span class=p>(</span><span class=sb>`Age is </span><span class=si>${</span><span class=nx>age</span><span class=si>}</span><span class=sb>. Not between 14 and 90.`</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=nx>age</span> <span class=o>&lt;</span> <span class=mi>14</span> <span class=o>||</span> <span class=nx>age</span> <span class=o>&gt;</span> <span class=mi>90</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>alert</span><span class=p>(</span><span class=sb>`Age is </span><span class=si>${</span><span class=nx>age</span><span class=si>}</span><span class=sb>. Not between 14 and 90.`</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><hr><p><strong>A question about &ldquo;if&rdquo;</strong></p><p>Which of these alerts are going to execute?
What will the results of the expressions be inside if(&mldr;)?</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=o>-</span><span class=mi>1</span> <span class=o>||</span> <span class=mi>0</span><span class=p>)</span> <span class=nx>alert</span><span class=p>(</span> <span class=s1>&#39;first&#39;</span> <span class=p>);</span>  <span class=c1>// runs
</span></span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=o>-</span><span class=mi>1</span> <span class=o>&amp;&amp;</span> <span class=mi>0</span><span class=p>)</span> <span class=nx>alert</span><span class=p>(</span> <span class=s1>&#39;second&#39;</span> <span class=p>);</span> <span class=c1>// doesn&#39;t run
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=kc>null</span> <span class=o>||</span> <span class=o>-</span><span class=mi>1</span> <span class=o>&amp;&amp;</span> <span class=mi>1</span><span class=p>)</span> <span class=nx>alert</span><span class=p>(</span> <span class=s1>&#39;third&#39;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// -&gt;  null || (-1 &amp;&amp; -1)
</span></span></span><span class=line><span class=cl><span class=c1>// -&gt;  null || -1
</span></span></span><span class=line><span class=cl><span class=c1>// -&gt; -1
</span></span></span></code></pre></div><p>Operator && has higher precedence (优先级) that ||.</p><hr><p><strong>Check the login</strong></p><p>Write the code which asks for a login with <code>prompt</code>.</p><p>If the visitor enters <code>"Admin"</code>, the <code>prompt</code> for a password, if the input is an empty line or <code>Esc</code> – show “Canceled”, if it’s another string – then show “I don’t know you”.</p><p>The password is checked as follows:</p><ul><li>If it equals “TheMaster”, then show “Welcome!”,</li><li>Another string – show “Wrong password”,</li><li>For an empty string or canceled input, show “Canceled”</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>user</span> <span class=o>=</span> <span class=nx>prompt</span><span class=p>(</span><span class=s2>&#34;请输入用户名：&#34;</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=nx>user</span> <span class=o>===</span> <span class=s2>&#34;&#34;</span> <span class=o>||</span> <span class=nx>user</span> <span class=o>===</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>alter</span><span class=p>(</span> <span class=s2>&#34;Canceled&#34;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>user</span> <span class=o>===</span> <span class=s2>&#34;Admin&#34;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>pass</span> <span class=o>=</span> <span class=nx>prompt</span><span class=p>(</span><span class=s2>&#34;请输入密码：&#34;</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>pass</span> <span class=o>==</span> <span class=s2>&#34;&#34;</span> <span class=o>||</span> <span class=nx>pass</span> <span class=o>==</span> <span class=kc>null</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>alert</span><span class=p>(</span> <span class=s2>&#34;Canceled&#34;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=nx>pass</span> <span class=o>==</span> <span class=s2>&#34;TheMaster&#34;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>alert</span><span class=p>(</span> <span class=s2>&#34;Welcome!&#34;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>alert</span><span class=p>(</span> <span class=s2>&#34;Wrong password&#34;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>alter</span><span class=p>(</span> <span class=s2>&#34;I don&#39;t know you&#34;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>注意点：</p><ul><li><code>prompt(text, defaultText)</code>: JavaScript 中用于获取用户输入的浏览器内置方法，它会显示一个对话框，包含提示信息、输入框和确定/取消按钮。<code>text</code> 为话框中显示的提示文本， <code>defaultText</code> 为输入框中的默认值。</li><li>从 <code>prompt()</code> 获取的输入可能为空字符，也可能为 <code>null</code>。</li><li>等号使用严格等于 <code>===</code> 而不是 <code>==</code>。</li></ul><h2 id=212-nullish-coalescing-operator->2.12 Nullish coalescing operator &lsquo;??&rsquo;<a hidden class=anchor aria-hidden=true href=#212-nullish-coalescing-operator->#</a></h2><p>The nullish coalescing operator (空值合并运算符) is written as two question marks <code>??</code>.</p><p>It&rsquo;s similar to <code>||</code> but only consider <code>null</code> and <code>undefined</code> as falsy. (<code>||</code> consider <code>0</code>, <code>""</code>, <code>false</code>, <code>null</code> and <code>undefined</code> as falsy.)</p><p>The result of <code>a ?? b</code> is:</p><ul><li>if <code>a</code> is defined, then <code>a</code></li><li>if <code>a</code> is not defined, then <code>b</code></li></ul><p>In other words, <code>??</code> returns the first argument if it’s not <code>null/undefined</code>.</p><p>We can rewrite <code>result = a ?? b</code> using operators we alreadly know, like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=nx>result</span> <span class=o>=</span> <span class=p>(</span><span class=nx>a</span> <span class=o>!==</span> <span class=kc>null</span> <span class=o>&amp;&amp;</span> <span class=nx>a</span> <span class=o>!==</span> <span class=s1>&#39;&#39;</span><span class=p>)</span> <span class=o>?</span> <span class=nx>a</span> <span class=o>:</span> <span class=nx>b</span><span class=p>;</span>
</span></span></code></pre></div><p>The common use for <code>??</code> is to provide default value.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>user</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span><span class=nx>user</span> <span class=o>??</span> <span class=s2>&#34;Anonymous&#34;</span><span class=p>);</span> <span class=c1>// &#34;Annoymous&#34;
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>user</span> <span class=o>=</span> <span class=s2>&#34;John&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span><span class=nx>user</span> <span class=o>??</span> <span class=s2>&#34;Anonymous&#34;</span><span class=p>);</span> <span class=c1>// &#34;John&#34;
</span></span></span></code></pre></div><p>We can alos use a sequence of <code>??</code> to select the first value from a list that isn&rsquo;t <code>null/undefined</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>firstName</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>lastName</span> <span class=o>=</span> <span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>nickName</span> <span class=o>=</span> <span class=s2>&#34;Supercoder&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span><span class=nx>firstName</span> <span class=o>??</span> <span class=nx>lastName</span> <span class=o>??</span> <span class=nx>nickName</span> <span class=o>??</span> <span class=s2>&#34;Anonymous&#34;</span><span class=p>);</span> <span class=c1>// Supercoder
</span></span></span></code></pre></div><h4 id=precedence>Precedence<a hidden class=anchor aria-hidden=true href=#precedence>#</a></h4><p>The precedence of <code>??</code> and <code>||</code> operator is the same, they both equal <code>3</code> in the <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Operator_Precedence#Table>MDN table</a> (higher than <code>=</code> and <code>?</code>, but lower than <code>+</code> and <code>*</code>).</p><h4 id=using--with--or->Using ?? with && or ||<a hidden class=anchor aria-hidden=true href=#using--with--or->#</a></h4><p>Due to safety reasons, JavaScript forbids <code>??</code> together with <code>&&</code> and <code>||</code> operators, unless the precedence is explicitly specificed with parentheses (括号).</p><p>The code below triggers a syntax error:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=mi>1</span> <span class=o>&amp;&amp;</span> <span class=mi>2</span> <span class=o>??</span> <span class=mi>3</span><span class=p>;</span> <span class=c1>// Syntax error
</span></span></span></code></pre></div><p>Use explicit parentheses to work around it:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span> <span class=o>&amp;&amp;</span> <span class=mi>2</span><span class=p>)</span> <span class=o>??</span> <span class=mi>3</span><span class=p>;</span> <span class=c1>// Works
</span></span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span><span class=nx>x</span><span class=p>);</span> <span class=c1>// 2
</span></span></span></code></pre></div><h2 id=213-loops-while-and-for>2.13 Loops: while and for<a hidden class=anchor aria-hidden=true href=#213-loops-while-and-for>#</a></h2><h4 id=the-while-loop>The &ldquo;while&rdquo; loop<a hidden class=anchor aria-hidden=true href=#the-while-loop>#</a></h4><p>The <code>while</code> loop has the following syntax:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=k>while</span> <span class=p>(</span><span class=nx>condition</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// code: loop-body
</span></span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h4 id=the-dowhile-loop>The &ldquo;do&mldr;while&rdquo; loop<a hidden class=anchor aria-hidden=true href=#the-dowhile-loop>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=k>do</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// lop body
</span></span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>while</span> <span class=p>(</span><span class=nx>condition</span><span class=p>);</span>
</span></span></code></pre></div><h4 id=the-for-loop>The &ldquo;for&rdquo; loop<a hidden class=anchor aria-hidden=true href=#the-for-loop>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=mi>3</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>alert</span><span class=p>(</span><span class=nx>i</span><span class=p>);</span> <span class=c1>// 0, 1, 2
</span></span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h4 id=breaking-the-loop>Breaking the loop<a hidden class=anchor aria-hidden=true href=#breaking-the-loop>#</a></h4><p>But we can force the exit at any time using the special <code>break</code> directive.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>sum</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=p>(</span><span class=kc>true</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>value</span> <span class=o>=</span> <span class=o>+</span><span class=nx>prompt</span><span class=p>(</span><span class=s2>&#34;Enter a number&#34;</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>);</span> <span class=c1>// + 号将 prompt() 获取的字符串转化为数字
</span></span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>value</span><span class=p>)</span> <span class=k>break</span><span class=p>;</span> <span class=c1>// (*) 非数字
</span></span></span><span class=line><span class=cl>    <span class=nx>sum</span> <span class=o>+=</span> <span class=nx>value</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span><span class=s2>&#34;sum&#34;</span> <span class=o>+</span> <span class=nx>sum</span><span class=p>);</span>
</span></span></code></pre></div><h4 id=continue-to-the-next-iteration>Continue to the next iteration<a hidden class=anchor aria-hidden=true href=#continue-to-the-next-iteration>#</a></h4><p>The continue directive (指令) is a “lighter version” of break. It doesn’t stop the whole loop. Instead, it stops the current iteration and forces the loop to start a new one.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=mi>10</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>i</span> <span class=o>%</span> <span class=mi>2</span> <span class=o>===</span> <span class=mi>0</span><span class=p>)</span> <span class=k>continue</span><span class=p>;</span> <span class=c1>// skip alert enum numbers
</span></span></span><span class=line><span class=cl>    <span class=nx>alert</span><span class=p>(</span><span class=nx>i</span><span class=p>);</span> <span class=c1>// 1, then 3, 5, 7, 9
</span></span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><ul><li>Note that syntax constructs that are not expressions cannot be used with the ternary operator <code>?</code>. In particular, directives such as <code>break/continue</code> aren’t allowed there.<div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=nx>i</span> <span class=o>&gt;</span> <span class=mi>5</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>alert</span><span class=p>(</span><span class=nx>i</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>continue</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div>can&rsquo;t be write as<div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=p>(</span><span class=nx>i</span> <span class=o>&gt;</span> <span class=mi>5</span><span class=p>)</span> <span class=o>?</span> <span class=nx>alert</span><span class=p>(</span><span class=nx>i</span><span class=p>)</span> <span class=o>:</span> <span class=k>continue</span><span class=p>;</span> <span class=c1>// Syntax error: continue isn&#39;t allowed here
</span></span></span></code></pre></div></li></ul><h4 id=label-for-breakcontinue>Label for break/continue<a hidden class=anchor aria-hidden=true href=#label-for-breakcontinue>#</a></h4><p>A label is an identifier with a colon before a loop:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=nx>labelName</span><span class=o>:</span> <span class=k>for</span> <span class=p>(...)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>A label can break mulitple loop, and <code>break/input</code> would break inner loop:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=nx>outer</span><span class=o>:</span> <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=mi>3</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>j</span> <span class=o>&lt;</span> <span class=mi>3</span><span class=o>:</span> <span class=nx>j</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>let</span> <span class=nx>input</span> <span class=o>=</span> <span class=nx>prompt</span><span class=p>(</span><span class=sb>`Value at corrds (</span><span class=si>${</span><span class=nx>i</span><span class=si>}</span><span class=sb>, </span><span class=si>${</span><span class=nx>j</span><span class=si>}</span><span class=sb>)`</span><span class=p>,</span> <span class=s1>&#39;&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>input</span><span class=p>)</span> <span class=k>break</span> <span class=nx>outer</span><span class=p>;</span> <span class=c1>// (*)
</span></span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>alter</span><span class=p>(</span><span class=s2>&#34;Done!&#34;</span><span class=p>);</span>
</span></span></code></pre></div><p>In the code above, <code>break outer</code> looks upwards for the label named <code>outer</code> and breaks out of that loop.
So the control goes straight from <code>(*)</code> to <code>alert('Done!')</code>.</p><p>The <code>continue</code> directive can also be used with a label.
In this case, code execution jumps to the next iteration of the labeled loop.</p><h2 id=214-the-switch-statement>2.14 The &ldquo;switch&rdquo; statement<a hidden class=anchor aria-hidden=true href=#214-the-switch-statement>#</a></h2><p>A <code>switch</code> statement can replace multiple <code>if</code> checks.
It gives a more descriptive way to compare a value with multiple variants.</p><h4 id=the-syntax>The syntax<a hidden class=anchor aria-hidden=true href=#the-syntax>#</a></h4><p>The <code>switch</code> has one or more <code>case</code> blocks and an optional default.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=k>switch</span> <span class=p>(</span><span class=nx>x</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=s1>&#39;value1&#39;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=p>...</span>
</span></span><span class=line><span class=cl>        <span class=p>[</span><span class=k>break</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=s1>&#39;value2&#39;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=p>...</span>
</span></span><span class=line><span class=cl>        <span class=p>[</span><span class=k>break</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=k>default</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=p>...</span>
</span></span><span class=line><span class=cl>        <span class=p>[</span><span class=k>break</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h4 id=an-example>An example<a hidden class=anchor aria-hidden=true href=#an-example>#</a></h4><p>An example of <code>switch</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>a</span> <span class=o>=</span> <span class=mi>2</span> <span class=o>+</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>switch</span> <span class=p>(</span><span class=nx>a</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=mi>3</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=nx>alert</span><span class=p>(</span> <span class=s1>&#39;Too small&#39;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=mi>4</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=nx>alert</span> <span class=p>(</span> <span class=s1>&#39;Exactly&#39;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=mi>5</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=nx>alert</span> <span class=p>(</span> <span class=s1>&#39;Too big&#39;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>default</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=nx>alert</span><span class=p>(</span><span class=s2>&#34;I don&#39;t know such values&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Here the <code>switch</code> starts to compare <code>a</code> from the first <code>case</code> untill <code>case 4</code> and then breaks.</p><p>If there is no <code>break</code> then the execution continues with the next <code>case</code> without any checks.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>a</span> <span class=o>=</span> <span class=mi>2</span> <span class=o>+</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>switch</span> <span class=p>(</span><span class=nx>a</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=mi>3</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=nx>alert</span><span class=p>(</span> <span class=s1>&#39;Too small&#39;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=mi>4</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=nx>alert</span><span class=p>(</span> <span class=s1>&#39;Exactly!&#39;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=mi>5</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=nx>alert</span><span class=p>(</span> <span class=s1>&#39;Too big&#39;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>default</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=nx>alert</span><span class=p>(</span> <span class=s2>&#34;I don&#39;t know such valeus&#34;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>In the example above we’ll see sequential execution of three <code>alert</code>s:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=s1>&#39;Exactly!&#39;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=s1>&#39;Too big&#39;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=s2>&#34;I don&#39;t know such values&#34;</span> <span class=p>);</span>
</span></span></code></pre></div><h4 id=grouping-of-case>Grouping of &ldquo;case&rdquo;<a hidden class=anchor aria-hidden=true href=#grouping-of-case>#</a></h4><p>Serval variants of <code>case</code> which share the same code can be grouped.
For example, we want the same code for <code>case 3</code> and <code>case 5</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>a</span> <span class=o>=</span> <span class=mi>3</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>switch</span> <span class=p>(</span><span class=nx>a</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=mi>4</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=nx>alert</span><span class=p>(</span><span class=s1>&#39;Right!&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=mi>3</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=mi>5</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=nx>alert</span><span class=p>(</span><span class=s1>&#39;Wrong!&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>default</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=nx>alert</span><span class=p>(</span><span class=s1>&#39;The result is strange. Really.&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Now both <code>3</code> and <code>5</code> show the same message.</p><h4 id=type-matters>Type matters<a hidden class=anchor aria-hidden=true href=#type-matters>#</a></h4><p>The equality check is always strict.
The values must be of the same type to match.</p><p>For example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>arg</span> <span class=o>=</span> <span class=nx>prompt</span><span class=p>(</span><span class=s1>&#39;Enter a value?&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>switch</span> <span class=p>(</span><span class=nx>arg</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=s1>&#39;0&#39;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=s1>&#39;1&#39;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=nx>alert</span><span class=p>(</span> <span class=s1>&#39;One or zero&#39;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=s1>&#39;2&#39;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=nx>alert</span><span class=p>(</span> <span class=s1>&#39;Two&#39;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=mi>3</span><span class=o>:</span> <span class=c1>// &#39;3&#39; will not execute this block
</span></span></span><span class=line><span class=cl>        <span class=nx>alert</span><span class=p>(</span> <span class=s1>&#39;Never executes!&#39;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>default</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=nx>alert</span><span class=p>(</span> <span class=s1>&#39;An unkown value&#39;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=215-functions>2.15 Functions<a hidden class=anchor aria-hidden=true href=#215-functions>#</a></h2><h4 id=function-declaration>Function Declaration<a hidden class=anchor aria-hidden=true href=#function-declaration>#</a></h4><p>To create a function, use <code>function</code> declaration:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>name</span><span class=p>(</span><span class=nx>parameter1</span><span class=p>,</span> <span class=nx>paprameter2</span><span class=p>,</span> <span class=p>...</span> <span class=nx>parameterN</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// body
</span></span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h4 id=local-variables>Local variables<a hidden class=anchor aria-hidden=true href=#local-variables>#</a></h4><p>A variable declared inside a function is only visible inside that function.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>showMessage</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>message</span> <span class=o>=</span> <span class=s2>&#34;Hello, I&#39;m JavaScript!&#34;</span><span class=p>;</span> <span class=c1>// local variable
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>alert</span><span class=p>(</span> <span class=nx>message</span> <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>showMessage</span><span class=p>();</span> <span class=c1>// Hello, I&#39;m JavaScript!
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=nx>message</span> <span class=p>);</span> <span class=c1>// &lt;-- Error! The variable is local to the function
</span></span></span></code></pre></div><h4 id=outer-variables>Outer variables<a hidden class=anchor aria-hidden=true href=#outer-variables>#</a></h4><p>A function can access an outer variable as well.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>userName</span> <span class=o>=</span> <span class=s1>&#39;John&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>showMessage</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>message</span> <span class=o>=</span> <span class=s1>&#39;Hello, &#39;</span> <span class=o>+</span> <span class=nx>userName</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>alert</span><span class=p>(</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>showMessage</span><span class=p>();</span> <span class=c1>// Hello, John
</span></span></span></code></pre></div><p>The function has full access to the outer variable. It can modify it as well.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>userName</span> <span class=o>=</span> <span class=s1>&#39;John&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>showMessage</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>userName</span> <span class=o>=</span> <span class=s2>&#34;Bob&#34;</span><span class=p>;</span> <span class=c1>// (1) changed the outer variable
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>message</span> <span class=o>=</span> <span class=s1>&#39;Hello, &#39;</span> <span class=o>+</span> <span class=nx>userName</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nx>alert</span><span class=p>(</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=nx>userName</span> <span class=p>);</span> <span class=c1>// John before the function call
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>showMessage</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=nx>userName</span> <span class=p>);</span> <span class=c1>// Bob, the value was modified by the function
</span></span></span></code></pre></div><p>The outer variable is only used if there’s no local one.</p><p>If a same-named variable is declared inside the function then it shadows the outer one. For instance, in the code below the function uses the local <code>userName</code>. The outer one is ignored:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>userName</span> <span class=o>=</span> <span class=s1>&#39;John&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>showMessage</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>userName</span> <span class=o>=</span> <span class=s2>&#34;Bob&#34;</span><span class=p>;</span> <span class=c1>// declare a local variable
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>message</span> <span class=o>=</span> <span class=s1>&#39;Hello, &#39;</span> <span class=o>+</span> <span class=nx>userName</span><span class=p>;</span> <span class=c1>// Bob
</span></span></span><span class=line><span class=cl>  <span class=nx>alert</span><span class=p>(</span><span class=nx>message</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// the function will create and use its own userName
</span></span></span><span class=line><span class=cl><span class=nx>showMessage</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=nx>userName</span> <span class=p>);</span> <span class=c1>// John, unchanged, the function did not access the outer variable
</span></span></span></code></pre></div><h4 id=parameters>Parameters<a hidden class=anchor aria-hidden=true href=#parameters>#</a></h4><p>We can pass arbitrary data to functions using parameters.
In the example below, the function has two parameters: <code>from</code> and <code>text</code>.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>showMessage</span><span class=p>(</span><span class=nx>from</span><span class=p>,</span> <span class=nx>text</span><span class=p>)</span> <span class=p>{</span> <span class=c1>// parameters: from, text
</span></span></span><span class=line><span class=cl>  <span class=nx>alert</span><span class=p>(</span><span class=nx>from</span> <span class=o>+</span> <span class=s1>&#39;: &#39;</span> <span class=o>+</span> <span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>showMessage</span><span class=p>(</span><span class=s1>&#39;Ann&#39;</span><span class=p>,</span> <span class=s1>&#39;Hello!&#39;</span><span class=p>);</span> <span class=c1>// Ann: Hello! (*)
</span></span></span><span class=line><span class=cl><span class=nx>showMessage</span><span class=p>(</span><span class=s1>&#39;Ann&#39;</span><span class=p>,</span> <span class=s2>&#34;What&#39;s up?&#34;</span><span class=p>);</span> <span class=c1>// Ann: What&#39;s up? (**)
</span></span></span></code></pre></div><h4 id=default-values>Default Values<a hidden class=anchor aria-hidden=true href=#default-values>#</a></h4><p>If a function is called, but an argument is not provided, then the corresponding value becomes <code>undefined</code>.</p><p>For example, the aforementioned function <code>showMessage(from, text)</code> can be called with a single argument.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=nx>showMessage</span><span class=p>(</span><span class=s2>&#34;Ann&#34;</span><span class=p>);</span>
</span></span></code></pre></div><p>That’s not an error. Such a call would output <code>"*Ann*: undefined"</code>.
As the value for text isn’t passed, it becomes <code>undefined</code>, like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=nx>showMessage</span><span class=p>(</span><span class=s2>&#34;Ann&#34;</span><span class=p>,</span> <span class=kc>undefined</span><span class=p>);</span> <span class=c1>// Ann: no text given
</span></span></span></code></pre></div><p>We can specify the so-called “default” (to use if omitted) value for a parameter in the function declaration, using <code>=</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>showMessage</span><span class=p>(</span><span class=nx>from</span><span class=p>,</span> <span class=nx>text</span> <span class=o>=</span> <span class=s2>&#34;no text given&#34;</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>alert</span><span class=p>(</span> <span class=nx>from</span> <span class=o>+</span> <span class=s2>&#34;: &#34;</span> <span class=o>+</span> <span class=nx>text</span> <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>showMessage</span><span class=p>(</span><span class=s2>&#34;Ann&#34;</span><span class=p>);</span> <span class=c1>// Ann: no text given
</span></span></span><span class=line><span class=cl><span class=nx>showMessage</span><span class=p>(</span><span class=s2>&#34;Ann&#34;</span><span class=p>,</span> <span class=kc>undefined</span><span class=p>);</span> <span class=c1>// Ann: no text given
</span></span></span></code></pre></div><p>Here <code>"no text given"</code> is a string, but it can be a more complex expression, which is only evaluated and assigned if the parameter is missing. So, this is also possible:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>showMessage</span><span class=p>(</span><span class=nx>from</span><span class=p>,</span> <span class=nx>text</span> <span class=o>=</span> <span class=nx>anotherFunction</span><span class=p>())</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// anotherFunction() only executed if no text given
</span></span></span><span class=line><span class=cl>  <span class=c1>// its result becomes the value of text
</span></span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><ul><li><p><strong>Alternative default parameters</strong><br>Sometimes it makes sense to assign default values for parameters at a later stage after the function declaration.<br>We can check if the parameter is passed during the function execution, by comparing it with <code>undefined</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>showMessage</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>text</span> <span class=o>===</span> <span class=kc>undefined</span><span class=p>)</span> <span class=p>{</span> <span class=c1>// if the parameter is missing
</span></span></span><span class=line><span class=cl>    <span class=nx>text</span> <span class=o>=</span> <span class=s1>&#39;empty message&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nx>alert</span><span class=p>(</span><span class=nx>text</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>showMessage</span><span class=p>();</span> <span class=c1>// empty message
</span></span></span></code></pre></div><p>…Or we could use the || operator:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>showMessage</span><span class=p>(</span><span class=nx>text</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// if text is undefined or otherwise falsy, set it to &#39;empty&#39;
</span></span></span><span class=line><span class=cl>  <span class=nx>text</span> <span class=o>=</span> <span class=nx>text</span> <span class=o>||</span> <span class=s1>&#39;empty&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>...</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Modern JavaScript engines support the nullish coalescing (合并) operator <code>??</code>, it’s better when most falsy values, such as <code>0</code>, should be considered “normal”:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>showCount</span><span class=p>(</span><span class=nx>count</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=c1>// if count is undefined or null, show &#34;unknown&#34;
</span></span></span><span class=line><span class=cl>  <span class=nx>alert</span><span class=p>(</span><span class=nx>count</span> <span class=o>??</span> <span class=s2>&#34;unknown&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>showCount</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span> <span class=c1>// 0
</span></span></span><span class=line><span class=cl><span class=nx>showCount</span><span class=p>(</span><span class=kc>null</span><span class=p>);</span> <span class=c1>// unknown
</span></span></span><span class=line><span class=cl><span class=nx>showCount</span><span class=p>();</span> <span class=c1>// unknown
</span></span></span></code></pre></div></li></ul><h4 id=returning-a-value>Returning a value<a hidden class=anchor aria-hidden=true href=#returning-a-value>#</a></h4><p>A function can return a value back into the calling code as the result.
The simplest example would be a function that sums two values:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>sum</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>sum</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=nx>result</span> <span class=p>);</span> <span class=c1>// 3
</span></span></span></code></pre></div><p>If a function does not return a value, it is the same as if it returns undefined:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>doNothing</span><span class=p>()</span> <span class=p>{</span> <span class=cm>/* empty */</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=nx>doNothing</span><span class=p>()</span> <span class=o>===</span> <span class=kc>undefined</span> <span class=p>);</span> <span class=c1>// true
</span></span></span></code></pre></div><p>An empty return is also the same as return undefined:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>doNothing</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=nx>doNothing</span><span class=p>()</span> <span class=o>===</span> <span class=kc>undefined</span> <span class=p>);</span> <span class=c1>// true
</span></span></span></code></pre></div><h4 id=naming-a-function>Naming a function<a hidden class=anchor aria-hidden=true href=#naming-a-function>#</a></h4><p>Functions are actions. So their name is usually a verb.
It is a widespread practice to start a function with a verbal prefix which vaguely describes the action.</p><p>Function starting with…</p><ul><li><code>"get…"</code> – return a value,</li><li><code>"calc…"</code> – calculate something,</li><li><code>"create…"</code> – create something,</li><li><code>"check…"</code> – check something and return a boolean, etc.</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=nx>showMessage</span><span class=p>(..)</span>     <span class=c1>// shows a message
</span></span></span><span class=line><span class=cl><span class=nx>getAge</span><span class=p>(..)</span>          <span class=c1>// returns the age (gets it somehow)
</span></span></span><span class=line><span class=cl><span class=nx>calcSum</span><span class=p>(..)</span>         <span class=c1>// calculates a sum and returns the result
</span></span></span><span class=line><span class=cl><span class=nx>createForm</span><span class=p>(..)</span>      <span class=c1>// creates a form (and usually returns it)
</span></span></span><span class=line><span class=cl><span class=nx>checkPermission</span><span class=p>(..)</span> <span class=c1>// checks a permission, returns true/false
</span></span></span></code></pre></div><ul><li><p><strong>One function – one action</strong><br>A function should do exactly what is suggested by its name, no more.<br>Two independent actions usually deserve two functions, even if they are usually called together (in that case we can make a 3rd function that calls those two).</p></li><li><p><strong>Ultrashort function names</strong><br>Functions that are used very often sometimes have ultrashort names.<br>For example, the jQuery framework defines a function with <code>$</code>. The Lodash library has its core function named <code>_</code>.<br>These are exceptions. Generally function names should be concise and descriptive.</p></li></ul><h4 id=function--comments>Function == Comments<a hidden class=anchor aria-hidden=true href=#function--comments>#</a></h4><p>Functions should be short and do exactly one thing.
If that thing is big, maybe it’s worth it to split the function into a few smaller functions.
Sometimes following this rule may not be that easy, but it’s definitely a good thing.</p><p>A separate function is not only easier to test and debug – its very existence is a great comment!</p><p>For instance, compare the two functions <code>showPrimes(n)</code> below.
Each one outputs prime numbers up to <code>n</code>.</p><p>The first variant uses a label:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>showPrimes</span><span class=p>(</span><span class=nx>n</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>nextPrime</span><span class=o>:</span> <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>n</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>j</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span> <span class=nx>j</span> <span class=o>&lt;</span> <span class=nx>i</span><span class=p>;</span> <span class=nx>j</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=nx>i</span> <span class=o>%</span> <span class=nx>j</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=k>continue</span> <span class=nx>nextPrime</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>alert</span><span class=p>(</span> <span class=nx>i</span> <span class=p>);</span> <span class=c1>// a prime
</span></span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>The second variant uses an additional function <code>isPrime(n)</code> to test for primality:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>showPrimes</span><span class=p>(</span><span class=nx>n</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>n</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nx>isPrime</span><span class=p>(</span><span class=nx>i</span><span class=p>))</span> <span class=k>continue</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nx>alert</span><span class=p>(</span><span class=nx>i</span><span class=p>);</span>  <span class=c1>// a prime
</span></span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>isPrime</span><span class=p>(</span><span class=nx>n</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>n</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span> <span class=nx>n</span> <span class=o>%</span> <span class=nx>i</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=k>return</span> <span class=kc>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>The second variant is easier to understand.</p><blockquote><p>Tasks</p></blockquote><p><strong>Rewrite the function using &lsquo;?&rsquo; or &lsquo;||&rsquo;</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>checkAge</span><span class=p>(</span><span class=nx>age</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>age</span> <span class=o>&gt;</span> <span class=mi>18</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=kc>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>confirm</span><span class=p>(</span><span class=s1>&#39;Did parents allow you?&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Rewrite it, to perform the same, but without <code>if</code>, in a single line.<br>Make two variants of <code>checkAge</code>:</p><ol><li>Using a question mark operator <code>?</code></li><li>Using OR <code>||</code></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>checkAge</span><span class=p>(</span><span class=nx>age</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>age</span> <span class=o>&gt;</span> <span class=mi>18</span> <span class=o>?</span> <span class=kc>true</span> <span class=o>:</span> <span class=nx>confirm</span><span class=p>(</span><span class=s1>&#39;Did parents allow you?&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=kc>true</span> <span class=o>===</span> <span class=p>(</span><span class=nx>age</span> <span class=o>&gt;</span> <span class=mi>18</span><span class=p>)</span> <span class=o>||</span> <span class=nx>confirm</span><span class=p>(</span><span class=s1>&#39;Did parents allow you?&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=216-function-expressions>2.16 Function expressions<a hidden class=anchor aria-hidden=true href=#216-function-expressions>#</a></h2><p><em>Function Declaration</em></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>sayHi</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>alert</span><span class=p>(</span> <span class=s2>&#34;Hello&#34;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p><em>Function Expression</em></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>sayHi</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>alert</span><span class=p>(</span> <span class=s2>&#34;Hello&#34;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>};</span> <span class=c1>// semicolon 分号
</span></span></span></code></pre></div><h4 id=function-is-a-value>Function is a value<a hidden class=anchor aria-hidden=true href=#function-is-a-value>#</a></h4><p>Let&rsquo;s reiterate (重申): no matter how the function is created, a function is a value.
Both examples above sotre a function in the <code>sayHi</code> variable.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>sayHi</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>alert</span><span class=p>(</span> <span class=s2>&#34;Hello&#34;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=nx>sayHi</span> <span class=p>);</span> <span class=c1>// shows the function code
</span></span></span></code></pre></div><p>The lastline won&rsquo;t run the code, because there are no parentheses after <code>sayHi</code>.</p><p>We can copy a function to another variable.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>sayHi</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>alert</span><span class=p>(</span> <span class=s2>&#34;Hello&#34;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>func</span> <span class=o>=</span> <span class=nx>sayHi</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>func</span><span class=p>();</span>  <span class=c1>// &#34;Hello&#34;
</span></span></span><span class=line><span class=cl><span class=nx>sayHi</span><span class=p>();</span> <span class=c1>// &#34;Hello&#34;
</span></span></span></code></pre></div><h4 id=callback-functions>Callback functions<a hidden class=anchor aria-hidden=true href=#callback-functions>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>ask</span><span class=p>(</span><span class=nx>question</span><span class=p>,</span> <span class=nx>yes</span><span class=p>,</span> <span class=nx>no</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>confirm</span><span class=p>(</span><span class=nx>question</span><span class=p>))</span> <span class=nx>yes</span><span class=p>()</span> <span class=c1>// &#34;确定&#34; / &#34;取消&#34; 按钮对话框
</span></span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=nx>no</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>showOk</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>alert</span><span class=p>(</span> <span class=s2>&#34;You agred.&#34;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>function</span> <span class=nx>showCancel</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>alert</span><span class=p>(</span> <span class=s2>&#34;You canceled the execution.&#34;</span> <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>ask</span><span class=p>(</span><span class=s2>&#34;Don you agres?&#34;</span><span class=p>,</span> <span class=nx>showOk</span><span class=p>,</span> <span class=nx>showCancel</span><span class=p>);</span>
</span></span></code></pre></div><p><strong>The arguments <code>showOk</code> and <code>showCancel</code> of <code>ask</code> are called callback functions or just callbacks.</strong></p><p>The idea is that we pass a function and except it to be &ldquo;called back&rdquo; later if necessary.
In this case, <code>showOk</code> becomes the callback for &ldquo;yes&rdquo; answer, and <code>showCancel</code> fo &ldquo;no&rdquo; answer.</p><p>We can use <em>Function Expressions</em> to write a equivalent shorter function:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>ask</span><span class=p>(</span><span class=nx>question</span><span class=p>,</span> <span class=nx>yes</span><span class=p>,</span> <span class=nx>no</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>confirm</span><span class=p>(</span><span class=nx>question</span><span class=p>))</span> <span class=nx>yes</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=nx>no</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>ask</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Do you agree?&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=kd>function</span><span class=p>()</span> <span class=p>{</span> <span class=nx>alert</span><span class=p>(</span><span class=s2>&#34;You agreed.&#34;</span><span class=p>);</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=kd>function</span><span class=p>()</span> <span class=p>{</span> <span class=nx>alert</span><span class=p>(</span><span class=s2>&#34;You didn&#39;t agree.&#34;</span><span class=p>);</span> <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span></code></pre></div><h4 id=function-expression-vs-function-declaration>Function Expression vs Function Declaration<a hidden class=anchor aria-hidden=true href=#function-expression-vs-function-declaration>#</a></h4><p>The key difference between Function Expression and Function Declaration:</p><ul><li><p><em>Function Declaration</em>: a function, declared as a separate statement.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>sum</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></li><li><p><em>Function Expression</em>: a function, declaured inside an expression or inside anther syntax construct.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>sum</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></div></li></ul><p>The more subtle difference is when a function is created by the JavaScript engine:</p><ul><li><p><strong>A Function Expression is created when the execution reaches it and is usable only from that moment.</strong></p></li><li><p><strong>A Function Declaration can be called earlier than it is defined.</strong></p></li></ul><p><strong>In strict mode, when a Function Declaration is within a code block, it&rsquo;s visible everywhere inside that block. But not outside of it.</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>age</span> <span class=o>=</span> <span class=nx>prompt</span><span class=p>(</span><span class=s2>&#34;What&#39;s your age?&#34;</span><span class=p>,</span> <span class=mi>18</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=nx>age</span> <span class=o>&lt;</span> <span class=mi>18</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>function</span> <span class=nx>welcome</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>alert</span><span class=p>(</span><span class=s1>&#39;Hello&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>function</span> <span class=nx>welcome</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>alert</span><span class=p>(</span><span class=s1>&#39;Greetings!&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>welcome</span><span class=p>();</span> <span class=c1>// Error: welcome is not defined
</span></span></span></code></pre></div><p>The correct approch would be to use a Function Expression and assign <code>weclome</code> to the variable that is declared outside of <code>if</code> and has the proper visibility.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>age</span> <span class=o>=</span> <span class=nx>prompt</span><span class=p>(</span><span class=s2>&#34;What is your age?&#34;</span><span class=p>,</span> <span class=mi>18</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>welcome</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=p>(</span><span class=nx>age</span> <span class=o>&lt;</span> <span class=mi>18</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>welcome</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>alert</span><span class=p>(</span><span class=s1>&#39;Hello&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>welcome</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>alert</span><span class=p>(</span><span class=s1>&#39;Greetings&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>welcome</span><span class=p>();</span> <span class=c1>// ok now
</span></span></span></code></pre></div><p>We can simplify it even further using an question mark operator <code>?</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>age</span> <span class=o>=</span> <span class=nx>prompt</span><span class=p>(</span><span class=s2>&#34;What&#39;s your age?&#34;</span><span class=p>,</span> <span class=mi>18</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>welcome</span> <span class=o>=</span> <span class=nx>age</span> <span class=o>&lt;</span> <span class=mi>18</span> <span class=o>?</span>
</span></span><span class=line><span class=cl>    <span class=kd>function</span><span class=p>()</span> <span class=p>{</span> <span class=nx>alert</span><span class=p>(</span><span class=s1>&#39;Hello&#39;</span><span class=p>);</span> <span class=p>}</span> <span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kd>function</span><span class=p>()</span> <span class=p>{</span> <span class=nx>alert</span><span class=p>(</span><span class=s1>&#39;Greetings&#39;</span><span class=p>);</span> <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=nx>welcome</span><span class=p>();</span> <span class=c1>// ok
</span></span></span></code></pre></div><h2 id=217-arrow-functions-the-basics>2.17 Arrow functions, the basics<a hidden class=anchor aria-hidden=true href=#217-arrow-functions-the-basics>#</a></h2><p>&ldquo;arrow functions&rdquo; looks like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>func</span> <span class=o>=</span> <span class=p>(</span><span class=nx>arg1</span><span class=p>,</span> <span class=nx>arg2</span><span class=p>,</span> <span class=p>...,</span> <span class=nx>argN</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>expression</span><span class=p>;</span>
</span></span></code></pre></div><p>let&rsquo;s create some concrete examples:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>sum</span> <span class=o>=</span> <span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=nx>sum</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span> <span class=p>);</span> <span class=c1>// 3
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// one arugemnt
</span></span></span><span class=line><span class=cl><span class=kd>let</span> <span class=kr>double</span> <span class=o>=</span> <span class=p>(</span><span class=nx>a</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>a</span> <span class=o>*</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=kr>double</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span> <span class=p>);</span> <span class=c1>// 2
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// no argument
</span></span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>sayHi</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=nx>alert</span><span class=p>(</span><span class=s2>&#34;Hello!&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=nx>sayHi</span><span class=p>()</span> <span class=p>);</span>
</span></span></code></pre></div><p>Arrow functions can be used in the same way as Function Expressions.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>age</span> <span class=o>=</span> <span class=nx>prompt</span><span class=p>(</span><span class=s2>&#34;What&#39;s your age?&#34;</span><span class=p>,</span> <span class=mi>18</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>welcome</span> <span class=o>=</span> <span class=p>(</span><span class=nx>age</span> <span class=o>&lt;</span> <span class=mi>18</span><span class=p>)</span> <span class=o>?</span>
</span></span><span class=line><span class=cl>    <span class=p>()</span> <span class=p>=&gt;</span> <span class=nx>alert</span><span class=p>(</span><span class=s1>&#39;Hello&#39;</span><span class=p>)</span> <span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=p>()</span> <span class=p>=&gt;</span> <span class=nx>alert</span><span class=p>(</span><span class=s1>&#39;Greetings&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>welcome</span><span class=p>()</span>
</span></span></code></pre></div><h4 id=multiline-arrow-functions>Multiline arrow functions<a hidden class=anchor aria-hidden=true href=#multiline-arrow-functions>#</a></h4><p>Sometime we need a more complex function with multiple expressions.
In that case, we can enclose (包含) them in curly braces (大括号).</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>sum</span> <span class=o>=</span> <span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>result</span><span class=p>;</span> <span class=c1>// with curly braces, need an explicit &#34;return&#34;
</span></span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span> <span class=c1>// 3
</span></span></span></code></pre></div><hr><p><strong>Rewrite with arrow functions</strong></p><p>Replace Function Expressions with arrow functions in the code below:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>ask</span><span class=p>(</span><span class=nx>question</span><span class=p>,</span> <span class=nx>yes</span><span class=p>,</span> <span class=nx>no</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>confirm</span><span class=p>(</span><span class=nx>question</span><span class=p>))</span> <span class=nx>yes</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=k>else</span> <span class=nx>no</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>ask</span><span class=p>(</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;Do you agree?&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=kd>function</span><span class=p>()</span> <span class=p>{</span> <span class=nx>alert</span><span class=p>(</span><span class=s2>&#34;You agreed.&#34;</span><span class=p>);</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=kd>function</span><span class=p>()</span> <span class=p>{</span> <span class=nx>alert</span><span class=p>(</span><span class=s2>&#34;You canceled the execution.&#34;</span><span class=p>);</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span></code></pre></div><p>Note that there is an semicolon after a function call (two parentheses).</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>ask</span><span class=p>(</span><span class=nx>question</span><span class=p>,</span> <span class=nx>yes</span><span class=p>,</span> <span class=nx>no</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=nx>confirm</span><span class=p>(</span><span class=nx>question</span><span class=p>))</span> <span class=nx>yes</span><span class=p>();</span> <span class=c1>// 注意分号
</span></span></span><span class=line><span class=cl>    <span class=k>else</span> <span class=nx>no</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>ask</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;Do you agree?&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>()</span> <span class=p>=&gt;</span> <span class=nx>alert</span><span class=p>(</span><span class=s2>&#34;You agreed.&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=p>()</span> <span class=p>=&gt;</span> <span class=nx>alert</span><span class=p>(</span><span class=s2>&#34;You canceled the execution.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span></code></pre></div><h2 id=218-javascript-specials>2.18 JavaScript specials<a hidden class=anchor aria-hidden=true href=#218-javascript-specials>#</a></h2><h4 id=code-structure>Code Structure<a hidden class=anchor aria-hidden=true href=#code-structure>#</a></h4><p>Statements are delimited (分隔) with semicolon (分号):</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span><span class=s1>&#39;Hello&#39;</span><span class=p>);</span> <span class=nx>alert</span><span class=p>(</span><span class=s1>&#39;World&#39;</span><span class=p>);</span>
</span></span></code></pre></div><p>Usually a line-break is also treated as a delimiter (分隔符), so that would also work.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=nx>alter</span><span class=p>(</span><span class=s1>&#39;Hello&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>alter</span><span class=p>(</span><span class=s1>&#39;World&#39;</span><span class=p>)</span>
</span></span></code></pre></div><p>It&rsquo;s called &ldquo;automatic semicolon insertion&rdquo;. Sometimes it doesn&rsquo;t work, for instance:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span><span class=s2>&#34;There will be an error after this message&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>].</span><span class=nx>forEach</span><span class=p>(</span><span class=nx>alert</span><span class=p>)</span>
</span></span></code></pre></div><p>Semicolon are not required after code blocks <code>{...}</code> and syntax constructs with them like loops:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>f</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=c1>// no semicolon needed
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span><span class=p>(;;)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=c1>// no semicolon needed
</span></span></span></code></pre></div><h4 id=strict-mode>Strict mode<a hidden class=anchor aria-hidden=true href=#strict-mode>#</a></h4><p>To fully enable all features of morden JavaScript, use start script <code>"use strict"</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=s2>&#34;use strict&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>...</span>
</span></span></code></pre></div><p>The directive (指令) must at the top of the script or at the beganing of a function body.</p><h4 id=variables>Variables<a hidden class=anchor aria-hidden=true href=#variables>#</a></h4><p>Can be declared using:</p><ul><li><code>let</code></li><li><code>const</code></li><li><code>var</code> (old style)</li></ul><p>A variable name can include:</p><ul><li>letter and digits, but the first character may not be digit.</li><li>Characters <code>$</code> and <code>_</code> are normal</li><li>Non-latin aiphabets and hieroglyphs (象形文字) are also allowed, but commonly not used.</li></ul><p>There are 8 data types:</p><ul><li><code>number</code> for both floating-point and integer numbers.</li><li><code>bigint</code> for integer of arbitrary length.</li><li><code>string</code> fot strings</li><li><code>boolean</code> for logical values <code>true/false</code></li><li><code>null</code> a type with single value, meaning &ldquo;empty&rdquo; or &ldquo;doesn&rsquo;t not exist&rdquo;</li><li><code>undefined</code> a type with single value, meaning &ldquo;not assigned&rdquo;</li><li><code>object</code> and <code>symbol</code> - for complex data structures and unique identifiers</li></ul><p>The <code>typeof</code> operator returns the type for a value, with two execptions:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=k>typeof</span> <span class=kc>null</span> <span class=o>==</span> <span class=s2>&#34;object&#34;</span> <span class=c1>// an error in the language
</span></span></span><span class=line><span class=cl><span class=k>typeof</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{}</span> <span class=o>==</span> <span class=s2>&#34;function&#34;</span> <span class=c1>// functions are treated speically
</span></span></span></code></pre></div><h4 id=interaction>Interaction<a hidden class=anchor aria-hidden=true href=#interaction>#</a></h4><p>Basic browser UI functions</p><ul><li><p><code>prompt(question, [default])</code><br>Ask a <code>question</code>, and return either the visitor entered or <code>null</code> if they click &ldquo;cancel&rdquo;.</p></li><li><p><code>confirm(question)</code><br>Ask a <code>question</code>, and suggest to choose Ok and Cancel. The choice is returned as <code>true/false</code>.</p></li><li><p><code>alert(message)</code><br>Output a <code>message</code>.</p></li></ul><p>For instance:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>userName</span> <span class=o>=</span> <span class=nx>prompt</span><span class=p>(</span><span class=s2>&#34;Your name?&#34;</span><span class=p>,</span> <span class=s2>&#34;Alice&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>isTeaWanted</span> <span class=o>=</span> <span class=nx>confirm</span><span class=p>(</span><span class=s2>&#34;Do u want tea?&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=s2>&#34;Visitor: &#34;</span> <span class=o>+</span> <span class=nx>userName</span> <span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=s2>&#34;Tea wantd: &#34;</span> <span class=o>+</span> <span class=nx>isTeaWanted</span> <span class=p>);</span>
</span></span></code></pre></div><h4 id=operators>Operators<a hidden class=anchor aria-hidden=true href=#operators>#</a></h4><p>JavaScript supports the following operators:</p><ul><li><p><strong>Arithmetical</strong></p><p>Regular: <code>+ - * /</code>, also <code>%</code> for the remainder and <code>**</code> for power of a number.</p><p>The binary plus <code>+</code> concatenates strings. And if any of the operands is a string, the other one is convertd too.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span><span class=s1>&#39;1&#39;</span> <span class=o>+</span> <span class=mi>2</span><span class=p>);</span> <span class=c1>// &#39;12&#39;, string
</span></span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span><span class=mi>1</span> <span class=o>+</span> <span class=s1>&#39;2&#39;</span><span class=p>);</span> <span class=c1>// &#39;12&#39;, string
</span></span></span></code></pre></div></li><li><p><strong>Assignments</strong></p><p>There is a simple assigment: <code>a = b</code> and combined ones like <code>a *= 2</code></p></li><li><p><strong>Bitwise</strong></p><p>Bitwise operators work with 32-bit integers at the lowest, bit-level.</p></li><li><p><strong>Conditional</strong></p><p>The only operator with three parameters: <code>cord ? resultA : resultB</code>.</p></li><li><p><strong>Logical operators</strong></p><p>Logical AND <code>&&</code> and OR <code>||</code> perform short-circuit evaluation and then return the value it stopped.
Logical NOT <code>!</code> converts the operand to boolean type and returns the inverse value.</p></li><li><p><strong>Nullish coalescing operator</strong></p><p>The <code>??</code> operator provids a way to choose a defined value from a list of variables.
The result of <code>a ?? b</code> is <code>a</code> unless it&rsquo;s <code>null / undefined</code>, them <code>b</code>.</p></li><li><p><strong>Comparisons</strong></p><p>Equality check <code>==</code> for values of different types converts them to a number, so these are euqal:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=mi>0</span> <span class=o>==</span> <span class=kc>false</span> <span class=p>);</span> <span class=c1>// true
</span></span></span><span class=line><span class=cl><span class=nx>alert</span><span class=p>(</span> <span class=mi>0</span> <span class=o>==</span> <span class=s1>&#39;&#39;</span> <span class=p>);</span> <span class=c1>// true
</span></span></span></code></pre></div><p>Other comperisons convert to a number as well.</p><p>The strict equality operator <code>===</code> doesn&rsquo;t do the conversion: different types always mean different values for it.</p><ul><li>Values <code>null</code> and <code>undefined</code> are special: they equal <code>==</code> each other and don&rsquo;t euqal anything else.</li><li>And <code>NaN != NaN</code> is true.</li><li><code>"" == 0</code> and <code>" " == 0</code> are also true.</li></ul><p>Greater/less comparisons compare strings character-by-character, other types are converted to a number.</p></li></ul><h4 id=loops>Loops<a hidden class=anchor aria-hidden=true href=#loops>#</a></h4><ul><li><p>3 type of loops</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=c1>// 1
</span></span></span><span class=line><span class=cl><span class=k>while</span> <span class=p>(</span><span class=nx>condition</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 2
</span></span></span><span class=line><span class=cl><span class=k>do</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl><span class=p>}</span> <span class=k>while</span> <span class=p>(</span><span class=nx>condition</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 3
</span></span></span><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=mi>10</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=p>...</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></li><li><p>Directives <code>break/continue</code> allow to exit the whole loop/current iteration. Use <code>label</code> to break nested loops.</p></li></ul><h4 id=the-switch-construct>The &ldquo;switch&rdquo; construct<a hidden class=anchor aria-hidden=true href=#the-switch-construct>#</a></h4><p>The &ldquo;switch&rdquo; construct can replace multiple <code>if</code> checks.
It uses <code>===</code> (strict equality) for comparisons.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>age</span> <span class=o>=</span> <span class=nx>prompt</span><span class=p>(</span><span class=s1>&#39;Your age?&#39;</span><span class=p>,</span> <span class=mi>18</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>switch</span> <span class=p>(</span><span class=nx>age</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>case</span> <span class=mi>18</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=nx>alert</span><span class=p>(</span><span class=s2>&#34;Won&#39;t work&#34;</span><span class=p>);</span> <span class=c1>// the result of prompt is a string, not a number
</span></span></span><span class=line><span class=cl>    <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>case</span> <span class=s2>&#34;18&#34;</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=nx>alert</span><span class=p>(</span><span class=s2>&#34;This works!&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>default</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=nx>alert</span><span class=p>(</span><span class=s2>&#34;Any value not equal to one above&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h4 id=functions>Functions<a hidden class=anchor aria-hidden=true href=#functions>#</a></h4><p>Three ways to create a function in JavaScript:</p><ol><li>Function Declaration: the function in the main code</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>sum</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>result</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><ol start=2><li>Function Expression: the function in the context of an expression</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=kd>let</span> <span class=nx>sum</span> <span class=o>=</span> <span class=kd>function</span><span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>result</span> <span class=o>=</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>result</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><ol start=3><li>Arrow Functions:</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-JavaScript data-lang=JavaScript><span class=line><span class=cl><span class=c1>// expression on the right side
</span></span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>sum</span> <span class=o>=</span> <span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// multi line syntax { ... }
</span></span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>sum</span> <span class=o>=</span> <span class=p>(</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>a</span> <span class=o>+</span> <span class=nx>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// without arguemnts
</span></span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>sayHi</span> <span class=o>=</span> <span class=p>()</span> <span class=p>=&gt;</span> <span class=nx>alert</span><span class=p>(</span><span class=s2>&#34;hello&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// with a single argument
</span></span></span><span class=line><span class=cl><span class=kd>let</span> <span class=kr>double</span> <span class=o>=</span> <span class=nx>n</span> <span class=p>=&gt;</span> <span class=nx>n</span> <span class=o>*</span> <span class=mi>2</span><span class=p>;</span>
</span></span></code></pre></div><ul><li><p>Parameters can have default values: <code>function sum(a = 1, b = 2) {...}</code></p></li><li><p>Functions always return something. If there is no <code>return</code> statement, then return <code>undefined</code>.</p></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://starslayerx.github.io/tags/javascript/>Javascript</a></li></ul><nav class=paginav><a class=prev href=https://starslayerx.github.io/posts/uv-python-package-manager/><span class=title>« Prev</span><br><span>uv - Python package manager</span>
</a><a class=next href=https://starslayerx.github.io/posts/english-for-programmers-03/><span class=title>Next »</span><br><span>English for Programmers - 03</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Morden Javascript Tutorial Chapter 2 - Fundamentals: 11~18 on x" href="https://x.com/intent/tweet/?text=Morden%20Javascript%20Tutorial%20Chapter%202%20-%20Fundamentals%3a%2011~18&amp;url=https%3a%2f%2fstarslayerx.github.io%2fposts%2fmorden-javascript-tutorial-chapter-2-fundamentals-11~18%2f&amp;hashtags=Javascript"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Morden Javascript Tutorial Chapter 2 - Fundamentals: 11~18 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fstarslayerx.github.io%2fposts%2fmorden-javascript-tutorial-chapter-2-fundamentals-11~18%2f&amp;title=Morden%20Javascript%20Tutorial%20Chapter%202%20-%20Fundamentals%3a%2011~18&amp;summary=Morden%20Javascript%20Tutorial%20Chapter%202%20-%20Fundamentals%3a%2011~18&amp;source=https%3a%2f%2fstarslayerx.github.io%2fposts%2fmorden-javascript-tutorial-chapter-2-fundamentals-11~18%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Morden Javascript Tutorial Chapter 2 - Fundamentals: 11~18 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fstarslayerx.github.io%2fposts%2fmorden-javascript-tutorial-chapter-2-fundamentals-11~18%2f&title=Morden%20Javascript%20Tutorial%20Chapter%202%20-%20Fundamentals%3a%2011~18"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Morden Javascript Tutorial Chapter 2 - Fundamentals: 11~18 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fstarslayerx.github.io%2fposts%2fmorden-javascript-tutorial-chapter-2-fundamentals-11~18%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Morden Javascript Tutorial Chapter 2 - Fundamentals: 11~18 on whatsapp" href="https://api.whatsapp.com/send?text=Morden%20Javascript%20Tutorial%20Chapter%202%20-%20Fundamentals%3a%2011~18%20-%20https%3a%2f%2fstarslayerx.github.io%2fposts%2fmorden-javascript-tutorial-chapter-2-fundamentals-11~18%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Morden Javascript Tutorial Chapter 2 - Fundamentals: 11~18 on telegram" href="https://telegram.me/share/url?text=Morden%20Javascript%20Tutorial%20Chapter%202%20-%20Fundamentals%3a%2011~18&amp;url=https%3a%2f%2fstarslayerx.github.io%2fposts%2fmorden-javascript-tutorial-chapter-2-fundamentals-11~18%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentColor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Morden Javascript Tutorial Chapter 2 - Fundamentals: 11~18 on ycombinator" href="https://news.ycombinator.com/submitlink?t=Morden%20Javascript%20Tutorial%20Chapter%202%20-%20Fundamentals%3a%2011~18&u=https%3a%2f%2fstarslayerx.github.io%2fposts%2fmorden-javascript-tutorial-chapter-2-fundamentals-11~18%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://starslayerx.github.io/>Starslayerx' Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>