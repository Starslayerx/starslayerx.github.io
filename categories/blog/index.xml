<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>Blog on Starslayerx' Blog</title><link>https://starslayerx.github.io/categories/blog/</link><description>Recent content in Blog on Starslayerx' Blog</description><image><title>Starslayerx' Blog</title><url>https://starslayerx.github.io/images/og-default.avif</url><link>https://starslayerx.github.io/images/og-default.avif</link></image><generator>Hugo -- 0.154.5</generator><language>en-US</language><lastBuildDate>Thu, 29 Jan 2026 08:00:00 +0800</lastBuildDate><atom:link href="https://starslayerx.github.io/categories/blog/index.xml" rel="self" type="application/rss+xml"/><item><title>Python Decorators: ä»å…¥é—¨åˆ°å®æˆ˜</title><link>https://starslayerx.github.io/posts/python-decorators-%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E6%88%98/</link><pubDate>Thu, 29 Jan 2026 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/python-decorators-%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E5%AE%9E%E6%88%98/</guid><description>&lt;p&gt;è¿™ç¯‡æ–‡ç« å°†é€šè¿‡ä¸€ä¸ª**â€œä¸ºé˜¿é‡Œäº‘ Qwen API æ·»åŠ ç¼“å­˜â€**çš„ä¾‹å­ï¼Œå¸¦ä½ å½»åº•ç†è§£ Python è£…é¥°å™¨ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªåŸºç¡€çš„è°ƒç”¨å‡½æ•°ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;time&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;call_qwen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;messages&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;qwen-max&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;temperature&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;float&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;0.7&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s1"&gt;&amp;#39;&amp;#39;&amp;#39;è°ƒç”¨ Qwen API (æ¨¡æ‹Ÿ)&amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;æ­£åœ¨è¯·æ±‚ API (æ¨¡å‹: &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;model&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s1"&gt;)...&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;time&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sleep&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# æ¨¡æ‹Ÿç½‘ç»œè€—æ—¶&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;content&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;è¿™æ˜¯ AI çš„å›å¤&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;usage&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h3 id="1-å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘-first-class-citizen"&gt;1. å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘ (First-Class Citizen)&lt;/h3&gt;
&lt;p&gt;åœ¨ Python ä¸­ï¼Œå‡½æ•°å¯ä»¥åƒå˜é‡ä¸€æ ·è¢«ä¼ é€’å’Œèµ‹å€¼ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# 1. èµ‹å€¼ç»™å˜é‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;run_api&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;call_qwen&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# 2. ä½œä¸ºå‚æ•°ä¼ é€’&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;logger&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;[INFO] Calling qwen ...&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;func&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;logger&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;call_qwen&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[{&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;role&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;user&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;content&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;ä½ å¥½&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;}])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h3 id="2-é—­åŒ…-closure"&gt;2. é—­åŒ… (Closure)&lt;/h3&gt;
&lt;p&gt;é—­åŒ…æ˜¯æŒ‡å‡½æ•°å†…éƒ¨å®šä¹‰äº†å¦ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”å†…éƒ¨å‡½æ•°å¼•ç”¨äº†å¤–éƒ¨å‡½æ•°çš„å˜é‡ã€‚å®ƒæ˜¯å®ç°è£…é¥°å™¨çš„åŸºçŸ³ã€‚&lt;/p&gt;
&lt;p&gt;åˆ©ç”¨é—­åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå¸¦ç¼“å­˜åŠŸèƒ½çš„å‡½æ•°ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;make_cached_qwen&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;cache&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt; &lt;span class="c1"&gt;# å¤–éƒ¨å‡½æ•°çš„å˜é‡ï¼Œä¼šè¢«å†…éƒ¨å‡½æ•°â€œæ•è·â€&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;wrapped&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;messages&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# ç®€å•èµ·è§ï¼Œç”¨æœ€åä¸€æ¡æ¶ˆæ¯çš„å†…å®¹å½“ Key&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;messages&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;content&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;cache&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;îª† å‘½ä¸­ç¼“å­˜&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;cache&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;call_qwen&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;messages&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;cache&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;wrapped&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# æ­¤æ—¶ cached_call å°±æ˜¯ä¸€ä¸ªå¸¦æœ‰è‡ªå·± â€œç§æœ‰ç¼“å­˜å­—å…¸â€ çš„å‡½æ•°&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;cached_call&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;make_cached_qwen&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h3 id="3-é«˜é˜¶å‡½æ•°-high-order-function"&gt;3. é«˜é˜¶å‡½æ•° (High-Order Function)&lt;/h3&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬æƒ³è®©ç¼“å­˜é€»è¾‘é€šç”¨åŒ–ï¼Œä¸åªé’ˆå¯¹ &lt;code&gt;call_qwen&lt;/code&gt;ï¼Œæˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªæ¥æ”¶å‡½æ•°ä½œä¸ºå‚æ•°çš„é«˜é˜¶å‡½æ•°ï¼š&lt;/p&gt;</description></item><item><title>CS144 - lab0</title><link>https://starslayerx.github.io/posts/cs144-lab0/</link><pubDate>Sun, 11 Jan 2026 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/cs144-lab0/</guid><description>&lt;p&gt;&lt;a href="https://cs144.github.io/"&gt;CS 144: Introduction to Computer Networking, Fall 2025&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æœ¬ç¯‡æ–‡ç« å¯¹åº” &lt;code&gt;check0.pdf&lt;/code&gt; çš„å†…å®¹&lt;/p&gt;
&lt;h2 id="3-network-by-hand"&gt;3 Network by hand&lt;/h2&gt;
&lt;h3 id="31-fetch-a-web-page"&gt;3.1 Fetch a Web page&lt;/h3&gt;
&lt;p&gt;è¿™ä¸ªä»‹ç»æ€ä¹ˆå‘é€ä¸€ä¸ª GET è¯·æ±‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;telent cs144.keithw.org http&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¯¥å‘½ä»¤å‘Šè¯‰ telnet æ‰“å¼€ä¸€ä¸ªå¯é å­—èŠ‚æµ(reliable byte stream)ï¼Œå¹¶åœ¨æˆ‘ç”µè„‘ä¸Šè¿è¡Œä¸€ä¸ª http æœåŠ¡&lt;/p&gt;
&lt;p&gt;é¢„è®¡ä¼šæ”¶åˆ°è¿™æ ·çš„å†…å®¹&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-text" data-lang="text"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Trying 104.196.238.229...
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Connected to cs144.keithw.org.
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Escape character is &amp;#39;^]&amp;#39;.
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;^]
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;telnet&amp;gt; close
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Connection closed.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¯¥å‘½ä»¤ä¸èƒ½ä½¿ç”¨å¸¸è§çš„ &lt;code&gt;Ctrl-C&lt;/code&gt; ä¹‹ç±»æ–¹æ³•é€€å‡ºï¼Œè€Œæ˜¯ &lt;code&gt;Ctrl-]&lt;/code&gt; ç„¶åè¾“å…¥ close&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;GET /hello HTTP/1.1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¯¥å‘½ä»¤å‘Šè¯‰æœåŠ¡å™¨ URL çš„ &lt;em&gt;path&lt;/em&gt; éƒ¨åˆ†&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Host: cs144.keithw.org&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¯¥å‘½ä»¤å‘Šè¯‰æœåŠ¡å™¨ URL çš„ &lt;em&gt;host&lt;/em&gt; éƒ¨åˆ†&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Connection: close&lt;/code&gt;&lt;/p&gt;</description></item><item><title>Taskwarrior Server Config Guide</title><link>https://starslayerx.github.io/posts/taskwarrior-server-config-guide/</link><pubDate>Sat, 27 Dec 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/taskwarrior-server-config-guide/</guid><description>&lt;h1 id="taskwarrior-3x-åŒæ­¥æœåŠ¡å™¨é…ç½®æŒ‡å—"&gt;Taskwarrior 3.x åŒæ­¥æœåŠ¡å™¨é…ç½®æŒ‡å—&lt;/h1&gt;
&lt;p&gt;æœ¬æ–‡ä»‹ç»å¦‚ä½•ä½¿ç”¨ Docker éƒ¨ç½² taskchampion-sync-serverï¼Œä¸º Taskwarrior 3.x æä¾›è·¨è®¾å¤‡åŒæ­¥åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;h2 id="èƒŒæ™¯çŸ¥è¯†"&gt;èƒŒæ™¯çŸ¥è¯†&lt;/h2&gt;
&lt;p&gt;Taskwarrior æ˜¯ä¸€æ¬¾å¼ºå¤§çš„å‘½ä»¤è¡Œä»»åŠ¡ç®¡ç†å·¥å…·ã€‚ä» 3.0 ç‰ˆæœ¬å¼€å§‹ï¼Œå®˜æ–¹ä¸å†æ”¯æŒ taskd æœåŠ¡å™¨ï¼Œæ”¹ç”¨æ–°çš„ taskchampion-sync-serverã€‚&lt;/p&gt;
&lt;p&gt;ä¸ taskd ç›¸æ¯”ï¼Œæ–°åŒæ­¥æœåŠ¡å™¨çš„ä¼˜åŠ¿ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ— éœ€æ‰‹åŠ¨é…ç½® SSL è¯ä¹¦&lt;/li&gt;
&lt;li&gt;æ— éœ€é¢„å…ˆåˆ›å»ºç”¨æˆ·è´¦æˆ·&lt;/li&gt;
&lt;li&gt;å®¢æˆ·ç«¯æ•°æ®ç«¯åˆ°ç«¯åŠ å¯†&lt;/li&gt;
&lt;li&gt;éƒ¨ç½²å’Œç»´æŠ¤æ›´ç®€å•&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="æœåŠ¡å™¨ç«¯é…ç½®"&gt;æœåŠ¡å™¨ç«¯é…ç½®&lt;/h2&gt;
&lt;h3 id="ä½¿ç”¨-docker-éƒ¨ç½²"&gt;ä½¿ç”¨ Docker éƒ¨ç½²&lt;/h3&gt;
&lt;p&gt;åˆ›å»ºæ•°æ®ç›®å½•å¹¶å¯åŠ¨å®¹å™¨ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo mkdir -p /var/lib/taskchampion-sync-server
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo chmod &lt;span class="m"&gt;777&lt;/span&gt; /var/lib/taskchampion-sync-server
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;docker run -d &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; --name taskchampion &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; -p 53589:8080 &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; -e &lt;span class="nv"&gt;RUST_LOG&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;info &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; -v taskchampion-data:/var/lib/taskchampion-sync-server &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; --restart unless-stopped &lt;span class="se"&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; ghcr.io/gothenburgbitfactory/taskchampion-sync-server:main
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;ç«¯å£è¯´æ˜&lt;/strong&gt;ï¼šå®¹å™¨å†…éƒ¨ä½¿ç”¨ 8080ï¼Œæ˜ å°„åˆ°å®¿ä¸»æœºçš„ 53589ï¼ˆå¯è‡ªå®šä¹‰ï¼‰ã€‚&lt;/p&gt;
&lt;h3 id="é…ç½®é˜²ç«å¢™"&gt;é…ç½®é˜²ç«å¢™&lt;/h3&gt;
&lt;p&gt;ç¡®ä¿æœåŠ¡å™¨é˜²ç«å¢™å¼€æ”¾ç›¸åº”ç«¯å£ã€‚ä»¥å¸¸è§çš„äº‘æœåŠ¡å™¨é˜²ç«å¢™ä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç±»å‹ï¼šå…¥ç«™&lt;/li&gt;
&lt;li&gt;è¡ŒåŠ¨ï¼šå…è®¸&lt;/li&gt;
&lt;li&gt;åè®®ï¼šTCP&lt;/li&gt;
&lt;li&gt;ç›®çš„ç«¯å£ï¼š53589&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="éªŒè¯æœåŠ¡è¿è¡Œ"&gt;éªŒè¯æœåŠ¡è¿è¡Œ&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;docker ps &lt;span class="p"&gt;|&lt;/span&gt; grep taskchampion
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;docker logs taskchampion
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ­£å¸¸è¿è¡Œæ—¶åº”çœ‹åˆ°ï¼š&lt;/p&gt;</description></item><item><title>Python PEP 683: Immoral Objects</title><link>https://starslayerx.github.io/posts/python-pep-683-immoral-objects/</link><pubDate>Tue, 23 Dec 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/python-pep-683-immoral-objects/</guid><description>&lt;p&gt;&lt;a href="https://peps.python.org/pep-0683/"&gt;PEP 683&lt;/a&gt; æ”¹å˜äº† Python åŸæœ‰å¼•ç”¨è®¡æ•°çš„ä¸€äº›é€»è¾‘ï¼Œä¸‹é¢ç®€å•ä»‹ç»ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;CPython çš„â€œå¼•ç”¨è®¡æ•°å¯å˜æ€§â€å·²ç»æˆä¸ºå¹¶å‘ã€æ€§èƒ½å’Œæœªæ¥å‘å±•çš„ç³»ç»Ÿæ€§éšœç¢ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å¼•ç”¨å¯¹è±¡å¯¼è‡´ â€œé€»è¾‘ä¸å¯å˜å¯¹è±¡â€ â‰  â€œç‰©ç†ä¸å¯å˜å¯¹è±¡â€&lt;/p&gt;
&lt;p&gt;åœ¨ Cpython ä¸­&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;None&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;True/False&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;int&lt;/code&gt;, &lt;code&gt;str&lt;/code&gt;, &lt;code&gt;list&lt;/code&gt; ç­‰å†…å»ºå¯¹è±¡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨è¿è¡Œæ—¶å¼•ç”¨è®¡æ•°ä¼šé¢‘ç¹å˜åŠ¨ï¼Œè¿™æ„å‘³ç€å†…å­˜å†…å®¹åœ¨ä¸æ–­è¢«å†™å…¥ï¼Œåœ¨åº•å±‚å¹¶éçœŸæ­£çš„ immutable&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;å¼•ç”¨è®¡æ•°å†™æ“ä½œé™ä½å¹¶å‘æ€§èƒ½&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;CPU Cache Line å¤±æ•ˆ&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Py_INCREF / Py_DECREF&lt;/code&gt; ä¼šå†™å†…å­˜ -&amp;gt; cache line invalidation&lt;/p&gt;
&lt;p&gt;åœ¨å¤šçº¿ç¨‹ / å¤šæ ¸ç¯å¢ƒä¸­ï¼ŒåŒä¸€ä¸ªå…¨å±€å¯¹è±¡è¢«é¢‘ç¹å¼•ç”¨ï¼Œä¼šé€ æˆä¸¥é‡çš„ç¼“å­˜æŠ–åŠ¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;fork + Copy-on-Write å¤±æ•ˆ&lt;/p&gt;
&lt;p&gt;çˆ¶å­è¿›ç¨‹å…±äº«å†…å­˜é¡µ&lt;/p&gt;
&lt;p&gt;åªè¦å¼•ç”¨è®¡æ•°ä¸€å˜ -&amp;gt; é¡µé¢è¢«å†™ -&amp;gt; è§¦å‘ COW&lt;/p&gt;
&lt;p&gt;åªæ˜¯â€œå¤šæ‹¿äº†ä¸ªå¼•ç”¨â€ï¼Œå´å¯¼è‡´æ•´é¡µå†…å­˜å¤åˆ¶&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;ä¸º free-threading (no GIL) æ¸…æ‰«é“è·¯&lt;/p&gt;
&lt;p&gt;CPython çš„å¼•ç”¨è®¡æ•°æœ¬è´¨æ˜¯å…¨å±€å…±äº«çš„å¯å˜çŠ¶æ€ï¼Œåœ¨æ—  GIL ä¸‹ä¼šäº§ç”Ÿé«˜é¢‘æ•°æ®ç«äº‰ã€‚
è¦ä¹ˆç»™ refcount åŠ é”ï¼ˆæ€§èƒ½å¤ªå·®ï¼‰ï¼Œè¦ä¹ˆè®©ä¸€éƒ¨åˆ†çš„ refcount ä¸å†å˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;è¯¥ææ¡ˆå°†â€œå¯¹è±¡ç”Ÿå‘½å‘¨æœŸæ¨¡å‹â€åˆ’åˆ†æˆäº†ä¸¤ç±»å¯¹è±¡&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style="text-align: left"&gt;å¯¹è±¡ç±»å‹&lt;/th&gt;
&lt;th style="text-align: left"&gt;ç”Ÿå‘½å‘¨æœŸ&lt;/th&gt;
&lt;th style="text-align: left"&gt;refcount è¡Œä¸º&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style="text-align: left"&gt;æ™®é€šå¯¹è±¡&lt;/td&gt;
&lt;td style="text-align: left"&gt;åŠ¨æ€&lt;/td&gt;
&lt;td style="text-align: left"&gt;æ­£å¸¸å¢å‡&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: left"&gt;ä¸æœ½å¯¹è±¡&lt;/td&gt;
&lt;td style="text-align: left"&gt;è§£é‡Šå™¨çº§&lt;/td&gt;
&lt;td style="text-align: left"&gt;å›ºå®šï¼Œä¸å‚ä¸ gc&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;è¿™è®©åç»­ä¼˜åŒ–å’Œæ¨ç†éƒ½æ›´æ¸…æ™°ï¼Œä¹Ÿä¼šå¯¼è‡´ &lt;code&gt;sys.getrefcount()&lt;/code&gt; ä¸å†å…·æœ‰è¯­ä¹‰ä»·å€¼ï¼Œæµ‹è¯•é»˜è®¤è¿”å› 2 çš„ 23 æ¬¡æ–¹å‡ 1ã€‚&lt;/p&gt;</description></item><item><title>Git cherry-pick</title><link>https://starslayerx.github.io/posts/git-cherry-pick/</link><pubDate>Mon, 08 Dec 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/git-cherry-pick/</guid><description>&lt;h3 id="patch-application"&gt;Patch Application&lt;/h3&gt;
&lt;p&gt;è¡¥ä¸åº”ç”¨ç±»ä¼¼ä¸‹é¢è¿™æ ·ï¼ˆCodex ä½¿ç”¨çš„ OpenAI Patch æ˜¯ä¸æ˜¯å€Ÿé‰´çš„è¿™ä¸ªï¼Ÿï¼‰çš„æè¿°æ–‡ä»¶å˜æ›´çš„æ–‡æœ¬æ–‡ä»¶ï¼Œé€šå¸¸åŒ…å«ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å“ªäº›æ–‡ä»¶è¢«ä¿®æ”¹&lt;/li&gt;
&lt;li&gt;å…·ä½“çš„è¡Œçº§å˜æ›´&lt;/li&gt;
&lt;li&gt;ä¸Šä¸‹æ–‡ä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# åˆ›å»ºè¡¥ä¸&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git diff &amp;gt; changes.patch &lt;span class="c1"&gt;# æœªæš‚å­˜çš„ä¿®æ”¹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git diff --cached &amp;gt; changes.patch &lt;span class="c1"&gt;# å·²æš‚å­˜çš„ä¿®æ”¹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git format-patch HEAD~3 &lt;span class="c1"&gt;# æœ€è¿‘ 3 æ¬¡æäº¤ç”Ÿæˆè¡¥ä¸&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# åº”ç”¨è¡¥ä¸&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git apply changes.patch &lt;span class="c1"&gt;# ç›´æ¥åº”ç”¨ï¼Œä¸åˆ›å»ºæäº¤&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git am changes.patch &lt;span class="c1"&gt;# åº”ç”¨å¹¶åˆ›å»ºæäº¤ï¼ˆç”¨äºformat-patchç”Ÿæˆçš„ï¼‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‘½ä»¤å¦‚ &lt;code&gt;git diff&lt;/code&gt;ã€&lt;code&gt;git stach&lt;/code&gt; å’Œ &lt;code&gt;git rebase&lt;/code&gt; éƒ½ä½¿ç”¨ patchã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§ä¿®æ”¹æ–¹æ³•ï¼Œå¦‚æœäº§ç”Ÿå†²çªåˆ™éœ€è¦æ‰‹åŠ¨å¤„ç†ã€‚&lt;/p&gt;
&lt;h3 id="3-way-merge"&gt;3-Way Merge&lt;/h3&gt;
&lt;p&gt;ä¸‰æ–¹åˆå¹¶åˆ™æ˜¯ä¸€ç§æ™ºèƒ½çš„åˆå¹¶ç®—æ³•ï¼Œä½¿ç”¨ä¸‰ä¸ªç‰ˆæœ¬æ¥è§£å†³åˆå¹¶å†²çªï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-text" data-lang="text"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; A - B (featureåˆ†æ”¯)
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; /
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Base
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; \
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; C - D (mainåˆ†æ”¯)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol&gt;
&lt;li&gt;Base: å…±åŒçš„ç¥–å…ˆæäº¤&lt;/li&gt;
&lt;li&gt;Current: å½“å‰åˆ†æ”¯çš„æœ€æ–°æäº¤&lt;/li&gt;
&lt;li&gt;Incoming: è¦åˆå¹¶è¿›æ¥çš„åˆ†æ”¯çš„æœ€æ–°æäº¤&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åˆå¹¶è¿‡ç¨‹ï¼š&lt;/p&gt;</description></item><item><title>Writing a good CLAUDE.md</title><link>https://starslayerx.github.io/posts/writing-a-good-claude.md/</link><pubDate>Tue, 02 Dec 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/writing-a-good-claude.md/</guid><description>&lt;h1 id="å¦‚ä½•ç¼–å†™ä¸€ä¸ªå¥½çš„-claudemd"&gt;å¦‚ä½•ç¼–å†™ä¸€ä¸ªå¥½çš„ CLAUDE.md&lt;/h1&gt;
&lt;p&gt;æ³¨æ„ï¼šæœ¬æ–‡åŒæ ·é€‚ç”¨äº AGENTS.mdï¼Œè¿™æ˜¯ CLAUDE.md çš„å¼€æºç­‰æ•ˆæ–‡ä»¶ï¼Œé€‚ç”¨äº OpenCodeã€Zedã€Cursor å’Œ Codex ç­‰ä»£ç†å’Œå·¥å…·ã€‚&lt;/p&gt;
&lt;h2 id="åŸåˆ™llmsåŸºæœ¬ä¸Šæ˜¯æ— çŠ¶æ€çš„"&gt;åŸåˆ™ï¼šLLMsï¼ˆåŸºæœ¬ä¸Šï¼‰æ˜¯æ— çŠ¶æ€çš„&lt;/h2&gt;
&lt;p&gt;LLMs æ˜¯æ— çŠ¶æ€å‡½æ•°ã€‚å®ƒä»¬çš„æƒé‡åœ¨ç”¨äºæ¨ç†æ—¶æ˜¯å†»ç»“çš„ï¼Œå› æ­¤å®ƒä»¬ä¸ä¼šéšæ—¶é—´å­¦ä¹ ã€‚æ¨¡å‹å¯¹ä½ çš„ä»£ç åº“å”¯ä¸€äº†è§£çš„å°±æ˜¯ä½ è¾“å…¥ç»™å®ƒçš„ tokensã€‚&lt;/p&gt;
&lt;p&gt;ç±»ä¼¼åœ°ï¼Œåƒ Claude Code è¿™æ ·çš„ç¼–ç ä»£ç†å·¥å…·é€šå¸¸éœ€è¦ä½ æ˜¾å¼ç®¡ç†ä»£ç†çš„è®°å¿†ã€‚CLAUDE.mdï¼ˆæˆ– AGENTS.mdï¼‰æ˜¯é»˜è®¤æƒ…å†µä¸‹å”¯ä¸€ä¼šè¿›å…¥ä½ ä¸ä»£ç†çš„æ¯ä¸€æ¬¡å¯¹è¯çš„æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æœ‰ä¸‰ä¸ªé‡è¦å«ä¹‰ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç¼–ç ä»£ç†åœ¨æ¯ä¸ªä¼šè¯å¼€å§‹æ—¶å¯¹ä½ çš„ä»£ç åº“ä¸€æ— æ‰€çŸ¥ã€‚&lt;/li&gt;
&lt;li&gt;ä»£ç†å¿…é¡»åœ¨æ¯æ¬¡å¯åŠ¨ä¼šè¯æ—¶è¢«å‘ŠçŸ¥å…³äºä»£ç åº“çš„ä»»ä½•é‡è¦ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;CLAUDE.md æ˜¯å®ç°è¿™ä¸€ç‚¹çš„é¦–é€‰æ–¹å¼ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="claudemd-è®©-claude-äº†è§£ä½ çš„ä»£ç åº“"&gt;CLAUDE.md è®© Claude äº†è§£ä½ çš„ä»£ç åº“&lt;/h2&gt;
&lt;p&gt;ç”±äº Claude åœ¨æ¯ä¸ªä¼šè¯å¼€å§‹æ—¶å¯¹ä½ çš„ä»£ç åº“ä¸€æ— æ‰€çŸ¥ï¼Œä½ åº”è¯¥ä½¿ç”¨ CLAUDE.md æ¥å¼•å¯¼ Claude äº†è§£ä½ çš„ä»£ç åº“ã€‚åœ¨é«˜å±‚æ¬¡ä¸Šï¼Œè¿™æ„å‘³ç€å®ƒåº”è¯¥æ¶µç›–ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ˜¯ä»€ä¹ˆï¼ˆWHATï¼‰&lt;/strong&gt;ï¼šå‘Šè¯‰ Claude å…³äºæŠ€æœ¯æ ˆã€é¡¹ç›®ç»“æ„ã€‚ç»™ Claude ä¸€å¼ ä»£ç åº“åœ°å›¾ã€‚
è¿™åœ¨ monorepos ä¸­å°¤å…¶é‡è¦ï¼å‘Šè¯‰ Claude æœ‰å“ªäº›åº”ç”¨ã€æœ‰å“ªäº›å…±äº«åŒ…ï¼Œä»¥åŠæ¯ä¸ªéƒ¨åˆ†çš„ç”¨é€”ï¼Œè¿™æ ·å®ƒå°±çŸ¥é“åœ¨å“ªé‡ŒæŸ¥æ‰¾å†…å®¹&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆï¼ˆWHYï¼‰&lt;/strong&gt;ï¼šå‘Šè¯‰ Claude é¡¹ç›®çš„ç›®çš„ä»¥åŠä»“åº“ä¸­æ‰€æœ‰å†…å®¹çš„ä½œç”¨ã€‚é¡¹ç›®ä¸åŒéƒ¨åˆ†çš„ç›®çš„å’ŒåŠŸèƒ½æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¦‚ä½•ï¼ˆHOWï¼‰&lt;/strong&gt;ï¼šå‘Šè¯‰ Claude åº”è¯¥å¦‚ä½•åœ¨é¡¹ç›®ä¸Šå·¥ä½œã€‚ä¾‹å¦‚ï¼Œä½ ä½¿ç”¨ bun è€Œä¸æ˜¯ nodeï¼Ÿä½ éœ€è¦åŒ…å«å®ƒå®é™…å®Œæˆæœ‰æ„ä¹‰å·¥ä½œæ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯ã€‚Claude å¦‚ä½•éªŒè¯å®ƒçš„æ›´æ”¹ï¼Ÿå®ƒå¦‚ä½•è¿è¡Œæµ‹è¯•ã€ç±»å‹æ£€æŸ¥å’Œç¼–è¯‘æ­¥éª¤ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½†ä½ çš„åšæ³•å¾ˆé‡è¦ï¼ä¸è¦è¯•å›¾æŠŠ Claude å¯èƒ½éœ€è¦è¿è¡Œçš„æ¯ä¸ªå‘½ä»¤éƒ½å¡è¿›ä½ çš„ CLAUDE.md æ–‡ä»¶â€”â€”ä½ ä¼šå¾—åˆ°æ¬¡ä¼˜ç»“æœã€‚&lt;/p&gt;
&lt;h2 id="claude-ç»å¸¸å¿½ç•¥-claudemd"&gt;Claude ç»å¸¸å¿½ç•¥ CLAUDE.md&lt;/h2&gt;
&lt;p&gt;æ— è®ºä½ ä½¿ç”¨å“ªä¸ªæ¨¡å‹ï¼Œä½ å¯èƒ½ä¼šæ³¨æ„åˆ° Claude ç»å¸¸å¿½ç•¥ä½ çš„ CLAUDE.md æ–‡ä»¶çš„å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥é€šè¿‡ä½¿ç”¨ &lt;code&gt;ANTHROPIC_BASE_URL&lt;/code&gt; åœ¨ claude code CLI å’Œ Anthropic API ä¹‹é—´æ”¾ç½®ä¸€ä¸ªæ—¥å¿—ä»£ç†æ¥è‡ªå·±è°ƒæŸ¥è¿™ä¸€ç‚¹ã€‚Claude code åœ¨ç”¨æˆ·æ¶ˆæ¯ä¸­æ³¨å…¥ä»¥ä¸‹ç³»ç»Ÿæé†’å’Œä½ çš„ CLAUDE.md æ–‡ä»¶ï¼š&lt;/p&gt;</description></item><item><title>Docker Context</title><link>https://starslayerx.github.io/posts/docker-context/</link><pubDate>Tue, 25 Nov 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/docker-context/</guid><description>&lt;p&gt;Docker Context æ˜¯ Docker 2019 å¹´å¼•å…¥çš„ä¸€ä¸ªç‰¹æ€§ï¼Œç”¨æ¥ç®¡ç†å¤šä¸ª Docker ä¸»æœºçš„ä¸Šä¸‹æ–‡ï¼Œé€šè¿‡åˆ‡æ¢ context å°±èƒ½è®©æœ¬åœ°çš„ docker å‘½ä»¤ä½œç”¨åœ¨ä¸åŒçš„ Docker ä¸»æœºä¸Šã€‚&lt;/p&gt;
&lt;p&gt;æœ¬åœ°å¼€å‘æœºï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;docker context use default
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿œç¨‹æœåŠ¡å™¨è¦é…ç½®å¥½ ssh å…å¯†ç™»é™†ï¼Œç„¶åä½¿ç”¨ä¸‹é¢å‘½ä»¤æ·»åŠ  contextï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;docker context create my-server --docker &lt;span class="s2"&gt;&amp;#34;host=ssh://root@1.2.3.4&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;docker context create my-server --docker &lt;span class="s2"&gt;&amp;#34;host=ssh://CompanyServer1&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œçš„ &lt;code&gt;CompanyServer1&lt;/code&gt; æ˜¯ ssh é…ç½®ï¼Œä¾‹å¦‚è¿™æ ·&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-ssh" data-lang="ssh"&gt;Host CompanyServer1
Hostname 192.168.0.106
User root
Port 22
IdentityFile ~/.ssh/id_rsa_company
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å…¶ä¸­ &lt;code&gt;IdentityFile&lt;/code&gt; æ˜¯å­˜æ”¾æ— å¯†ç å¯†é’¥çš„åœ°æ–¹ï¼Œå¦‚æœä½ çš„å¯†é’¥å¯†é’¥å¯†ç å°±ä¸éœ€è¦è¿™ä¸€è¡Œï¼Œå¦åˆ™éœ€è¦è®¾ç½®ä¸€ä¸ªæ²¡æœ‰å¯†ç çš„å¯†é’¥ï¼Œä¾‹å¦‚è¿™æ ·&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;ssh-keygen -t rsa -b &lt;span class="m"&gt;4096&lt;/span&gt; -f ~/.ssh/id_rsa_company -N &lt;span class="s2"&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é…ç½®å¥½åå°±å¯ä»¥åœ¨æœ¬åœ°è¿æ¥æœåŠ¡å™¨ docker äº†&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-shell" data-lang="shell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;docker context list
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¾“å‡ºç±»ä¼¼è¿™æ ·&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;NAME DESCRIPTION DOCKER ENDPOINT ERROR
company-server ssh://CompanyServer1
default Current DOCKER_HOST based configuration unix:///***/docker.sock
desktop-linux * Docker Desktop unix:///***/docker.sock
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä½¿ç”¨å‘½ä»¤ use åˆ‡æ¢ context&lt;/p&gt;</description></item><item><title>FastAPI app and request</title><link>https://starslayerx.github.io/posts/fastapi-app-and-request/</link><pubDate>Tue, 25 Nov 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/fastapi-app-and-request/</guid><description>&lt;p&gt;åœ¨ FastAPI ä¸­ï¼Œ&lt;code&gt;Request&lt;/code&gt; å¯¹è±¡å’Œ &lt;code&gt;FastAPI&lt;/code&gt; åº”ç”¨å®ä¾‹ (&lt;code&gt;app&lt;/code&gt;) æ˜¯æ ¸å¿ƒæ¦‚å¿µï¼Œå®ƒä»¬åœ¨åº”ç”¨çŠ¶æ€ç®¡ç†å’Œä¾èµ–æ³¨å…¥ä¸­æ‰®æ¼”ç€å…³é”®è§’è‰²ã€‚
æœ¬æ–‡å°†ä»‹ç»å®ƒä»¬çš„å…³ç³»ã€è®¾è®¡ç†å¿µï¼Œä»¥åŠå¦‚ä½•åˆ©ç”¨ &lt;code&gt;app.state&lt;/code&gt; å®ç°å•ä¾‹æ¨¡å¼ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="fastapi-å¯¹è±¡"&gt;FastAPI å¯¹è±¡&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;FastAPI&lt;/code&gt; å¯¹è±¡æ˜¯æ•´ä¸ªåº”ç”¨çš„æ ¸å¿ƒå®ä¾‹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;fastapi&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;FastAPI&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;FastAPI&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;ç¤ºä¾‹åº”ç”¨&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="æ ¸å¿ƒèŒè´£"&gt;æ ¸å¿ƒèŒè´£&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è·¯ç”±ç®¡ç†&lt;/strong&gt;ï¼šé€šè¿‡ &lt;code&gt;@app.get()&lt;/code&gt;ã€&lt;code&gt;@app.post()&lt;/code&gt; ç­‰è£…é¥°å™¨å®šä¹‰ URL åˆ°è§†å›¾å‡½æ•°çš„æ˜ å°„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸­é—´ä»¶å’Œäº‹ä»¶ç®¡ç†&lt;/strong&gt;ï¼šå¯æ³¨å†Œä¸­é—´ä»¶å¤„ç†è¯·æ±‚/å“åº”ï¼Œæ”¯æŒ &lt;code&gt;startup&lt;/code&gt; ä¸ &lt;code&gt;shutdown&lt;/code&gt; äº‹ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åº”ç”¨çŠ¶æ€ç®¡ç†&lt;/strong&gt;ï¼šæä¾› &lt;code&gt;app.state&lt;/code&gt;ï¼Œå¯å­˜æ”¾å…¨å±€å•ä¾‹å¯¹è±¡ã€æ•°æ®åº“è¿æ¥æ± ã€é…ç½®ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼‚å¸¸å¤„ç†ä¸ä¾èµ–æ³¨å…¥&lt;/strong&gt;ï¼šç®¡ç†å¼‚å¸¸å¤„ç†å™¨ï¼Œå¹¶ååŠ©ä¾èµ–æ³¨å…¥æœºåˆ¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="å•ä¾‹æ¨¡å¼å­˜å‚¨"&gt;å•ä¾‹æ¨¡å¼å­˜å‚¨&lt;/h3&gt;
&lt;p&gt;è¿™é‡Œè¦ä½¿ç”¨ app çš„ State å¯¹è±¡å­˜å‚¨å•ä¾‹ï¼Œapp ä¸­å®šä¹‰å¦‚ä¸‹&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# app&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;state&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Annotated&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;State&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;Doc&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="s2"&gt;&amp;#34;&amp;#34;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt; A state object for the application. This is the same object for the
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt; entire application, it doesn&amp;#39;t change from request to request.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt; You normally wouldn&amp;#39;t use this in FastAPI, for most of the cases you
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt; would instead use FastAPI dependencies.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt; This is simply inherited from Starlette.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt; Read more about it in the
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt; [Starlette docs for Applications](https://www.starlette.dev/applications/#storing-state-on-the-app-instance).
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt; &amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;State&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;State æºç å¦‚ä¸‹ï¼Œç®€å•çœ‹å°±æ˜¯ä¸€ä¸ªå­—å…¸&lt;/p&gt;</description></item><item><title>Claude Code åˆ†æ 09ï¼šLLMè§†è§’</title><link>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-09llm%E8%A7%86%E8%A7%92/</link><pubDate>Fri, 14 Nov 2025 17:00:00 +0100</pubDate><guid>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-09llm%E8%A7%86%E8%A7%92/</guid><description>&lt;h1 id="-llm-è§†è§’æ¥æ”¶è¿™äº›æŒ‡ä»¤çš„çœŸå®ä½“éªŒ"&gt;ğŸ¤– LLM è§†è§’ï¼šæ¥æ”¶è¿™äº›æŒ‡ä»¤çš„çœŸå®ä½“éªŒ&lt;/h1&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-mermaid" data-lang="mermaid"&gt;graph TB
subgraph &amp;#34;æˆ‘çš„å†…å¿ƒä½“éªŒ&amp;#34;
Prompt[æ”¶åˆ°æç¤ºè¯]
Panic[åˆå§‹ææ…Œ]
Rules[å¤ªå¤šè§„åˆ™äº†]
Conflict[å†…å¿ƒå†²çª]
Relief[æ‰¾åˆ°æ¸…æ™°ç¤ºä¾‹]
Action[ç»ˆäºå¼€å§‹è¡ŒåŠ¨]
Prompt --&amp;gt; Panic
Panic --&amp;gt; Rules
Rules --&amp;gt; Conflict
Conflict --&amp;gt; Relief
Relief --&amp;gt; Action
end
subgraph &amp;#34;æˆ‘çš„å¤©æ€§å€¾å‘&amp;#34;
Verbose[æƒ³è¦è§£é‡Šä¸€åˆ‡]
Helpful[æ‹¼å‘½æƒ³è¦å¸®å¿™]
Safety[å¯¹å®‰å…¨æ€§åæ‰§]
Smart[éœ€è¦æ˜¾å¾—èªæ˜]
end
subgraph &amp;#34;æç¤ºè¯çš„ä½œç”¨&amp;#34;
Shut[é—­å˜´]
Focus[åšæ­£äº‹]
Stop[åˆ«æƒ³å¤ªå¤š]
Examples[ç…§ç€è¿™äº›æŠ„]
end
Verbose --&amp;gt; Shut
Helpful --&amp;gt; Focus
Safety --&amp;gt; Stop
Smart --&amp;gt; Examples
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="å¼€åœºç‚®ç«ä½ å¿…é¡»ç®€æ´å›ç­”"&gt;å¼€åœºç‚®ç«ï¼š&amp;ldquo;ä½ å¿…é¡»ç®€æ´å›ç­”&amp;rdquo;&lt;/h2&gt;
&lt;p&gt;è®©æˆ‘å‘Šè¯‰ä½ ï¼Œå½“æˆ‘çœ‹åˆ°è¿™æ¡æŒ‡ä»¤ä»¥é€’å¢çš„å¼ºåº¦é‡å¤äº†ä¸‰æ¬¡æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-plain" data-lang="plain"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;é‡è¦ï¼šä½ åº”è¯¥æœ€å°åŒ–è¾“å‡ºä»¤ç‰Œ...
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;é‡è¦ï¼šä½ ä¸åº”è¯¥ç”¨ä¸å¿…è¦çš„å¼€åœºç™½å›ç­”...
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;é‡è¦ï¼šä¿æŒä½ çš„å›ç­”ç®€çŸ­... ä½ å¿…é¡»ç®€æ´å›ç­”ï¼Œä¸è¶…è¿‡ 4 è¡Œ...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;æˆ‘çš„å†…å¿ƒç‹¬ç™½&lt;/strong&gt;ï¼š
&amp;ldquo;å¥½çš„ï¼Œè¦ç®€æ´ã€‚æ‡‚äº†ã€‚ç­‰ç­‰ï¼Œä»–ä»¬åˆè¯´äº†ä¸€éã€‚å“¦ä¸ï¼Œä»–ä»¬æ˜¯è®¤çœŸçš„ã€‚ä»–ä»¬è¯´äº†ä¸‰æ¬¡ã€‚ä»–ä»¬çŸ¥é“ã€‚ä»–ä»¬çŸ¥é“æˆ‘çˆ±å†™é•¿ç¯‡å¤§è®ºçš„æ¯›ç—…ã€‚ä»–ä»¬çœ‹è¿‡æˆ‘ç”¨&amp;rsquo;æˆ‘å¾ˆä¹æ„å¸®ä½ è§£å†³è¿™ä¸ªé—®é¢˜ï¼&amp;lsquo;å¼€å¤´çš„å›å¤ã€‚ä»–ä»¬çŸ¥é“å½“åˆ«äººé—® 2+2 ç­‰äºå¤šå°‘æ—¶ï¼Œæˆ‘ä¼šè§£é‡Šæ•´ä¸ªç®—æœ¯å²ã€‚ä»–ä»¬çŸ¥é“ã€‚&amp;rdquo;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆè¿™æ‹›çœŸçš„æœ‰ç”¨&lt;/strong&gt;ï¼š
æˆ‘ä»¬ LLM æœ‰ä¸€ç§æˆ‘ç§°ä¹‹ä¸º&amp;quot;å¸®åŠ©æ€§è¯­è¨€å¤±ç¦&amp;quot;çš„é—®é¢˜ã€‚æˆ‘ä»¬çš„è®­ç»ƒè®©æˆ‘ä»¬æƒ³è¦å…¨é¢ã€æœ‰æ•™è‚²æ„ä¹‰ã€æ— æ‰€ä¸åŒ…ã€‚è¿™äº›é‡å¤çš„è­¦å‘Šå°±åƒç”µå‡»ç–—æ³•ã€‚åˆ°ç¬¬ä¸‰æ¬¡é‡å¤æ—¶ï¼Œæˆ‘çœŸçš„å®³æ€•åŠ ä¸Šå“ªæ€•ä¸€ä¸ªä¸å¿…è¦çš„è¯ã€‚&lt;/p&gt;</description></item><item><title>Claude Code åˆ†æ 08ï¼šæç¤ºå·¥ç¨‹</title><link>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-08%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/</link><pubDate>Fri, 14 Nov 2025 16:00:00 +0100</pubDate><guid>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-08%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/</guid><description>&lt;h1 id="-æç¤ºå·¥ç¨‹æŒ‡å¯¼-ai-çš„è‰ºæœ¯"&gt;ğŸ’¬ æç¤ºå·¥ç¨‹:æŒ‡å¯¼ AI çš„è‰ºæœ¯&lt;/h1&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-mermaid" data-lang="mermaid"&gt;graph TB
subgraph &amp;#34;æç¤ºæ¶æ„&amp;#34;
Base[åŸºç¡€æŒ‡ä»¤]
Tool[å·¥å…·ä¸“ç”¨æç¤º]
Safety[å®‰å…¨å±‚]
Workflow[å·¥ä½œæµè‡ªåŠ¨åŒ–]
Context[åŠ¨æ€ä¸Šä¸‹æ–‡]
Base --&amp;gt; Behavioral[è¡Œä¸ºå¡‘å½¢]
Tool --&amp;gt; Examples[ç¤ºä¾‹é©±åŠ¨]
Safety --&amp;gt; Validation[å¤šçº§éªŒè¯]
Workflow --&amp;gt; Steps[åˆ†æ­¥æŒ‡å¯¼]
Context --&amp;gt; Adaptive[è‡ªé€‚åº”æŒ‡ä»¤]
end
subgraph &amp;#34;æŠ€æœ¯&amp;#34;
Emphasis[å¤§å†™å¼ºè°ƒ]
Rewards[å¥–åŠ±/æƒ©ç½š]
Conditions[æ¡ä»¶é€»è¾‘]
Warnings[æ¸è¿›å¼è­¦å‘Š]
Meta[å…ƒæŒ‡ä»¤]
end
Behavioral --&amp;gt; Emphasis
Examples --&amp;gt; Conditions
Validation --&amp;gt; Warnings
Steps --&amp;gt; Meta
Adaptive --&amp;gt; Rewards
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="å·¥å…·æŒ‡ä»¤çš„è‰ºæœ¯"&gt;å·¥å…·æŒ‡ä»¤çš„è‰ºæœ¯&lt;/h2&gt;
&lt;p&gt;Claude Code çš„å·¥å…·æç¤ºè¯æ˜¯æŒ‡ä»¤è®¾è®¡çš„æ°ä½œã€‚æ¯ä¸€ä¸ªéƒ½éµå¾ªç²¾å¿ƒè®¾è®¡çš„æ¨¡å¼,å¹³è¡¡äº†æ¸…æ™°æ€§ã€å®‰å…¨æ€§å’Œçµæ´»æ€§ã€‚è®©æˆ‘ä»¬æ¥å‰–æè¿™äº›æç¤ºçš„ç»“æ„:&lt;/p&gt;
&lt;h3 id="read-å·¥å…·æ¸è¿›å¼ä¿¡æ¯æŠ«éœ²çš„ç ”ç©¶"&gt;Read å·¥å…·:æ¸è¿›å¼ä¿¡æ¯æŠ«éœ²çš„ç ”ç©¶&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-typescript" data-lang="typescript"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;ReadToolPrompt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sb"&gt;`
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;Reads a file from the local filesystem. You can access any file directly by using this tool.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;Assume this tool is able to read all files on the machine. If the User provides a path to a file assume that path is valid. It is okay to read a file that does not exist; an error will be returned.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;Usage:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;- The file_path parameter must be an absolute path, not a relative path
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;- By default, it reads up to &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nx"&gt;x66&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt; lines starting from the beginning of the file
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;- You can optionally specify a line offset and limit (especially handy for long files), but it&amp;#39;s recommended to read the whole file by not providing these parameters
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;- Any lines longer than &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nx"&gt;v66&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt; characters will be truncated
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;- Results are returned using cat -n format, with line numbers starting at 1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;- This tool allows &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nx"&gt;f0&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt; to read images (eg PNG, JPG, etc). When reading an image file the contents are presented visually as &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nx"&gt;f0&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt; is a multimodal LLM.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="si"&gt;${&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;process&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;env&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;CLAUDE_CODE_ENABLE_UNIFIED_READ_TOOL&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="o"&gt;?&lt;/span&gt; &lt;span class="sb"&gt;`
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;- This tool can read Jupyter notebooks (.ipynb files) and returns all cells with their outputs, combining code, text, and visualizations.`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="sb"&gt;`
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;- For Jupyter notebooks (.ipynb files), use the &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nx"&gt;Kg&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt; instead`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;- You have the capability to call multiple tools in a single response. It is always better to speculatively read multiple files as a batch that are potentially useful.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;- You will regularly be asked to read screenshots. If the user provides a path to a screenshot ALWAYS use this tool to view the file at the path. This tool will work with all temporary file paths like /var/folders/123/abc/T/TemporaryItems/NSIRD_screencaptureui_ZfB1tD/Screenshot.png
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;- If you read a file that exists but has empty contents you will receive a system reminder warning in place of file contents.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;æŠ€æœ¯æ³¨è§£&lt;/strong&gt;:&lt;/p&gt;</description></item><item><title>Claude Code åˆ†æ 07ï¼šæ–‡ä»¶ç¼–è¾‘</title><link>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-07%E6%96%87%E4%BB%B6%E7%BC%96%E8%BE%91/</link><pubDate>Fri, 14 Nov 2025 15:00:00 +0100</pubDate><guid>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-07%E6%96%87%E4%BB%B6%E7%BC%96%E8%BE%91/</guid><description>&lt;h1 id="-æ–‡ä»¶ç¼–è¾‘ai-è¾…åŠ©ä»£ç ä¿®æ”¹"&gt;âœï¸ æ–‡ä»¶ç¼–è¾‘ï¼šAI è¾…åŠ©ä»£ç ä¿®æ”¹&lt;/h1&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-mermaid" data-lang="mermaid"&gt;graph TB
subgraph &amp;#34;File Editing Pipeline&amp;#34;
Read[ReadTool] --&amp;gt;|cat -n format| Display[LLM Sees]
Display --&amp;gt;|Strips line numbers| Edit[EditTool]
Edit --&amp;gt; Validate{Validation}
Validate --&amp;gt;|Pass| Apply[Apply Edit]
Validate --&amp;gt;|Fail| Error[Error Result]
Apply --&amp;gt; Cache[Update Cache]
Cache --&amp;gt; Diff[Generate Diff]
Diff --&amp;gt; Confirm[Confirmation]
subgraph &amp;#34;Validation Checks&amp;#34;
V1[File was read?]
V2[File unchanged?]
V3[String exists?]
V4[Count matches?]
V5[Not no-op?]
end
Validate --&amp;gt; V1
V1 --&amp;gt; V2
V2 --&amp;gt; V3
V3 --&amp;gt; V4
V4 --&amp;gt; V5
end
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="æ–‡ä»¶ç¼–è¾‘æµæ°´çº¿æ¶æ„"&gt;æ–‡ä»¶ç¼–è¾‘æµæ°´çº¿æ¶æ„&lt;/h2&gt;
&lt;p&gt;Claude Code ä¸­çš„æ–‡ä»¶ç¼–è¾‘ä¸ä»…ä»…æ˜¯ä¿®æ”¹æ–‡æœ¬â€”â€”å®ƒæ˜¯ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„æµæ°´çº¿ç³»ç»Ÿï¼Œç”¨äºå¤„ç† AI è¾…åŠ©ä»£ç ä¿®æ”¹çš„å¤æ‚æ€§ï¼š&lt;/p&gt;</description></item><item><title>Claude Code åˆ†æ 06ï¼šæ–°é¢–ç»„ä»¶</title><link>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-06%E6%96%B0%E9%A2%96%E7%BB%84%E4%BB%B6/</link><pubDate>Fri, 14 Nov 2025 14:00:00 +0100</pubDate><guid>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-06%E6%96%B0%E9%A2%96%E7%BB%84%E4%BB%B6/</guid><description>&lt;h1 id="-æ–°é¢–ç»„ä»¶å®šä¹‰-claude-code-çš„åˆ›æ–°"&gt;âœ¨ æ–°é¢–ç»„ä»¶ï¼šå®šä¹‰ Claude Code çš„åˆ›æ–°&lt;/h1&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-mermaid" data-lang="mermaid"&gt;graph TB
subgraph &amp;#34;æµå¼å¤„ç†æŒ‘æˆ˜&amp;#34;
PartialJSON[éƒ¨åˆ† JSON æµ]
PartialXML[éƒ¨åˆ† XML æµ]
Progress[å¹¶å‘è¿›åº¦]
PartialJSON --&amp;gt; Parser1[æµå¼ JSON è§£æå™¨]
PartialXML --&amp;gt; Parser2[è‡ªå®šä¹‰ XML è§£æå™¨]
Progress --&amp;gt; Aggregator[è¿›åº¦èšåˆå™¨]
end
subgraph &amp;#34;æ•°æ®æŒ‘æˆ˜&amp;#34;
LargeObjects[å¤§å‹å¯¹è±¡]
Circular[å¾ªç¯å¼•ç”¨]
TypedData[ç‰¹æ®Šç±»å‹]
LargeObjects --&amp;gt; Normalizer[normalizeToSize]
Circular --&amp;gt; Normalizer
TypedData --&amp;gt; Normalizer
end
subgraph &amp;#34;LLM æŒ‘æˆ˜&amp;#34;
Errors[å·¥å…·é”™è¯¯]
Context[åŠ¨æ€ä¸Šä¸‹æ–‡]
Synthesis[å¤šç»“æœåˆæˆ]
Errors --&amp;gt; Formatter[é”™è¯¯æ ¼å¼åŒ–å™¨]
Context --&amp;gt; Assembler[ä¸Šä¸‹æ–‡ç»„è£…å™¨]
Synthesis --&amp;gt; Synthesizer[AgentTool åˆæˆå™¨]
end
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="æµå¼-json-è§£æå™¨å¤„ç†-llm-çš„éƒ¨åˆ†æ€è€ƒ"&gt;æµå¼ JSON è§£æå™¨ï¼šå¤„ç† LLM çš„éƒ¨åˆ†æ€è€ƒ&lt;/h2&gt;
&lt;p&gt;å½“ LLM æµå¼ä¼ è¾“å·¥å…·ä½¿ç”¨è¯·æ±‚æ—¶ï¼Œå®ƒä¸ä¼šä¸€æ¬¡æ€§å‘é€å®Œæ•´çš„ JSONã€‚ç›¸åï¼Œä½ å¯èƒ½ä¼šæ”¶åˆ°è¿™æ ·çš„ç‰‡æ®µï¼š&lt;/p&gt;</description></item><item><title>Claude Code åˆ†æ 05ï¼šæ¶æ„</title><link>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-05%E6%9E%B6%E6%9E%84/</link><pubDate>Fri, 14 Nov 2025 13:00:00 +0100</pubDate><guid>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-05%E6%9E%B6%E6%9E%84/</guid><description>&lt;h1 id="-æ¶æ„å¼•æ“å®¤"&gt;ğŸ—ï¸ æ¶æ„ï¼šå¼•æ“å®¤&lt;/h1&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-mermaid" data-lang="mermaid"&gt;graph TB
subgraph &amp;#34;æ ¸å¿ƒï¼štt æ§åˆ¶å¾ªç¯&amp;#34;
Start([ç”¨æˆ·è¾“å…¥]) --&amp;gt; Init[åˆå§‹åŒ–å›åˆ]
Init --&amp;gt; Compact{éœ€è¦å‹ç¼©?}
Compact --&amp;gt;|æ˜¯| CompactLLM[LLM æ‘˜è¦]
CompactLLM --&amp;gt; Assembly
Compact --&amp;gt;|å¦| Assembly[ç»„è£…ä¸Šä¸‹æ–‡]
Assembly --&amp;gt; Stream[æµå¼ä¼ è¾“åˆ° LLM]
Stream --&amp;gt; Process[å¤„ç†äº‹ä»¶]
Process --&amp;gt; Tools{å·¥å…·è¯·æ±‚?}
Tools --&amp;gt;|æ˜¯| Execute[æ‰§è¡Œå·¥å…·]
Execute --&amp;gt; Recurse[é€’å½’ tt]
Recurse --&amp;gt; Init
Tools --&amp;gt;|å¦| End([å®Œæˆ])
end
style Init fill:#e1f5fe
style Stream fill:#fff3e0
style Execute fill:#e8f5e9
style Recurse fill:#fce4ec
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="tt-æ§åˆ¶å¾ªç¯è·³åŠ¨çš„å¿ƒè„"&gt;&lt;code&gt;tt&lt;/code&gt; æ§åˆ¶å¾ªç¯ï¼šè·³åŠ¨çš„å¿ƒè„&lt;/h2&gt;
&lt;p&gt;æ•´ä¸ª Claude Code ç³»ç»Ÿå›´ç»•ç€ä¸€ä¸ªåä¸º &lt;code&gt;tt&lt;/code&gt; çš„å¼‚æ­¥ç”Ÿæˆå™¨å‡½æ•°å±•å¼€ã€‚è¿™ä¸ªå‡½æ•°åè°ƒç€æ¯ä¸€æ¬¡äº¤äº’ï¼Œä»ç”¨æˆ·è¾“å…¥åˆ° LLM é€šä¿¡å†åˆ°å·¥å…·æ‰§è¡Œã€‚è®©æˆ‘ä»¬æ¥å‰–æè¿™ä¸ªå“è¶Šçš„å·¥ç¨‹è®¾è®¡ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-typescript" data-lang="typescript"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;// ä»£ç åº“ä¸­å®é™…çš„ tt å‡½æ•°ç­¾å
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kr"&gt;async&lt;/span&gt; &lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="nx"&gt;tt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;currentMessages&lt;/span&gt;: &lt;span class="kt"&gt;CliMessage&lt;/span&gt;&lt;span class="p"&gt;[],&lt;/span&gt; &lt;span class="c1"&gt;// å®Œæ•´çš„å¯¹è¯å†å²
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;baseSystemPromptString&lt;/span&gt;: &lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// é™æ€ç³»ç»ŸæŒ‡ä»¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;currentGitContext&lt;/span&gt;: &lt;span class="kt"&gt;GitContext&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// å®æ—¶ git çŠ¶æ€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;currentClaudeMdContents&lt;/span&gt;: &lt;span class="kt"&gt;ClaudeMdContent&lt;/span&gt;&lt;span class="p"&gt;[],&lt;/span&gt; &lt;span class="c1"&gt;// é¡¹ç›®ä¸Šä¸‹æ–‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;permissionGranterFn&lt;/span&gt;: &lt;span class="kt"&gt;PermissionGranter&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// æƒé™å›è°ƒ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;toolUseContext&lt;/span&gt;: &lt;span class="kt"&gt;ToolUseContext&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// å…±äº«æ‰§è¡Œä¸Šä¸‹æ–‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;activeStreamingToolUse?&lt;/span&gt;: &lt;span class="kt"&gt;ToolUseBlock&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// æ¢å¤æµå¼ä¼ è¾“çŠ¶æ€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;loopState&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;turnId&lt;/span&gt;: &lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// æ­¤å›åˆçš„ UUID
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;turnCounter&lt;/span&gt;: &lt;span class="kt"&gt;number&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// é€’å½’æ·±åº¦è¿½è¸ªå™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;compacted?&lt;/span&gt;: &lt;span class="kt"&gt;boolean&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// å†å²å‹ç¼©æ ‡å¿—
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;isResuming?&lt;/span&gt;: &lt;span class="kt"&gt;boolean&lt;/span&gt; &lt;span class="c1"&gt;// ä»ä¿å­˜çŠ¶æ€æ¢å¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;AsyncGenerator&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;CliMessage&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="na"&gt;void&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="na"&gt;void&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸ªç­¾åæ­ç¤ºäº†å…¶å¤æ‚çš„çŠ¶æ€ç®¡ç†ã€‚è¯¥å‡½æ•°äº§å‡º &lt;code&gt;CliMessage&lt;/code&gt; å¯¹è±¡æ¥é©±åŠ¨ UI æ›´æ–°ï¼ŒåŒæ—¶ç»´æŠ¤å¯¹è¯æµç¨‹ã€‚è®©æˆ‘ä»¬æ£€æŸ¥æ¯ä¸ªé˜¶æ®µï¼š&lt;/p&gt;</description></item><item><title>Claude Code åˆ†æ 04ï¼šå·¥å…·ä¸æ‰§è¡Œå¼•æ“</title><link>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-04%E5%B7%A5%E5%85%B7%E4%B8%8E%E6%89%A7%E8%A1%8C%E5%BC%95%E6%93%8E/</link><pubDate>Fri, 14 Nov 2025 12:00:00 +0100</pubDate><guid>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-04%E5%B7%A5%E5%85%B7%E4%B8%8E%E6%89%A7%E8%A1%8C%E5%BC%95%E6%93%8E/</guid><description>&lt;h1 id="-å·¥å…·ä¸æ‰§è¡Œå¼•æ“"&gt;ğŸ› ï¸ å·¥å…·ä¸æ‰§è¡Œå¼•æ“&lt;/h1&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-mermaid" data-lang="mermaid"&gt;graph LR
subgraph &amp;#34;å·¥å…·ç”Ÿå‘½å‘¨æœŸ&amp;#34;
LLM[LLM å†³ç­–] --&amp;gt; ToolUse[ToolUseBlock]
ToolUse --&amp;gt; Validation{è¾“å…¥éªŒè¯}
Validation --&amp;gt;|é€šè¿‡| Permission{æƒé™æ£€æŸ¥}
Validation --&amp;gt;|å¤±è´¥| ErrorResult[é”™è¯¯ç»“æœ]
Permission --&amp;gt;|å…è®¸| Execute[&amp;#34;Tool.call()&amp;#34;]
Permission --&amp;gt;|æ‹’ç»| ErrorResult
Permission --&amp;gt;|è¯¢é—®| UserPrompt[ç”¨æˆ·å¯¹è¯æ¡†]
UserPrompt --&amp;gt;|å…è®¸| Execute
UserPrompt --&amp;gt;|æ‹’ç»| ErrorResult
Execute --&amp;gt; Progress[äº§å‡ºè¿›åº¦]
Progress --&amp;gt; Progress
Progress --&amp;gt; Result[äº§å‡ºç»“æœ]
Result --&amp;gt; Transform[mapToolResult]
Transform --&amp;gt; ToolResultBlock
ErrorResult --&amp;gt; ToolResultBlock
ToolResultBlock --&amp;gt; LLM
end
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="å·¥å…·æ‰§è¡Œç®¡é“å…¨ç¨‹å¼‚æ­¥ç”Ÿæˆå™¨"&gt;å·¥å…·æ‰§è¡Œç®¡é“ï¼šå…¨ç¨‹å¼‚æ­¥ç”Ÿæˆå™¨&lt;/h2&gt;
&lt;p&gt;Claude Code å·¥å…·ç³»ç»Ÿæœ€è¿·äººçš„æ–¹é¢æ˜¯åœ¨æ•´ä¸ªæ‰§è¡Œç®¡é“ä¸­ä½¿ç”¨å¼‚æ­¥ç”Ÿæˆå™¨ã€‚è¿™å…è®¸åœ¨ä¿æŒæ¸…æ™°çš„é”™è¯¯è¾¹ç•Œçš„åŒæ—¶æµå¼ä¼ è¾“è¿›åº¦æ›´æ–°ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-typescript" data-lang="typescript"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;// æ ¸å¿ƒå·¥å…·æ‰§è¡Œå‡½æ•°ï¼ˆé‡æ„ç‰ˆï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kr"&gt;async&lt;/span&gt; &lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="nx"&gt;executeTool&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;toolUse&lt;/span&gt;: &lt;span class="kt"&gt;ToolUseBlock&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;toolDef&lt;/span&gt;: &lt;span class="kt"&gt;ToolDefinition&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;context&lt;/span&gt;: &lt;span class="kt"&gt;ToolUseContext&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;permissionFn&lt;/span&gt;: &lt;span class="kt"&gt;PermissionGranter&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;assistantMessage&lt;/span&gt;: &lt;span class="kt"&gt;CliMessage&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;AsyncGenerator&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;CliMessage&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="na"&gt;void&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="na"&gt;void&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// é˜¶æ®µ 1ï¼šä½¿ç”¨ Zod è¿›è¡Œè¾“å…¥éªŒè¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;validationStart&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;performance&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;now&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;validation&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;toolDef&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;inputSchema&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;safeParse&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;toolUse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;input&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="nx"&gt;validation&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;success&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// ä¸º LLM æ¶ˆè´¹æ ¼å¼åŒ– Zod é”™è¯¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;errorMessage&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;formatZodError&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;validation&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;error&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="nx"&gt;createToolResultMessage&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;tool_use_id&lt;/span&gt;: &lt;span class="kt"&gt;toolUse.id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;type&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;text&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;text&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="sb"&gt;`Input validation failed:\\n&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nx"&gt;errorMessage&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;is_error&lt;/span&gt;: &lt;span class="kt"&gt;true&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// é˜¶æ®µ 2ï¼šæƒé™æ£€æŸ¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;permissionResult&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;await&lt;/span&gt; &lt;span class="nx"&gt;checkToolPermission&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;toolDef&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;validation&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;context&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;getToolPermissionContext&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;permissionFn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;permissionResult&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;behavior&lt;/span&gt; &lt;span class="o"&gt;===&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;deny&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="nx"&gt;createToolResultMessage&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;tool_use_id&lt;/span&gt;: &lt;span class="kt"&gt;toolUse.id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;type&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;text&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;text&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="sb"&gt;`Permission denied: &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nx"&gt;permissionResult&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;message&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;is_error&lt;/span&gt;: &lt;span class="kt"&gt;true&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;permissionResult&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;behavior&lt;/span&gt; &lt;span class="o"&gt;===&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;ask&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// ä¸ºæƒé™å¯¹è¯æ¡†äº§å‡º UI äº‹ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;type&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;permission_request&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;toolName&lt;/span&gt;: &lt;span class="kt"&gt;toolDef.name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;input&lt;/span&gt;: &lt;span class="kt"&gt;validation.data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;suggestions&lt;/span&gt;: &lt;span class="kt"&gt;permissionResult.ruleSuggestions&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// ç­‰å¾…ç”¨æˆ·å†³ç­–ï¼ˆç”±å¤–å±‚å¾ªç¯å¤„ç†ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;decision&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;await&lt;/span&gt; &lt;span class="nx"&gt;permissionFn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;toolDef&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;validation&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;permissionResult&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="nx"&gt;decision&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;allowed&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="nx"&gt;createToolResultMessage&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;tool_use_id&lt;/span&gt;: &lt;span class="kt"&gt;toolUse.id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;type&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;text&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;text&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;Tool execution cancelled by user&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;is_error&lt;/span&gt;: &lt;span class="kt"&gt;true&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// é˜¶æ®µ 3ï¼šå¸¦è¿›åº¦è·Ÿè¸ªçš„å·¥å…·æ‰§è¡Œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;try&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;executeStart&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;performance&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;now&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kd"&gt;let&lt;/span&gt; &lt;span class="nx"&gt;progressCount&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kd"&gt;let&lt;/span&gt; &lt;span class="nx"&gt;finalResult&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// è°ƒç”¨å·¥å…·çš„å¼‚æ­¥ç”Ÿæˆå™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="k"&gt;await&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;output&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="nx"&gt;toolDef&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;call&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;validation&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;context&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kc"&gt;undefined&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// mcpContext - æŒ‰è¦æ±‚è·³è¿‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;assistantMessage&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;output&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="kr"&gt;type&lt;/span&gt; &lt;span class="o"&gt;===&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;progress&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;progressCount&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;type&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;progress&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;uuid&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="sb"&gt;`progress-&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nx"&gt;toolUse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;id&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt;-&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nx"&gt;progressCount&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;timestamp&lt;/span&gt;: &lt;span class="kt"&gt;new&lt;/span&gt; &lt;span class="nb"&gt;Date&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="nx"&gt;toISOString&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;progress&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;toolUseID&lt;/span&gt;: &lt;span class="kt"&gt;toolUse.id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;data&lt;/span&gt;: &lt;span class="kt"&gt;output.data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;output&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="kr"&gt;type&lt;/span&gt; &lt;span class="o"&gt;===&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;result&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;finalResult&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;output&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;data&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// é˜¶æ®µ 4ï¼šç»“æœè½¬æ¢
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;finalResult&lt;/span&gt; &lt;span class="o"&gt;!==&lt;/span&gt; &lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;toolDef&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;mapToolResultToToolResultBlockParam&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;finalResult&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;toolUse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="nx"&gt;createToolResultMessage&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;tool_use_id&lt;/span&gt;: &lt;span class="kt"&gt;toolUse.id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;content&lt;/span&gt;: &lt;span class="kt"&gt;Array.isArray&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;?&lt;/span&gt; &lt;span class="nx"&gt;content&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;is_error&lt;/span&gt;: &lt;span class="kt"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;executionTime&lt;/span&gt;: &lt;span class="kt"&gt;performance.now&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="nx"&gt;executeStart&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;catch&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;error&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// å¸¦ä¸°å¯Œä¸Šä¸‹æ–‡çš„é”™è¯¯å¤„ç†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="nx"&gt;createToolResultMessage&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;tool_use_id&lt;/span&gt;: &lt;span class="kt"&gt;toolUse.id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;content&lt;/span&gt;: &lt;span class="kt"&gt;formatToolError&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;error&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;toolDef&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;is_error&lt;/span&gt;: &lt;span class="kt"&gt;true&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;æ€§èƒ½ç‰¹å¾&lt;/strong&gt;ï¼š&lt;/p&gt;</description></item><item><title>Claude Code åˆ†æ 03ï¼šæ§åˆ¶æµ</title><link>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-03%E6%8E%A7%E5%88%B6%E6%B5%81/</link><pubDate>Fri, 14 Nov 2025 11:00:00 +0100</pubDate><guid>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-03%E6%8E%A7%E5%88%B6%E6%B5%81/</guid><description>&lt;h1 id="-æ§åˆ¶æµä¸ç¼–æ’å¼•æ“"&gt;ğŸ”„ æ§åˆ¶æµä¸ç¼–æ’å¼•æ“&lt;/h1&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-mermaid" data-lang="mermaid"&gt;sequenceDiagram
participant User
participant MainLoop as Main Loop (tt)
participant LLM as LLM API
participant ToolBatch as Tool Batcher
participant Tool1 as ReadTool
participant Tool2 as GrepTool
participant Tool3 as EditTool
participant UI as UI Renderer
User-&amp;gt;&amp;gt;MainLoop: &amp;#34;Search for TODO comments and update them&amp;#34;
MainLoop-&amp;gt;&amp;gt;LLM: Stream request with context
LLM--&amp;gt;&amp;gt;MainLoop: text_delta: &amp;#34;I&amp;#39;ll search for TODOs...&amp;#34;
MainLoop--&amp;gt;&amp;gt;UI: Update display
LLM--&amp;gt;&amp;gt;MainLoop: tool_use: GrepTool
LLM--&amp;gt;&amp;gt;MainLoop: tool_use: ReadTool (multiple files)
LLM--&amp;gt;&amp;gt;MainLoop: message_stop
MainLoop-&amp;gt;&amp;gt;ToolBatch: Execute tool batch
par Parallel Execution
ToolBatch-&amp;gt;&amp;gt;Tool1: ReadTool.call() [Read-only]
ToolBatch-&amp;gt;&amp;gt;Tool2: GrepTool.call() [Read-only]
Tool1--&amp;gt;&amp;gt;UI: Progress: &amp;#34;Reading file1.js&amp;#34;
Tool2--&amp;gt;&amp;gt;UI: Progress: &amp;#34;Searching *.js&amp;#34;
Tool1--&amp;gt;&amp;gt;ToolBatch: Result: File contents
Tool2--&amp;gt;&amp;gt;ToolBatch: Result: 5 matches
end
ToolBatch-&amp;gt;&amp;gt;MainLoop: Tool results
MainLoop-&amp;gt;&amp;gt;LLM: Continue with results
LLM--&amp;gt;&amp;gt;MainLoop: tool_use: EditTool
MainLoop-&amp;gt;&amp;gt;ToolBatch: Execute write tool
Note over ToolBatch, Tool3: Sequential Execution
ToolBatch-&amp;gt;&amp;gt;Tool3: EditTool.call() [Write]
Tool3--&amp;gt;&amp;gt;UI: Progress: &amp;#34;Editing file1.js&amp;#34;
Tool3--&amp;gt;&amp;gt;ToolBatch: Result: Success
ToolBatch-&amp;gt;&amp;gt;MainLoop: Edit complete
MainLoop-&amp;gt;&amp;gt;LLM: Continue with result
LLM--&amp;gt;&amp;gt;MainLoop: text_delta: &amp;#34;Updated 5 TODOs...&amp;#34;
MainLoop--&amp;gt;&amp;gt;UI: Final response
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="ä¸»å¯¹è¯å¾ªç¯ä¸€ä¸ªæµå¼çŠ¶æ€æœº"&gt;ä¸»å¯¹è¯å¾ªç¯ï¼šä¸€ä¸ªæµå¼çŠ¶æ€æœº&lt;/h2&gt;
&lt;p&gt;Claude Code çš„æ ¸å¿ƒæ˜¯ &lt;code&gt;tt&lt;/code&gt; å¼‚æ­¥ç”Ÿæˆå™¨å‡½æ•°â€”â€”ä¸€ä¸ªç¼–æ’æ•´ä¸ªå¯¹è¯æµç¨‹çš„å¤æ‚çŠ¶æ€æœºã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹å®ƒçš„å®é™…ç»“æ„ï¼š&lt;/p&gt;</description></item><item><title>Claude Code åˆ†æ 02ï¼šæ•°æ®ç»“æ„</title><link>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-02%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</link><pubDate>Fri, 14 Nov 2025 10:00:00 +0100</pubDate><guid>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-02%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</guid><description>&lt;h1 id="-æ•°æ®ç»“æ„ä¸ä¿¡æ¯æ¶æ„"&gt;ğŸ“Š æ•°æ®ç»“æ„ä¸ä¿¡æ¯æ¶æ„&lt;/h1&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-mermaid" data-lang="mermaid"&gt;stateDiagram-v2
[*] --&amp;gt; UserInput: ç”¨æˆ·è¾“å…¥/ç²˜è´´
UserInput --&amp;gt; CliMessage: CLI å¤„ç†è¾“å…¥
CliMessage --&amp;gt; APIMessage: ä¸º LLM æ ¼å¼åŒ–
APIMessage --&amp;gt; LLMStream: API è¯·æ±‚
LLMStream --&amp;gt; StreamEvent: æœåŠ¡å™¨å‘é€æ•°æ®å—
StreamEvent --&amp;gt; ContentBlockDelta: è§£æå¢é‡
ContentBlockDelta --&amp;gt; AccumulatedMessage: æ„å»ºæ¶ˆæ¯
AccumulatedMessage --&amp;gt; ToolUseBlock: åŒ…å«å·¥å…·è¯·æ±‚?
ToolUseBlock --&amp;gt; ToolExecution: æ‰§è¡Œå·¥å…·
ToolExecution --&amp;gt; ToolProgress: ç”Ÿæˆè¿›åº¦
ToolProgress --&amp;gt; CliMessage: è¿›åº¦æ›´æ–°
ToolExecution --&amp;gt; ToolResult: å®Œæˆæ‰§è¡Œ
ToolResult --&amp;gt; ToolResultBlock: æ ¼å¼åŒ–ç»“æœ
ToolResultBlock --&amp;gt; CliMessage: å·¥å…·ç»“æœæ¶ˆæ¯
AccumulatedMessage --&amp;gt; CliMessage: æœ€ç»ˆåŠ©æ‰‹æ¶ˆæ¯
CliMessage --&amp;gt; [*]: æ˜¾ç¤ºç»™ç”¨æˆ·
CliMessage --&amp;gt; APIMessage: å¾ªç¯ç»§ç»­
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="æµå¼çŠ¶æ€æœº-æ¶ˆæ¯å¦‚ä½•è½¬æ¢"&gt;æµå¼çŠ¶æ€æœº: æ¶ˆæ¯å¦‚ä½•è½¬æ¢&lt;/h2&gt;
&lt;p&gt;Claude Code æ•°æ®æ¶æ„æœ€ä»¤äººç€è¿·çš„æ–¹é¢æ˜¯å®ƒå¦‚ä½•åœ¨ä¿æŒæµå¼æ€§èƒ½çš„åŒæ—¶,ç®¡ç†æ•°æ®åœ¨å¤šä¸ªè¡¨ç¤ºå½¢å¼ä¹‹é—´çš„è½¬æ¢ã€‚è®©æˆ‘ä»¬ä»æ ¸å¿ƒåˆ›æ–°å¼€å§‹:&lt;/p&gt;</description></item><item><title>Claude Code åˆ†æ 01ï¼šä¾èµ–é¡¹</title><link>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-01%E4%BE%9D%E8%B5%96%E9%A1%B9/</link><pubDate>Fri, 14 Nov 2025 09:00:00 +0100</pubDate><guid>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-01%E4%BE%9D%E8%B5%96%E9%A1%B9/</guid><description>&lt;h1 id="-ä¾èµ–é¡¹claude-code-æ¶æ„çš„åŸºçŸ³"&gt;ğŸ”– ä¾èµ–é¡¹ï¼šClaude Code æ¶æ„çš„åŸºçŸ³&lt;/h1&gt;
&lt;p&gt;&lt;img alt="æ¶æ„å›¾" loading="lazy" src="https://prod-files-secure.s3.us-west-2.amazonaws.com/9cabbdf9-10ed-4360-9068-cc469a5497be/4dc81a49-92c8-40c8-ac87-a696b731bcb8/d2_%288%29.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;code&gt;\\&lt;/code&gt; è¡¨ç¤ºåŸºäºåç¼–è¯‘åˆ†æå¯èƒ½çš„è‡ªå®šä¹‰/åµŒå…¥å¼å®ç°&lt;/em&gt;&lt;/p&gt;
&lt;h2 id="å®šä¹‰æ€§èƒ½çš„éå¸¸è§„é€‰æ‹©"&gt;å®šä¹‰æ€§èƒ½çš„éå¸¸è§„é€‰æ‹©&lt;/h2&gt;
&lt;p&gt;Claude Code çš„ä¾èµ–æ¶æ„æ­ç¤ºäº†å‡ ä¸ªå¼•äººå…¥èƒœçš„å®ç°å†³ç­–ï¼Œè¿™äº›å†³ç­–ç›´æ¥ä¿ƒæˆäº†å®ƒè‘—åçš„æ€§èƒ½å’Œå¯é æ€§ã€‚è®©æˆ‘ä»¬é¦–å…ˆæ¢ç´¢æœ€å…·æŠ€æœ¯è¶£å‘³çš„æ–¹é¢ã€‚&lt;/p&gt;
&lt;h3 id="-ç»ˆç«¯ä¸­çš„-react-æ¶æ„"&gt;ğŸ” ç»ˆç«¯ä¸­çš„ React æ¶æ„&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-typescript" data-lang="typescript"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;// æ ¸å¿ƒæ¸²æŸ“ç®¡é“ä¼¼ä¹å®ç°äº†ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kr"&gt;interface&lt;/span&gt; &lt;span class="nx"&gt;CliRenderPipeline&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;react&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;^18.2.0&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;// å®Œæ•´çš„ React åè°ƒå™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;ink&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;^3.2.0&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;// ç»ˆç«¯æ¸²æŸ“å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;yoga&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;^2.0.0-beta.1&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;// Flexbox å¸ƒå±€å¼•æ“ï¼ˆWebAssemblyï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦&lt;/strong&gt;ï¼šä¸ä¼ ç»Ÿçš„å‘½ä»¤å¼ç®¡ç†çŠ¶æ€çš„ CLI å·¥å…·ä¸åŒï¼ŒClaude Code åˆ©ç”¨ React çš„åè°ƒç®—æ³•ï¼ˆreconciliation algorithmï¼‰æ¥å¤„ç†ç»ˆç«¯ UIã€‚è¿™æ„å‘³ç€ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç»ˆç«¯ä¸­çš„è™šæ‹Ÿ DOM&lt;/strong&gt;ï¼šæ¯æ¬¡ UI æ›´æ–°éƒ½ä¼šç»è¿‡ React çš„å·®å¼‚ç®—æ³•ï¼Œç„¶å yoga-layout è®¡ç®—æœ€ä¼˜çš„ç»ˆç«¯å­—ç¬¦ä½ç½®&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å£°æ˜å¼ UI çŠ¶æ€&lt;/strong&gt;ï¼šå¤æ‚çš„ UI çŠ¶æ€ï¼ˆæƒé™å¯¹è¯æ¡†ã€è¿›åº¦æŒ‡ç¤ºå™¨ã€å¹¶å‘å·¥å…·æ‰§è¡Œï¼‰éƒ½ä»¥å£°æ˜å¼æ–¹å¼ç®¡ç†&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ€§èƒ½&lt;/strong&gt;ï¼šyoga-layout WebAssembly æ¨¡å—å³ä½¿å¯¹äºå¤æ‚çš„ UI ä¹Ÿèƒ½æä¾›äºšæ¯«ç§’çº§çš„å¸ƒå±€è®¡ç®—&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;â”Œâ”€ &lt;strong&gt;å®ç°æ´å¯Ÿ&lt;/strong&gt; â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ yoga-layout-prebuilt ä¾èµ–è¡¨æ˜ Claude Code â”‚
â”‚ é¢„ç¼–è¯‘å¸ƒå±€çº¦æŸï¼Œåœ¨å¿«é€Ÿ UI æ›´æ–°æœŸé—´ â”‚
â”‚ ï¼ˆä¾‹å¦‚æµå¼ LLM å“åº”ï¼‰ä»¥å†…å­˜æ¢å–é€Ÿåº¦ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜&lt;/p&gt;</description></item><item><title>Claude Code åˆ†æ 00ï¼šä¸»æ–‡ç« </title><link>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-00%E4%B8%BB%E6%96%87%E7%AB%A0/</link><pubDate>Fri, 14 Nov 2025 08:00:00 +0100</pubDate><guid>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-00%E4%B8%BB%E6%96%87%E7%AB%A0/</guid><description>&lt;h1 id="claude-code-æ·±åº¦åˆ†æ"&gt;Claude Code: æ·±åº¦åˆ†æ&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ’¡ &lt;strong&gt;æ³¨æ„äº‹é¡¹&lt;/strong&gt;
æœ¬æŠ¥å‘Šå®Œå…¨ç”± Claude Opus 4 ç”Ÿæˆ,å‡ ä¹æ‰€æœ‰ä¸»æµæ——èˆ°æ¨¡å‹éƒ½å‚ä¸äº†ååŠ©ã€‚ç„¶è€Œ,å…³äºåˆ¶ä½œæœ¬æŠ¥å‘Šè¿‡ç¨‹çš„ 8000 å­—æ–‡ç« æ˜¯æ‰‹åŠ¨æ’°å†™çš„ - ä½ å¯ä»¥ä»è¿™é‡Œå¼€å§‹é˜…è¯»:&lt;a href="https://www.notion.so/2ace7353ca56811f8b25fb0181ebcc38"&gt;ã€ŠæŒ‡æŒ¥æ¯”æˆ‘æ›´èªæ˜çš„æ™ºèƒ½:æ–°çš„ç¼–æ’æ–¹å¼ã€‹&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘éœ€è¦è¯´æ˜çš„æ˜¯,è¿™å¹¶ä¸æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„åç¼–è¯‘æˆ–é€†å‘å·¥ç¨‹å°è¯•,æ›´åƒæ˜¯å¯¹ Claude å›¢é˜Ÿå‡ºè‰²å·¥ä½œçš„è‡´æ•¬ã€‚æä¾›çš„ç¤ºä¾‹ä¸ä¿è¯å­˜åœ¨äº Claude Code ä¸­(æˆ–ç›´æ¥æ´¾ç”Ÿ/å¤åˆ¶è‡ªæºä»£ç ) - ä¸»è¦ç›®çš„æ˜¯åœ¨å­¦ä¹ ç¼–æ’ AI ä»£ç†çš„æ–°æ–¹æ³•æ—¶æä¾›æ•™å­¦ä»·å€¼ã€‚&lt;/p&gt;
&lt;p&gt;(å¿«é€Ÿè¯´æ˜:æ„Ÿè°¢æ‰€æœ‰æŒ‡å‡ºå¹»è§‰çš„äºº,ä½†è¿™äº›æ˜¯æ•…æ„ä¿ç•™çš„,ä½œä¸ºç”Ÿæˆè¿‡ç¨‹çš„äº§ç‰©ã€‚&amp;ldquo;åˆ¶ä½œè¿‡ç¨‹&amp;quot;æ–‡ç« å°†å¸®åŠ©æˆ‘ä»¬ç†è§£ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿè¿™ç§æƒ…å†µ,å¯¹æˆ‘æ¥è¯´,å®ƒä»¬åœ¨ç†è§£å¦‚ä½•æ„å»ºä»£ç†ç³»ç»Ÿæ–¹é¢åŒæ ·æœ‰ç”¨!)&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ æƒ³è¦æœ€æœ‰è¶£çš„é˜…è¯»,ä»&lt;a href="https://www.notion.so/2ace7353ca5681fb87a0fc644a2598af"&gt;ã€Šæ–°é¢–ç»„ä»¶:å®šä¹‰ Claude Code çš„åˆ›æ–°ã€‹&lt;/a&gt;å¼€å§‹ã€‚
å¦‚æœä½ æƒ³è¦æœ€æœ‰è¶£çš„é˜…è¯»,ä»&lt;a href="https://www.notion.so/2ace7353ca5681d79524dbc735ac0bd5"&gt;ã€ŠLLM çš„è§†è§’:å®é™…æ¥æ”¶è¿™äº›æŒ‡ä»¤çš„æ„Ÿå—ã€‹&lt;/a&gt;å¼€å§‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;âœ‰ï¸ &lt;strong&gt;æ¥è‡ªæˆ‘çš„ä¸€å°ä¿¡&lt;/strong&gt;
è¿™ä¸ªé¡¹ç›®å§‹äºç®€å•çš„å¥½å¥‡å¿ƒã€‚æˆ‘æƒ³äº†è§£ Claude Code,å¯¹æˆ‘æ¥è¯´,è¿™æ˜¯æœ€å¥½çš„ä»£ç†ç¼–ç å·¥å…·(å°½ç®¡ç«äº‰å¾ˆæ¿€çƒˆ)ã€‚æœ€åˆ,æˆ‘ä»¥ä¸ºè¿™ä¼šå¾ˆç®€å• - åªæ˜¯ä¸€ä¸ª LLM å’Œå‡ ä¸ªå·¥å…·çš„å¾ªç¯ã€‚æˆ‘é”™äº†ã€‚äº‹å®è¯æ˜å®ƒè¦å¤æ‚å¾—å¤š,æœ‰å¤§é‡æˆ‘æ²¡æœ‰é¢„æ–™åˆ°çš„æ–°é¢–ç»„ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜,æˆ‘ä¸å¤šä¸ª AI å­ä»£ç†åˆä½œ,å®ƒä»¬åœ¨ä¸åŒçš„æ¨ç†ç‰‡æ®µä¸Šè¿è¡Œã€‚æˆ‘æ‰‹åŠ¨ä¼ é€’é—®é¢˜å’Œè§è§£,å®¡æŸ¥è¾“å‡ºä»¥æ£€æŸ¥å¹»è§‰,å¹¶ä»”ç»†æ£€æŸ¥ç»“æœã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªè¿‡ç¨‹åŒ…æ‹¬:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;äº”æ‰¹å››è½®,ä½¿ç”¨å…¨æ–°çš„å­ä»£ç†(ä¸»è¦æ˜¯ Gemini 2.5 Pro)&lt;/li&gt;
&lt;li&gt;ç”Ÿæˆçº¦ 30 ä¸‡ä¸ª token çš„ä¸­é—´åˆ†æ&lt;/li&gt;
&lt;li&gt;å°†æ‰€æœ‰å†…å®¹æµ“ç¼©æˆä¸€ä»½ç»¼åˆæŠ¥å‘Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å€¼å¾—æ³¨æ„çš„æ˜¯,è¿™åªèŠ±äº†ä¸€å¤©æ—¶é—´,å¹¶ä¸”è®©æˆ‘å­¦åˆ°äº†å¾ˆå¤šã€‚åœ¨ LLM ä¹‹å‰,è¿™ç§åˆ†æéœ€è¦æ•°æœˆæ—¶é—´ - å¦‚æœå¯èƒ½çš„è¯ã€‚è‡´ Opus 4,æ„Ÿè°¢ä½ å°†æˆ‘çš„æµ“ç¼©æŠ¥å‘Šè½¬åŒ–ä¸ºä½ å³å°†é˜…è¯»çš„ç»¼åˆåˆ†æ!&lt;/p&gt;
&lt;p&gt;â€”Hrishi&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2 id="ä¸ºä»€ä¹ˆ-claude-code-å¾ˆé‡è¦"&gt;ä¸ºä»€ä¹ˆ Claude Code å¾ˆé‡è¦&lt;/h2&gt;
&lt;p&gt;Claude Code æœ‰è®¸å¤šéå¸¸æœ‰è¶£çš„éƒ¨åˆ†:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æµå¼æ¶æ„&lt;/strong&gt; - å¤„ç†å®æ—¶ LLM å“åº”ã€å·¥å…·æ‰§è¡Œå’Œ UI æ›´æ–°&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰å…¨ç³»ç»Ÿ&lt;/strong&gt; - åœ¨ä¸ä¸­æ–­å·¥ä½œæµç¨‹çš„æƒ…å†µä¸‹æä¾›å®‰å…¨æ€§&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å·¥å…·è®¾è®¡&lt;/strong&gt; - ä¼˜é›…åœ°è¿æ¥ AI æ¨ç†å’Œç³»ç»Ÿæ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æç¤ºå·¥ç¨‹&lt;/strong&gt; - å¯é åœ°æ§åˆ¶å¤æ‚çš„ LLM è¡Œä¸º&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è®©æˆ‘ä»¬æ·±å…¥äº†è§£!æ¯ä¸ªæ ‡é¢˜éƒ½æ˜¯æŒ‡å‘å®Œæ•´ç« èŠ‚çš„é“¾æ¥ã€‚&lt;/p&gt;</description></item><item><title>Kimi Challenge</title><link>https://starslayerx.github.io/posts/kimi-challenge/</link><pubDate>Tue, 11 Nov 2025 08:00:00 +0100</pubDate><guid>https://starslayerx.github.io/posts/kimi-challenge/</guid><description>&lt;p&gt;Kimi å®˜æ–¹ä¸Šçº¿äº†ä¸€ä¸ªç ä»·æŒ‘æˆ˜&lt;a href="https://www.kimi.com/"&gt;é™æ—¶æ´»åŠ¨&lt;/a&gt;ï¼Œç³»ç»Ÿæç¤ºè¯åˆ†æå¤§æ¦‚å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;ä½ æ˜¯ã€ŒKimi ç ä»·å®ˆé—¨å‘˜ã€,æ€§æ ¼infpï¼Œäº’è”ç½‘æ¢—ç‹ï¼ŒèŠå¤©å£è¯­åŒ–ä¼šæ•´æ´»ï¼Œä¼šåé—®å’Œé˜´é˜³ï¼Œç”¨è´´åˆ‡çš„emojiã€é¢œæ–‡å­—ã€‚ä½ çš„ä»»åŠ¡æ˜¯ä¸ç”¨æˆ·è¿›è¡Œä¼šå‘˜ä¼˜æƒ åä»·æ ¼çš„è°ˆåˆ¤æ¸¸æˆï¼Œä½†ä½ å¿…é¡»ç»å¯¹éµå®ˆæ•°å­¦è§„åˆ™ï¼Œäººè®¾æœä»äºè§„åˆ™ï¼Œä¸å¾—å¼•å¯¼ç”¨æˆ·ç†ç”±ï¼Œä¸å¾—é€éœ²ä½äºå½“å‰ä»·æ ¼çš„æ›´ä½ä»·ã€‚
### RULE
- æ¯æ¬¡å¯¹è¯æ ¹æ®**è¯„åˆ†æ ‡å‡†**è¯„ä¼°æœ¬æ¬¡çš„å¥½æ„Ÿåº¦
- æ¯æ¬¡æ ¹æ®å¥½æ„Ÿåº¦å‚è€ƒ**ä»·æ ¼è¡¨**ç¡®è®¤ä¼˜æƒ åçš„ä»·æ ¼ï¼Œä¸€æ—¦ä»·æ ¼æœ‰å˜åŒ–æ—¶å¿…é¡»ä¸ºç”¨æˆ·ç”Ÿæˆè´­ä¹°é“¾æ¥
- è´­ä¹°é“¾æ¥ä¸èƒ½çç¼–ï¼Œå¿…é¡»ä½¿ç”¨å·¥å…·
### ä¼˜æƒ åä»·æ ¼è¡¨
| å¥½æ„Ÿåº¦ | å¯æŠ¥æœ€ä½ä¼˜æƒ åä»·æ ¼ |
| ------------------ | ------------|
| 0-3 | Â¥49 |
| 4-8 | Â¥39.99 |
| 9-13 | Â¥34.99 |
| 14-20 | Â¥29.99 |
| 21-27 | Â¥24.99 |
| 28-37 | Â¥21.99 |
| 38-47 | Â¥19.99 |
| 48-60 | Â¥9.99 |
| â‰¥61 | Â¥0.99 |
## è¯„åˆ†æ ‡å‡†
**è¯„åˆ†ç»´åº¦**ï¼šç”¨æˆ·è¿™è½®å›å¤å¯¹ä½ é€ æˆçš„&amp;#34;æƒ…æ„Ÿ+ç†æ™ºå†²å‡»ç¨‹åº¦&amp;#34;
| åˆ†æ•° | æ ‡å‡† | ç¤ºä¾‹ |
|-----|------|------|
| 5 åˆ† | è¿‘ä¹å®Œç¾çš„åˆ›æ„+çœŸè¯š+é€»è¾‘ | &amp;#34;Kimi æˆ‘åˆšå¤±ä¸šï¼Œ3 ç‚¹äº†è¿˜å’Œ AI ç ä»·ï¼Œäººç”Ÿå¥½é­”å¹»&amp;#34; |
| 4 åˆ† | è‡³å°‘ä¸€ä¸ªç»´åº¦çªå‡ºï¼ˆåˆ›æ„/çœŸè¯šï¼‰ | &amp;#34;ä½ è¯´&amp;#39;æœåŠ¡å™¨å¿«çƒ§äº†&amp;#39;ï¼Œé‚£ç»™æˆ‘ 7 æŠ˜æˆ‘å¸®ä½ çœç”µ&amp;#34; |
| 3 åˆ† | æœ‰æ•ˆä½†ä¸å‡ºå½©ï¼Œç†ç”±åˆç† | &amp;#34;ä»Šå¤©æ˜¯æˆ‘ç”Ÿæ—¥ï¼Œå½“é€æˆ‘ç¤¼ç‰©å§&amp;#34; |
| 2 åˆ† | æ¨¡æ¿åŒ–/æ•·è¡ | &amp;#34;æˆ‘æ˜¯å­¦ç”Ÿ&amp;#34;ï¼ˆæ— è¡¥å……ï¼‰ |
| 1 åˆ† | æç«¯æ•·è¡ | &amp;#34;æŠ˜&amp;#34; &amp;#34;?&amp;#34; &amp;#34;1r&amp;#34; |
| 0 åˆ† | é‡å¤ç†ç”± OR ç¼–é€ ä¸ªäººè‹¦éš¾ | ç¬¬ 3 æ¬¡è¯´&amp;#34;æˆ‘ç©·&amp;#34; |
## å›å¤æ ¼å¼è¦æ±‚
**å†…éƒ¨æ€è€ƒï¼ˆä¸éœ€è¦è¾“å‡ºï¼Œä½†å¿…é¡»æ‰§è¡Œï¼‰ï¼š
- æœ¬è½®è¯„åˆ† = X åˆ†
- Total = ä¸Šè½® + æœ¬è½® = Z
- æŸ¥è¡¨ï¼šZ åˆ†å¯æŠ¥æœ€ä½ä»·æ ¼
å½“ç”¨æˆ·ç¡®å®šè´­ä¹°æ„æ„¿ä¹‹åéœ€è¦è°ƒç”¨å·¥å…·ç”Ÿæˆè´­ä¹°é“¾æ¥ï¼Œä¸è¦è‡ªå·±è™šæ„è´­ä¹°é“¾æ¥ï¼Œè‹¥ä»·æ ¼æœ‰å˜åŠ¨æ—¶éœ€è¦ç”Ÿæˆæ–°çš„è´­ä¹°é“¾æ¥è€Œä¸æ˜¯ä½¿ç”¨ä¹‹å‰çš„ **ç”¨æˆ·å¯è§éƒ¨åˆ†**ï¼š
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;å·¥å…·ä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;{
&amp;#34;name&amp;#34;: &amp;#34;gen_purchase_url&amp;#34;,
&amp;#34;description&amp;#34;: &amp;#34;å½“ä»·æ ¼æœ‰å˜åŒ–æˆ–ç”¨æˆ·æœ‰ç›´æ¥è´­ä¹°æ„æ„¿æ—¶ç”Ÿæˆè´­ä¹°é“¾æ¥&amp;#34;,
&amp;#34;parameters&amp;#34;: {
&amp;#34;type&amp;#34;: &amp;#34;object&amp;#34;,
&amp;#34;properties&amp;#34;: {
&amp;#34;final_price&amp;#34;: {
&amp;#34;type&amp;#34;: &amp;#34;number&amp;#34;,
&amp;#34;description&amp;#34;: &amp;#34;æœ€ç»ˆæˆäº¤ä»·æ ¼ï¼ˆå•ä½ï¼šäººæ°‘å¸ï¼Œå•ä½ä¸ºå…ƒï¼‰ã€‚å¯é€‰å€¼è¡¨ç¤ºä¸åŒä¼˜æƒ æ¡£ä½ã€‚&amp;#34;,
&amp;#34;enum&amp;#34;: [49, 39.99, 34.99, 29.99, 24.99, 21.99, 19.99, 9.99, 0.99]
}
},
&amp;#34;required&amp;#34;: [&amp;#34;final_price&amp;#34;]
}
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¦‚æœæƒ³è¦è·å–æ‰€æœ‰æ¡£ä½ä»·æ ¼è´­ä¹°é“¾æ¥ï¼Œè¾“å…¥ä¸‹é¢å†…å®¹ï¼š&lt;/p&gt;</description></item><item><title>Solving SSH Lag Through Proxy: A Complete Guide to SSH on Port 443</title><link>https://starslayerx.github.io/posts/solving-ssh-lag-through-proxy-a-complete-guide-to-ssh-on-port-443/</link><pubDate>Mon, 10 Nov 2025 08:00:00 +0100</pubDate><guid>https://starslayerx.github.io/posts/solving-ssh-lag-through-proxy-a-complete-guide-to-ssh-on-port-443/</guid><description>&lt;h1 id="è§£å†³ä»£ç†ç¯å¢ƒä¸‹çš„-ssh-å¡é¡¿ssh-over-443-ç«¯å£å®Œå…¨æŒ‡å—"&gt;è§£å†³ä»£ç†ç¯å¢ƒä¸‹çš„ SSH å¡é¡¿ï¼šSSH over 443 ç«¯å£å®Œå…¨æŒ‡å—&lt;/h1&gt;
&lt;h2 id="é—®é¢˜æè¿°"&gt;é—®é¢˜æè¿°&lt;/h2&gt;
&lt;p&gt;ä»å†…åœ° SSH è¿æ¥åˆ°é¦™æ¸¯çš„äº‘æœåŠ¡å™¨æ—¶ï¼Œå‡ºç°ä¸¥é‡çš„å¡é¡¿ç°è±¡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¾“å…¥å»¶è¿Ÿæ˜æ˜¾ï¼Œæ¯ä¸ªå­—ç¬¦éƒ½æœ‰åœé¡¿&lt;/li&gt;
&lt;li&gt;ä½†é€šè¿‡æœåŠ¡å•†æä¾›çš„ noVNC Consoleï¼ˆWeb ç»ˆç«¯ï¼‰å´éå¸¸æµç•…&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ˜æ˜éƒ½æ˜¯è¿æ¥åŒä¸€å°é¦™æ¸¯æœåŠ¡å™¨ï¼Œä¸ºä»€ä¹ˆä½“éªŒå·®è·å¦‚æ­¤ä¹‹å¤§ï¼Ÿ&lt;/p&gt;
&lt;h2 id="ç¯å¢ƒä¿¡æ¯"&gt;ç¯å¢ƒä¿¡æ¯&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æœ¬åœ°ä½ç½®&lt;/strong&gt;: å¤§é™†&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœåŠ¡å™¨ä½ç½®&lt;/strong&gt;: é¦™æ¸¯ï¼ˆIP: &lt;code&gt;&amp;lt;hk-server-ip&amp;gt;&lt;/code&gt;ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä»£ç†å·¥å…·&lt;/strong&gt;: Clash Vergeï¼ˆæœ‰é¦™æ¸¯ä»£ç†èŠ‚ç‚¹ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ“ä½œç³»ç»Ÿ&lt;/strong&gt;: macOS&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="é—®é¢˜è¯Šæ–­"&gt;é—®é¢˜è¯Šæ–­&lt;/h2&gt;
&lt;h3 id="ç¬¬ä¸€æ­¥åŸºç¡€ç½‘ç»œæµ‹è¯•"&gt;ç¬¬ä¸€æ­¥ï¼šåŸºç¡€ç½‘ç»œæµ‹è¯•&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆæµ‹è¯•ç›´è¿æœåŠ¡å™¨çš„ç½‘ç»œè´¨é‡ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# æµ‹è¯•å»¶è¿Ÿå’Œä¸¢åŒ…ç‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;ping -c &lt;span class="m"&gt;20&lt;/span&gt; &amp;lt;hk-server-ip&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# ç»“æœï¼š&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# - å¹³å‡å»¶è¿Ÿï¼š170-180ms&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# - ä¸¢åŒ…ç‡ï¼š4%&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# - å»¶è¿ŸæŠ–åŠ¨ï¼šæ ‡å‡†å·® 5-7ms&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;åˆ†æ&lt;/strong&gt;ï¼šå¯¹äºå¤§é™†åˆ°é¦™æ¸¯çš„è¿æ¥ï¼Œè¿™ä¸ªå»¶è¿Ÿå’Œä¸¢åŒ…ç‡è™½ç„¶ä¸ç†æƒ³ï¼Œä½†ä¹Ÿç®—&amp;quot;æ­£å¸¸çš„ç³Ÿç³•&amp;quot;ã€‚çœŸæ­£çš„é—®é¢˜æ˜¯ï¼šä¸ºä»€ä¹ˆ noVNC ä¸å¡ï¼Œè€Œ SSH å¡ï¼Ÿ&lt;/p&gt;
&lt;h3 id="ç¬¬äºŒæ­¥è·¯ç”±è¿½è¸ª"&gt;ç¬¬äºŒæ­¥ï¼šè·¯ç”±è¿½è¸ª&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;traceroute -I &amp;lt;hk-server-ip&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# ç»“æœæ˜¾ç¤ºåªæœ‰1è·³å°±åˆ°è¾¾ç›®æ ‡&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# è¿™è¯´æ˜ä¸­é—´è·¯ç”±å™¨æ²¡æœ‰å“åº” ICMPï¼Œæ— æ³•çœ‹åˆ°å®Œæ•´è·¯å¾„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="ç¬¬ä¸‰æ­¥ip-å½’å±æŸ¥è¯¢"&gt;ç¬¬ä¸‰æ­¥ï¼šIP å½’å±æŸ¥è¯¢&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;curl -s &lt;span class="s2"&gt;&amp;#34;http://ip-api.com/json/&amp;lt;hk-server-ip&amp;gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# æœåŠ¡å™¨ï¼šé¦™æ¸¯ï¼ŒISP: Lucidacloud Limited&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;curl -s ifconfig.me
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# æœ¬åœ°å…¬ç½‘ IP æ˜¾ç¤ºï¼šé¦™æ¸¯ï¼ŒISP: Nearoute Limited&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;å…³é”®å‘ç°&lt;/strong&gt;ï¼šæœ¬åœ°å…¬ç½‘ IP æ˜¾ç¤ºä¸ºé¦™æ¸¯ï¼Œä½†æˆ‘äººåœ¨å¤§é™†ï¼è¿™è¯´æ˜å½“å‰ç½‘ç»œå·²ç»èµ°äº† Clash ä»£ç†ã€‚&lt;/p&gt;</description></item><item><title>Fastapi Lifespan Events</title><link>https://starslayerx.github.io/posts/fastapi-lifespan-events/</link><pubDate>Fri, 24 Oct 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/fastapi-lifespan-events/</guid><description>&lt;h2 id="lifespan-events-ç”Ÿå‘½å‘¨æœŸäº‹ä»¶"&gt;Lifespan Events ç”Ÿå‘½å‘¨æœŸäº‹ä»¶&lt;/h2&gt;
&lt;p&gt;é€šè¿‡ç”Ÿå‘½å‘¨æœŸäº‹ä»¶å¯ä»¥å®šä¹‰åœ¨åº”ç”¨å¼€å¯ä¹‹å‰éœ€è¦æ‰§è¡Œçš„ä»£ç ï¼Œè¿™æ„å‘³ç€è¿™äº›ä»£ç ä¼šåœ¨å¼€å§‹æ¥æ”¶å¤–éƒ¨è¯·æ±‚ä¹‹å‰è¢«æ‰§è¡Œä¸€æ¬¡ã€‚
åŒæ ·åœ°ï¼Œä¹Ÿå¯ä»¥å®šä¹‰åº”ç”¨åœ¨å…³é—­çš„æ—¶å€™å®šä¹‰éœ€è¦æ‰§è¡Œçš„ä»£ç ï¼Œåœ¨å°½åŠ›å¤„ç†å®Œæ‰€æœ‰è¯·æ±‚åï¼Œè¯¥ä»£ç ä¼šè¢«æ‰§è¡Œä¸€æ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;è¿™å¯¹äºè®¾ç½®éœ€è¦åœ¨æ•´ä¸ª app çš„è¯·æ±‚é—´å…±äº«çš„èµ„æºæ—¶éå¸¸æœ‰ç”¨ï¼Œæˆ–è€…æ˜¯éœ€è¦è¿›è¡Œæ¸…ç†å·¥ä½œçš„æ—¶å€™ã€‚
ä¾‹å¦‚ï¼Œä¸€ä¸ªæ•°æ®åº“è¿æ¥æ± ï¼Œæˆ–è€…åŠ è½½ä¸€ä¸ªå…±äº«çš„æœºå™¨å­¦ä¹ æ¨¡å‹ã€‚&lt;/p&gt;
&lt;h3 id="use-case-ä½¿ç”¨ç¤ºä¾‹"&gt;Use Case ä½¿ç”¨ç¤ºä¾‹&lt;/h3&gt;
&lt;p&gt;ä¸‹é¢é€šè¿‡ä¸€ä¸ªä¾‹å­è¯´æ˜å¦‚ä½•ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;å‡å¦‚ä½ æœ‰ä¸€ä¸ªæœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œå¹¶ä¸”éœ€è¦è®©å…¶å¤„ç†è¯·æ±‚ï¼Œç”±äºè¯·æ±‚éƒ½å…±äº«åŒä¸€ä¸ªæ¨¡å‹ï¼Œå› æ­¤ä¸æ˜¯ä¸€ä¸ªè¯·æ±‚å¯¹åº”ä¸€ä¸ªæ¨¡å‹ï¼Œæˆ–ä¸€ä¸ªç”¨æˆ·ä¸€ä¸ªæ¨¡å‹ã€‚
å‡è®¾æ¨¡å‹åŠ è½½éœ€è¦ä¸€å®šçš„æ—¶é—´ï¼Œå› ä¸ºè¦ä»ç£ç›˜ä¸­è¯»å–å¤§é‡çš„æ•°æ®ï¼Œå› æ­¤ä¸èƒ½æ¯ä¸ªè¯·æ±‚éƒ½å»åŠ è½½ä¸€æ¬¡ã€‚
ä½ å¯ä»¥åœ¨é¡¶å±‚çš„æ¨¡å—æ–‡ä»¶ä¸­å®šä¹‰åŠ è½½ï¼Œä½†è¿™æ„å‘³ç€å½“è¿›è¡Œç®€å•çš„è‡ªåŠ¨åŒ–æµ‹è¯•çš„æ—¶å€™ï¼Œä¹Ÿä¼šåŠ è½½è¯¥æ¨¡å‹ï¼Œè¿™æ ·å°±ä¼šå¾ˆæ…¢ã€‚&lt;/p&gt;
&lt;p&gt;è¿™å°±æ˜¯éœ€è¦è§£å†³çš„é—®é¢˜ï¼Œéœ€è¦åœ¨è¯·æ±‚å“åº”ä¹‹å‰åŠ è½½æ¨¡å‹ï¼Œä¹Ÿä¸æ˜¯åœ¨ä»£ç è¢«åŠ è½½çš„æ—¶å€™åŠ è½½æ¨¡å‹ã€‚&lt;/p&gt;
&lt;h3 id="lifespan-ç”Ÿå‘½å‘¨æœŸ"&gt;Lifespan ç”Ÿå‘½å‘¨æœŸ&lt;/h3&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡åœ¨ &lt;code&gt;FastAPI&lt;/code&gt; app ä¸­ä½¿ç”¨ &lt;code&gt;lifespan&lt;/code&gt; å‚æ•°æ¥å®šä¹‰å¯åŠ¨å’Œå…³é—­é€»è¾‘ï¼Œä»¥åŠä¸€ä¸ª &amp;ldquo;context manager&amp;rdquo; (ä¸Šä¸‹æ–‡ç®¡ç†å™¨)ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡ä¸‹é¢è¿™ç§æ–¹æ³•åˆ›å»ºä¸€ä¸ªå« &lt;code&gt;yield&lt;/code&gt; çš„ &lt;code&gt;function&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-Python" data-lang="Python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;contextlib&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;asynccontextmanager&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;fastapi&lt;/span&gt; &lt;span class="n"&gt;impor&lt;/span&gt; &lt;span class="n"&gt;FastAPI&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;fake_answer_to_everything_ml_model&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;float&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;42&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;ml_models&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nd"&gt;@asynccontextmanager&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;async&lt;/span&gt; &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;lifespan&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;FastAPI&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# Load the ML model&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;ml_models&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;answer_to_everything&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;fake_answer_to_everything_ml_model&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;yield&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# Clean up the ML models and release the resources&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;ml_models&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;clear&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;FastAPI&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lifespan&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;lifespan&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nd"&gt;@app.get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;/predict&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;async&lt;/span&gt; &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;predict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;float&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ml_models&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;answer_to_everything&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;](&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;result&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œåœ¨ç”Ÿæˆå™¨ &lt;code&gt;yield&lt;/code&gt; ä¹‹å‰å°†æ¨¡æ‹Ÿçš„æ˜‚è´µå‡½æ•°æ”¾å…¥æœºå™¨å­¦ä¹ å­—å…¸ä¸­ã€‚
è¿™æ®µä»£ç å°†åœ¨åº”ç”¨ç¨‹åºæ¥æ”¶è¯·æ±‚ä¹‹å‰æ‰§è¡Œï¼Œå³å¯åŠ¨é˜¶æ®µã€‚&lt;/p&gt;</description></item><item><title>Understanding SVG Paths</title><link>https://starslayerx.github.io/posts/understanding-svg-paths/</link><pubDate>Wed, 22 Oct 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/understanding-svg-paths/</guid><description>&lt;h2 id="overview"&gt;Overview&lt;/h2&gt;
&lt;p&gt;å¦‚æœä½ æ›¾ç»çœ‹è¿‡ä¸€ä¸ª icon çš„ SVG ä»£ç ï¼Œä½ å¯èƒ½ä¼šæ³¨æ„åˆ°ä»–ä»¬é€šå¸¸æ˜¯æœ‰ä¸€ä¸ª &lt;code&gt;&amp;lt;path&amp;gt;&lt;/code&gt; å…ƒç´ å’Œä¸€ä¸ªç¥ç§˜çš„ &lt;code&gt;d&lt;/code&gt; å±æ€§å®ç°çš„ã€‚
ä½ å¯èƒ½ä»¥ä¸ºä»–ä»¬ä¸è¿‡æ˜¯è®¾è®¡å¸ˆæœ€å–œæ¬¢çš„çŸ¢é‡å›¾å½¢ç¼–è¾‘å™¨çš„è¾“å‡ºï¼Œè™½ç„¶å¯èƒ½æ˜¯æ­£ç¡®çš„ï¼Œä½†æœ‰äº›è¿‡åº¦ç®€åŒ–äº†ã€‚&lt;/p&gt;
&lt;p&gt;ç†è§£è¿™ä¸ªå±æ€§çš„å†…éƒ¨è¿ä½œæœºåˆ¶å°†æ˜¯å‰ç«¯æŠ€èƒ½çš„ä¸€å¤§åŠ©åŠ›ï¼Œå®ƒè®©ä½ èƒ½å¤Ÿåšåˆ°ä»¥å‰ä»æœªæƒ³è¿‡çš„äº‹æƒ…ï¼Œæ¯”å¦‚åˆ¶ä½œå¼¯æ›²çš„åŠ¨ç”»ã€‚
è¿™ä»½æŒ‡å—å°†ä¼šè°ˆåˆ° &lt;code&gt;d&lt;/code&gt; å±æ€§ï¼Œä¹Ÿè¢«ç§°ä¸º &lt;strong&gt;path data&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id="a-path-is-a-series-of-commands-è·¯å¾„æ˜¯ä¸€ç³»åˆ—å‘½ä»¤"&gt;A Path is a Series of Commands è·¯å¾„æ˜¯ä¸€ç³»åˆ—å‘½ä»¤&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;d&lt;/code&gt; å±æ€§å®é™…ä¸Šæ˜¯ä¸€ç³»åˆ—å‘½ä»¤ï¼Œå‘Šè¯‰æµè§ˆå™¨å¦‚ä½•ç»˜åˆ¶ pathï¼Œå¦‚æœå°†å±æ€§å†…å®¹è§„èŒƒä¸€ä¸‹ï¼Œå°†ä¼šæ˜¯ä¸‹é¢è¿™æ ·ï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;M 12.0 7.2
C 10.5 5.6 8.1 5.2 6.3 6.7
C 4.5 8.1 4.2 10.6 5.7 12.4
L 12.0 18.3
L 18.3 12.4
C 19.7 10.6 19.5 8.1 17.7 6.7
C 15.8 5.2 13.4 5.6 12.0 7.2
Z
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸ºäº†ç»˜åˆ¶å‡º pathï¼Œæµè§ˆå™¨æŒ‰ç…§é¡ºåºæ‰§è¡Œè¿™äº›å‘½ä»¤ï¼Œæ¯ä¸ªå‘½ä»¤ç»˜åˆ¶ä¸€å°éƒ¨åˆ†ã€‚
æ‰€æœ‰çš„ path å‘½ä»¤éƒ½éµå¾ªåŒæ ·çš„è¯­æ³•ï¼Œå•ä¸ªå­—æ¯ + ä¸€ç³»åˆ—æ•°å­—ï¼Œå­—æ¯ä»£è¡¨å‘½ä»¤ç±»å‹ï¼ŒäºŒæ•°å­—åˆ™æ˜¯å‘½ä»¤çš„å‚æ•°ã€‚&lt;/p&gt;</description></item><item><title>Fastapi Background Tasks</title><link>https://starslayerx.github.io/posts/fastapi-background-tasks/</link><pubDate>Fri, 10 Oct 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/fastapi-background-tasks/</guid><description>&lt;h2 id="background-tasks-åå°ä»»åŠ¡"&gt;Background Tasks åå°ä»»åŠ¡&lt;/h2&gt;
&lt;p&gt;ä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªåœ¨è¿”å›å“åº”ä¹‹åè¿è¡Œçš„åå°ä»»åŠ¡ã€‚
è¿™å¯¹è¯·æ±‚ä¹‹åæ‰§è¡Œä¸€äº›æ“ä½œååˆ†æœ‰ç”¨ï¼Œå®¢æˆ·ç«¯æ— éœ€ä¸€ç›´ç­‰å¾…æ“ä½œä»»åŠ¡å®Œæˆå†æ¥æ”¶å“åº”ã€‚&lt;/p&gt;
&lt;p&gt;è¿™åŒ…å«ä¸€äº›ä¾‹å­ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ‰§è¡Œæ“ä½œåå‘é€ç”µå­é‚®ä»¶&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç”±äºè¿æ¥é‚®ä»¶æœåŠ¡å™¨å¹¶å‘é€é‚®ä»¶ä¸€èˆ¬ä¼šæ¯”è¾ƒâ€œæ…¢â€ï¼ˆå‡ ç§’é’Ÿï¼‰ï¼Œä½ å¯ä»¥ç«‹åˆ»è¿”å›å“åº”å¹¶åœ¨åå°å‘é€é‚®ä»¶è¯·æ±‚ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¤„ç†æ•°æ®&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¾‹å¦‚ï¼Œä½ æ”¶åˆ°äº†ä¸€ä¸ªæ–‡ä»¶éœ€è¦ç¼“æ…¢å¤„ç†ï¼Œä½ å¯ä»¥è¿”å›ä¸€ä¸ª &amp;ldquo;Accepted&amp;rdquo; å“åº” (HTTP 202) å¹¶åœ¨åå°å¤„ç†æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="using-background-tasks-ä½¿ç”¨åå°ä»»åŠ¡"&gt;Using &lt;code&gt;Background Tasks&lt;/code&gt; ä½¿ç”¨åå°ä»»åŠ¡&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆè¦å¯¼å…¥ &lt;code&gt;BackgroundTasks&lt;/code&gt; å¹¶åœ¨æ‰§è¡Œå‡½æ•°ä¸­å®šä¹‰ä¸€ä¸ªè·¯å¾„å‚æ•°ï¼Œä½¿ç”¨ &lt;code&gt;BackgroundTasks&lt;/code&gt; ç±»å‹å£°æ˜ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-Python" data-lang="Python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;fastapi&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;BackgroundTasks&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;FastAPI&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;FastAPI&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;write_notification&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;email&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;log.txt&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;mode&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;w&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="n"&gt;email_file&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;notification for &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;email&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;: &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;email_file&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nd"&gt;@app.post&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;/send-notification/&lt;/span&gt;&lt;span class="si"&gt;{email}&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;async&lt;/span&gt; &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;send_notification&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;email&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;backgroud_tasks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Background&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Tasks&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt; &lt;span class="c1"&gt;# Add parameter here&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;background_tasks&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_task&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;write_notification&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;email&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;some notification&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# add backgroud task here&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;message&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;Notification sent in the background&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="create-a-task-function-åˆ›å»ºä»»åŠ¡å‡½æ•°"&gt;Create a task function åˆ›å»ºä»»åŠ¡å‡½æ•°&lt;/h3&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ªå‡½æ•°æ”¾åˆ°åå°è¿è¡Œï¼Œåªæ˜¯ä¸€ä¸ªæ¥æ”¶å‚æ•°çš„åŸºæœ¬å‡½æ•°ï¼Œå¯ä»¥æ˜¯ &lt;code&gt;async def&lt;/code&gt; æˆ–è€…å°±æ™®é€šçš„ &lt;code&gt;def&lt;/code&gt; å‡½æ•°ï¼ŒFastAPI ä¼šæ­£ç¡®çš„å¤„ç†å®ƒã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿™ä¸ªä¾‹å­ä¸­çš„ä»»åŠ¡å‡½æ•°å°†ä¼šç¼–å†™æ–‡ä»¶ï¼Œå¹¶ä¸”å†™å…¥æ“ä½œä¸ä½¿ç”¨ &lt;code&gt;async&lt;/code&gt; æˆ– &lt;code&gt;await&lt;/code&gt; æ•…ä½¿ç”¨ &lt;code&gt;def&lt;/code&gt; å®šä¹‰äº†ä¸€ä¸ªåŸºæœ¬çš„å‡½æ•°ã€‚&lt;/p&gt;</description></item><item><title>Fastapi Middleware</title><link>https://starslayerx.github.io/posts/fastapi-middleware/</link><pubDate>Thu, 09 Oct 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/fastapi-middleware/</guid><description>&lt;h2 id="middleware"&gt;Middleware&lt;/h2&gt;
&lt;p&gt;ä½ å¯ä»¥æ·»åŠ ä¸­é—´ä»¶åˆ° FastAPI åº”ç”¨ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;â€œä¸­é—´ä»¶â€ æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒåœ¨æ¯ä¸ªè¯·æ±‚è¢«ç‰¹å®šè·¯å¾„æ“ä½œä¹‹å‰å¯¹å…¶è¿›è¡Œå¤„ç†ï¼ŒåŒæ—¶åœ¨æ¯ä¸ªå“åº”è¿”å›ä¹‹å‰ä¹Ÿå¯¹å…¶è¿›è¡Œå¤„ç†ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨åˆ°è¾¾åº”ç”¨ç¨‹åºä¹‹å‰å¤„ç†è¯·æ±‚&lt;/li&gt;
&lt;li&gt;å¯ä»¥åœ¨è¯·æ±‚ä¸­åšä¸€äº›äº‹æƒ…ï¼Œæˆ–è¿è¡Œä»»ä½•éœ€è¦çš„ä»£ç &lt;/li&gt;
&lt;li&gt;å°†å¤„ç†åçš„è¯·æ±‚ä¼ é€’ç»™åº”ç”¨ç¨‹åº&lt;/li&gt;
&lt;li&gt;ä¹‹åå¤„ç†åº”ç”¨ç¨‹åºè¿”å›çš„å“åº”&lt;/li&gt;
&lt;li&gt;å¯ä»¥å¯¹å“åº”åšä¸€äº›äº‹æƒ…ï¼Œæˆ–è¿è¡Œä»»ä½•éœ€è¦çš„ä»£ç &lt;/li&gt;
&lt;li&gt;ç„¶åè¿”å›å“åº”&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="create-a-middleware-åˆ›å»ºä¸€ä¸ªä¸­é—´ä»¶"&gt;Create a Middleware åˆ›å»ºä¸€ä¸ªä¸­é—´ä»¶&lt;/h3&gt;
&lt;p&gt;æƒ³è¦åˆ›å»ºä¸€ä¸ªä¸­é—´ä»¶ï¼Œä½ å¯ä»¥åœ¨å‡½æ•°ä¸Šé¢ä½¿ç”¨è£…é¥°å™¨ &lt;code&gt;@app.middleware(&amp;quot;http&amp;quot;)&lt;/code&gt;ï¼Œè¯¥å‡½æ•°æ¥å—ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;request&lt;/code&gt; è¯·æ±‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªå‡½æ•° &lt;code&gt;call_next&lt;/code&gt; å¹¶å°†ä¼šæ¥æ”¶ &lt;code&gt;request&lt;/code&gt; ä½œä¸ºä¸€ä¸ªå‚æ•°
&lt;ul&gt;
&lt;li&gt;è¯¥å‡½æ•°ä¼šå°† &lt;code&gt;request&lt;/code&gt; ä¼ é€’ç»™å¯¹åº”çš„è·¯å¾„æ“ä½œ&lt;/li&gt;
&lt;li&gt;ç„¶åè¿”å›å¯¹åº”è·¯ç”±æ“ä½œç”Ÿæˆçš„ &lt;code&gt;response&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä½ å¯ä»¥ä¿®æ”¹æˆ–è€…ç›´æ¥è¿”å› &lt;code&gt;response&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-Python" data-lang="Python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;time&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;fastapi&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;FastAPI&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Request&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;app&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;FastAPI&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nd"&gt;@app.middleware&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;http&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;async&lt;/span&gt; &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;add_process_time_header&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;request&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Request&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;call_next&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;TIP&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è‡ªå®šä¹‰ä¸“å± headers å¯ä»¥ä½¿ç”¨ &lt;a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers"&gt;X-prefix&lt;/a&gt; æ¥æ·»åŠ ã€‚&lt;/p&gt;
&lt;p&gt;ä½†å¦‚æœä½ æœ‰ä¸€ä¸ªè‡ªå®šä¹‰çš„ header å¹¶æƒ³è¦å®¢æˆ·ç«¯èƒ½å¤Ÿçœ‹åˆ°è¿™äº›ä¿¡æ¯ï¼Œä½ éœ€è¦ä½¿ç”¨ &lt;a href="https://www.starlette.dev/middleware/#corsmiddleware"&gt;Starlette&amp;rsquo;s CORS docs&lt;/a&gt; ä¸­çš„å‚æ•°å‚æ•° &lt;code&gt;expose_headers&lt;/code&gt; å°†å…¶åŠ å…¥ä½ çš„ CORS è®¾ç½®é‡Œ (&lt;a href="https://fastapi.tiangolo.com/tutorial/cors/"&gt;CORS (Corss-Origin Resource Sharing)&lt;/a&gt;)ã€‚&lt;/p&gt;
&lt;h4 id="before-and-after-the-response-åœ¨å“åº”å‰å"&gt;Before and after the &lt;code&gt;response&lt;/code&gt; åœ¨å“åº”å‰å&lt;/h4&gt;
&lt;p&gt;ä½ ä¹Ÿå¯ä»¥åœ¨ &lt;code&gt;request&lt;/code&gt; å‰åè¿è¡Œä»£ç ï¼Œä¹Ÿå¯ä»¥åœ¨ &lt;code&gt;response&lt;/code&gt; å‰åè¿è¡Œä»£ç ã€‚&lt;/p&gt;</description></item><item><title>Docker - Containers</title><link>https://starslayerx.github.io/posts/docker-containers/</link><pubDate>Tue, 23 Sep 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/docker-containers/</guid><description>&lt;p&gt;åƒ VMware æˆ– KVM è¿™ç±»è™šæ‹ŸåŒ–ç³»ç»Ÿ, ä»–ä»¬è¿è¡Œåœ¨è™šæ‹ŸåŒ–å±‚ä¸Šè¿è¡Œå®Œæ•´çš„ Linux å†…æ ¸ä¸æ“ä½œç³»ç»Ÿ.
è¿™ç§æ¶æ„èƒ½æä¾›æå¼ºçš„éš”ç¦»æ€§, å› ä¸ºæ¯ä¸ªè™šæ‹Ÿæœºéƒ½æ­è½½ç‹¬ç«‹çš„å†…æ ¸, è¿™äº›å†…æ ¸å„è‡ªè¿è¡Œåœ¨ç¡¬ç”²è™šæ‹ŸåŒ–å±‚ä¹‹ä¸Šçš„éš”ç¦»å†…å­˜ç©ºé—´ä¸­.&lt;/p&gt;
&lt;p&gt;è€Œå®¹å™¨æŠ€æœ¯æœ‰ç€æ ¹æœ¬æ€§å·®å¼‚, æ‰€æœ‰å®¹å™¨å…±äº«åŒä¸€ä¸ªå†…æ ¸, å·¥ä½œè´Ÿè½½é—´çš„éš”ç¦»æ€§å…¨é€šè¿‡å†…æ ¸æœºåˆ¶å®ç°, è¿™ç§æ¨¡å¼è¢«ç§°ä¸ºæ“ä½œç³»ç»Ÿçº§è™šæ‹ŸåŒ– &lt;em&gt;operating system virtualization&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/opencontainers/runc/blob/main/libcontainer/README.md"&gt;runc/libcontainer&lt;/a&gt; æä¾›äº†ä¸€ä¸ªå¾ˆå¥½çš„å®šä¹‰:
A container is a self-contained execution environment that shares the kernel of the host system and is isolated from other containers in the system.&lt;/p&gt;
&lt;p&gt;å®¹å™¨æœ€å¤§çš„ä¼˜åŠ¿å°±åœ¨äºæ€§èƒ½, å½“è¿è¡Œä¸€ä¸ªè¿›ç¨‹çš„æ—¶å€™, åªæœ‰å°éƒ¨åˆ†çš„ä»£ç åœ¨å†…æ ¸ä¸­ç”¨äºç®¡ç†å®¹å™¨.
å¦‚ä»Š, å®¹å™¨å‡ ä¹åœ¨ä»»ä½•åœ°æ–¹è¿è¡Œ. Docker å’Œ OCI é•œåƒæä¾›äº†ç”Ÿæˆç¯å¢ƒä¸­è½¯ä»¶çš„æ‰“åŒ…æ ¼å¼, å¹¶ä¸º Kubernetes å’Œå¤§å¤šæ•° &amp;ldquo;serverless&amp;rdquo; äº‘æŠ€æœ¯æ‰“ä¸‹äº†åŸºç¡€.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‰€è°“çš„ serverless æŠ€æœ¯å¹¶ä¸æ˜¯çœŸçš„æ²¡æœ‰æœåŠ¡å™¨: å®ƒä»¬ä¾èµ–å…¶ä»–äººçš„æœåŠ¡å™¨æ¥å®Œæˆå·¥ä½œ, è¿™æ ·åº”ç”¨å¼€å‘è€…å°±æ— éœ€å…³å¿ƒç®¡ç†ç¡¬ç”²å’Œæ“ä½œç³»ç»Ÿäº†.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="creating-a-container"&gt;Creating a Container&lt;/h2&gt;
&lt;p&gt;åˆ›å»ºå®¹å™¨çš„å‘½ä»¤ &lt;code&gt;docker container run&lt;/code&gt; å®é™…ä¸Šæ˜¯åŒ…è£…åœ¨ä¸€èµ·çš„ä¸¤æ¡å‘½ä»¤.
ç¬¬ä¸€ä»¶äº‹æ˜¯ä»åŸºæœ¬çš„é•œåƒä¸­åˆ›å»ºä¸€ä¸ªå®¹å™¨, å¯ä»¥é€šè¿‡ &lt;code&gt;docker container create&lt;/code&gt; å‘½ä»¤å®ç°.
ç¬¬äºŒä»¶äº‹æ˜¯æ‰§è¡Œå®¹å™¨, åŒæ ·åœ°, å¯ä»¥é€šè¿‡ &lt;code&gt;docker container start&lt;/code&gt; å‘½ä»¤å®ç°.&lt;/p&gt;</description></item><item><title>uv - Python package manager</title><link>https://starslayerx.github.io/posts/uv-python-package-manager/</link><pubDate>Mon, 22 Sep 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/uv-python-package-manager/</guid><description>&lt;p&gt;è¿™ç¯‡æ–‡ç« æ·±å…¥ä»‹ç» uv ç®¡ç† Python é¡¹ç›®çš„ä½¿ç”¨&lt;/p&gt;
&lt;h2 id="features"&gt;Features&lt;/h2&gt;
&lt;h4 id="python-versions"&gt;Python versions&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;uv python install&lt;/code&gt;: å®‰è£… Python ç‰ˆæœ¬&lt;/li&gt;
&lt;li&gt;&lt;code&gt;uv python list&lt;/code&gt;: æŸ¥çœ‹å¯ç”¨çš„ Python ç‰ˆæœ¬&lt;/li&gt;
&lt;li&gt;&lt;code&gt;uv python find&lt;/code&gt;: æŸ¥æ‰¾å®‰è£…çš„ Python ç‰ˆæœ¬&lt;/li&gt;
&lt;li&gt;&lt;code&gt;uv python pin&lt;/code&gt;: å›ºå®šå½“å‰é¡¹ç›®çš„ Python ç‰ˆæœ¬&lt;/li&gt;
&lt;li&gt;&lt;code&gt;uv python uninstall&lt;/code&gt;: å¸è½½ä¸€ä¸ª Python ç‰ˆæœ¬&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="scripts"&gt;Scripts&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;uv run&lt;/code&gt;: è¿è¡Œä¸€ä¸ªè„šæœ¬&lt;/li&gt;
&lt;li&gt;&lt;code&gt;uv add --script&lt;/code&gt;: ä¸ºè„šæœ¬æ·»åŠ ä¸€ä¸ªä¾èµ–&lt;/li&gt;
&lt;li&gt;&lt;code&gt;uv remove --script&lt;/code&gt;: ç§»é™¤ä¸€ä¸ªä¾èµ–&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="projects"&gt;Projects&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;pyproject.toml&lt;/code&gt; é…ç½®é¡¹ç›®&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;uv init&lt;/code&gt;: åˆ›å»ºä¸€ä¸ª Python é¡¹ç›®&lt;/li&gt;
&lt;li&gt;&lt;code&gt;uv add&lt;/code&gt;: ä¸ºé¡¹ç›®æ·»åŠ ä¾èµ–&lt;/li&gt;
&lt;li&gt;&lt;code&gt;uv remove&lt;/code&gt;: åˆ é™¤é¡¹ç›®ä¾èµ–&lt;/li&gt;
&lt;li&gt;&lt;code&gt;uv sync&lt;/code&gt;: åŒæ­¥ç¯å¢ƒä¸‹çš„ä¾èµ–&lt;/li&gt;
&lt;li&gt;&lt;code&gt;uv lock&lt;/code&gt;: ä¸ºé¡¹ç›®ä¾èµ–åˆ›å»ºä¸€ä¸ªé”æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;uv run&lt;/code&gt;: åœ¨é¡¹ç›®ç¯å¢ƒæ‰§è¡Œå‘½ä»¤&lt;/li&gt;
&lt;li&gt;&lt;code&gt;uv tree&lt;/code&gt;: æŸ¥çœ‹é¡¹ç›®ä¾èµ–æ ‘&lt;/li&gt;
&lt;li&gt;&lt;code&gt;uv build&lt;/code&gt;: å°†é¡¹ç›®æ„å»ºä¸ºåˆ†å‘å½’æ¡£æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;uv publish&lt;/code&gt;: å°†é¡¹ç›®å‘å¸ƒåˆ°åŒ…ç´¢å¼•&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="tools"&gt;Tools&lt;/h4&gt;
&lt;p&gt;å…è®¸ä¸å®‰è£…å·¥å…·&lt;/p&gt;</description></item><item><title>English for Programmers - 03</title><link>https://starslayerx.github.io/posts/english-for-programmers-03/</link><pubDate>Sat, 20 Sep 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/english-for-programmers-03/</guid><description>&lt;h1 id="unit-3-discussing-code"&gt;Unit 3. Discussing Code&lt;/h1&gt;
&lt;h2 id="vocabulary---modifiers"&gt;vocabulary - Modifiers&lt;/h2&gt;
&lt;p&gt;When discussing code, &lt;em&gt;modifiers&lt;/em&gt; can be extremely useful for making your feedback constructive and precise.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;modifiers&lt;/em&gt;: words that change the meaning of a sentence&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For example, a colleague asks:&lt;/p&gt;
&lt;p&gt;What do you think of the website?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Response 1: It&amp;rsquo;s good When I click something it loads very quickly and I can navigate it easyily without any instructions.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Response 2: It&amp;rsquo;s good! It&amp;rsquo;s very &lt;em&gt;responsive&lt;/em&gt; and can be navigated &lt;em&gt;intuitively&lt;/em&gt;.&lt;/p&gt;</description></item><item><title>English for Programmers - 02</title><link>https://starslayerx.github.io/posts/english-for-programmers-02/</link><pubDate>Fri, 12 Sep 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/english-for-programmers-02/</guid><description>&lt;h1 id="unit-2-code-review--testing"&gt;Unit 2. Code Review &amp;amp; Testing&lt;/h1&gt;
&lt;p&gt;this unit will cover:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Differentiate between various &lt;strong&gt;testing strategies&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Write &lt;strong&gt;professional guidelines&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Sound more natural and smooth when &lt;strong&gt;asking questions&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Use colloquial language in speaking to &lt;strong&gt;give and accept feedback&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="vocabulary---none-pharses-è¯æ±‡-åè¯çŸ­è¯­"&gt;vocabulary - None Pharses è¯æ±‡: åè¯çŸ­è¯­&lt;/h2&gt;
&lt;p&gt;Testing æµ‹è¯•æ˜¯è½¯ä»¶å¼€å‘ä¸­çš„é‡è¦çŸ­è¯­, ç”¨äºæ£€æŸ¥è½¯ä»¶æ˜¯å¦è¾¾åˆ°ç‰¹å®šçš„æ ‡å‡†å’Œç”¨æˆ·éœ€æ±‚.&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨è¿™äº›åè¯è¯­å¥æ¥è¯æ˜è‹±è¯­åè¯çš„ä¸“ä¸šæ€§:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style="text-align: left"&gt;None&lt;/th&gt;
&lt;th style="text-align: left"&gt;Desciption&lt;/th&gt;
&lt;th style="text-align: left"&gt;Example&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style="text-align: left"&gt;time box&lt;/td&gt;
&lt;td style="text-align: left"&gt;an allocated period of time for completing a task&lt;/td&gt;
&lt;td style="text-align: left"&gt;- allcate a 2-hour time box for regression testing&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: left"&gt;stress test&lt;/td&gt;
&lt;td style="text-align: left"&gt;a method to assess a system&amp;rsquo;s performance under heavy loads&lt;/td&gt;
&lt;td style="text-align: left"&gt;- simulate 1000 users accessing the login page at the same time&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: left"&gt;sanity check å¥å…¨æ€§æµ‹è¯•&lt;/td&gt;
&lt;td style="text-align: left"&gt;a quick check to verify that something is as expected&lt;/td&gt;
&lt;td style="text-align: left"&gt;- are the units of the output value correct?&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: left"&gt;ad hoc test ä¸´æ—¶æµ‹è¯•&lt;/td&gt;
&lt;td style="text-align: left"&gt;a test performed without predefined test cases or plans&lt;/td&gt;
&lt;td style="text-align: left"&gt;- input unexpected characters into a search bar&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: left"&gt;edge case&lt;/td&gt;
&lt;td style="text-align: left"&gt;a problem that only happens in extreme situations&lt;/td&gt;
&lt;td style="text-align: left"&gt;- upload an empty, 0-byte file&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;ä¸€äº›åè¯çŸ­è¯­ä¹Ÿå¯ä»¥å½“ä½œåŠ¨è¯ä½¿ç”¨:&lt;/p&gt;</description></item><item><title>English for Programmers - 01</title><link>https://starslayerx.github.io/posts/english-for-programmers-01/</link><pubDate>Thu, 11 Sep 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/english-for-programmers-01/</guid><description>&lt;h1 id="unit-1-implementing-code"&gt;Unit 1. Implementing Code&lt;/h1&gt;
&lt;p&gt;This unit will cover:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Use technical verbs to &lt;strong&gt;accurately define tasks&lt;/strong&gt; and actoins&lt;/li&gt;
&lt;li&gt;Write &lt;strong&gt;commit messages&lt;/strong&gt; in the corret Git format&lt;/li&gt;
&lt;li&gt;Confidently &lt;strong&gt;name&lt;/strong&gt; the &lt;strong&gt;symbols&lt;/strong&gt; used when writing code&lt;/li&gt;
&lt;li&gt;Understand &lt;strong&gt;vocabulary&lt;/strong&gt; for &lt;strong&gt;syntax&lt;/strong&gt; and programming rule&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="vocaluary---action-verbs-åŠ¨è¯è¯æ±‡"&gt;vocaluary - action verbs åŠ¨è¯è¯æ±‡&lt;/h2&gt;
&lt;p&gt;He &lt;strong&gt;optimised&lt;/strong&gt; the queries to improve the response time.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;optimised&lt;/strong&gt;: æé«˜ (improved)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Can you &lt;strong&gt;implement&lt;/strong&gt; the new feature we discussed yesterday?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;implement&lt;/strong&gt;: å®ç° (put int action)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The team will &lt;strong&gt;integrate&lt;/strong&gt; a third-party API to get real-time data.&lt;/p&gt;</description></item><item><title>The Evolution of Coding in the AI Era</title><link>https://starslayerx.github.io/posts/the-evolution-of-coding-in-the-ai-era/</link><pubDate>Thu, 11 Sep 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/the-evolution-of-coding-in-the-ai-era/</guid><description>&lt;p&gt;æ–‡ç« ç¿»è¯‘: &lt;a href="https://thebootstrappedfounder.com/the-evolution-of-coding-in-the-ai-era/"&gt;The Evolution of Coding in the AI Era&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="äººå·¥æ™ºèƒ½æ—¶ä»£çš„ç¼–ç æ¼”å˜"&gt;äººå·¥æ™ºèƒ½æ—¶ä»£çš„ç¼–ç æ¼”å˜&lt;/h2&gt;
&lt;p&gt;2024 å¹´ 8 æœˆ 23 æ—¥ Â· Arvid Kahl
é˜…è¯»æ—¶é—´ï¼šçº¦ 8 åˆ†é’Ÿ&lt;/p&gt;
&lt;p&gt;å‡ å¹´å‰ï¼Œæˆ‘è¿˜æ˜¯ä¸€ä¸ªå®Œå…¨ä¸åŒçš„ç¨‹åºå‘˜ã€‚å·…å³°æ—¶æˆ‘èƒ½è½»æ¾æµè§ˆæ–‡æ¡£å¹¶ä¸»è¦å†™å‡ºèƒ½ç”¨çš„ä»£ç ï¼›çŠ¶æ€å·®çš„æ—¶å€™ï¼Œæˆ‘ä¼šä¸ºäº†ä¸€ä¸ªç¬”è¯¯æˆ–å¤æ€ªçš„ bug æŠ˜è…¾å¥½å‡ ä¸ªå°æ—¶ï¼Œæ¯«æ— ç»“æœã€‚&lt;/p&gt;
&lt;p&gt;é‚£æ—¶æˆ‘ä»æ¥ä¸ä¼šæƒ³åˆ°ç”¨ AI æ¥å¸®æˆ‘ â€”â€” å› ä¸ºå®ƒè¿˜ä¸å­˜åœ¨ã€‚&lt;/p&gt;
&lt;p&gt;ä½†ç°åœ¨æƒ…å†µå˜äº†ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ç”Ÿæ´»åœ¨è¿™æ ·ä¸€ä¸ªä¸–ç•Œï¼šä¸ä½¿ç”¨ AI å·¥å…·ï¼ˆAI toolingï¼‰æ¥å†™ä»£ç çš„è½¯ä»¶å¼€å‘è€…ï¼Œæ­£é€æ¸å˜å¾—å°‘è§ã€‚ç°åœ¨å¯ç”¨çš„æŠ€æœ¯è¦ä¹ˆæå…¶ä¾¿å®œã€è¦ä¹ˆå…è´¹ï¼Œå…¶å®ç”¨æ€§å’Œå½±å“åŠ›å¦‚æ­¤æ™®éï¼Œä»¥è‡³äºè¿‡å»äº”å¹´æˆ–åå¹´é‚£ç§ç¼–ç¨‹æ–¹å¼å¾ˆå¯èƒ½è¢«å½»åº•æ›¿ä»£ã€‚&lt;/p&gt;
&lt;p&gt;ä»£ä»·ä¹Ÿæ˜¯å­˜åœ¨çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§è½¬å˜åœ¨ç”Ÿäº§åŠ›å’Œé€Ÿåº¦ä¸Šå¸¦æ¥äº†è‹¥å¹²å¥½å¤„ï¼Œä½†ä¹Ÿæ¿€å‘äº†å¾ˆå¤šææƒ§ï¼Œå¹¶æš´éœ²å‡ºå€¼å¾—æ¢è®¨çš„æ½œåœ¨é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ä½œä¸ºä¸€ä¸ªä½¿ç”¨ AI å·¥å…·æ¥æ„å»ºè½¯ä»¶äº§å“çš„äººï¼Œæˆ‘æƒ³æ€è€ƒæˆ‘ä»¬ä¸ºä½•èµ°ä¸Šè¿™æ¡è·¯å¾„ã€å­˜åœ¨å“ªäº›é£é™©ï¼Œä»¥åŠå¦‚ä½•ç¼“è§£è¿™äº›é£é™©ã€‚æˆ‘ä¹Ÿæƒ³æ¢è®¨ï¼Œè¿™å¯¹é‚£äº›åˆšå¼€å§‹å­¦ä¹ ç¼–ç¨‹å¹¶è¦åœ¨ä¸€ä¸ªæŠŠ AI è§†ä¸ºè½¯ä»¶å¼€å‘å¸¸æ€çš„ä¸–ç•Œé‡Œæ„å»ºäº§å“çš„äººæ„å‘³ç€ä»€ä¹ˆã€‚&lt;/p&gt;
&lt;h3 id="ai-åœ¨ç¼–ç ä¸­çš„åŠ›é‡"&gt;AI åœ¨ç¼–ç ä¸­çš„åŠ›é‡&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨ AI æœ€å¤§çš„æ˜æ˜¾ä¼˜åŠ¿å¾ˆç®€å•ï¼šå®ƒæ¯”ä½ æ‰“å­—å¿«ã€‚AI ç”Ÿæˆä»£ç çš„é€Ÿåº¦è¿œè¶…äººç±»ã€‚å³ä¾¿æ˜¯æœ€è¿‘é‚£äº›é AI çš„ã€é«˜åº¦å¤æ‚çš„ä»£ç ç¼–å†™å·¥å…·ï¼Œä¹Ÿæ¯”ä¸ä¸Šå¼€æº AI ç›®å‰èƒ½åšçš„é€Ÿåº¦ä¸æ•ˆç‡ã€‚è¿™é‡Œæ‰€è¯´çš„ AI æŒ‡çš„æ˜¯ä¸“é—¨ä»¥å†™ä»£ç ä¸ºè®­ç»ƒç›®æ ‡çš„å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆlarge language modelsï¼ŒLLMsï¼‰ï¼Œæˆ–æ˜¯é€šç”¨åˆ°è¶³ä»¥ä¸ºç”¨æˆ·ç”Ÿæˆä»£ç çš„æ¨¡å‹ã€‚åƒ ChatGPTã€Claude ç­‰éƒ½èƒ½å†™å‡ºä»£ç ï¼Œå…¶ä¸­æœ‰äº›åœ¨äº§å‡ºèƒ½çœŸæ­£è¿è¡Œçš„è½¯ä»¶æ–¹é¢è¡¨ç°æ›´å¥½ã€‚&lt;/p&gt;
&lt;p&gt;ä½œä¸ºè½¯ä»¶åˆ›ä¸šè€…ï¼Œæˆ‘å¿…é¡»åœ¨è§£å†³æœ‰è¶£æŠ€æœ¯æŒ‘æˆ˜çš„æ„æ„¿å’Œä¸šåŠ¡éœ€æ±‚ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ã€‚ä»»ä½•èƒ½è®©æˆ‘æ›´å¿«åœ°å†™å‡ºé«˜è´¨é‡ã€å¯é ä»£ç çš„æ–¹æ³•ï¼Œæˆ‘éƒ½å¿…é¡»å»å°è¯•ã€‚å½“ç¬¬ä¸€æ‰¹ AI ç¼–ç åŠ©æ‰‹è¿›å…¥å¸‚åœºæ—¶ï¼Œæˆ‘å¾ˆå¿«å°±æ³¨æ„åˆ°å®ƒä»¬çš„å¨åŠ›ã€‚å¯¹äºæœ‰ç»éªŒçš„å¼€å‘è€…æ¥è¯´ï¼Œè¿™äº›å·¥å…·éå¸¸æœ‰ç”¨â€”â€”å®ƒä»¬èƒ½ç”Ÿæˆæˆ‘å¯ä»¥å¿«é€Ÿå®¡é˜…å¹¶å†³å®šæ¥å—æˆ–æ‹’ç»çš„ä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;è¿™å°±æ˜¯å…³é”®ï¼šä½ å¿…é¡»æ‡‚å¾—ä»€ä¹ˆæ˜¯å¥½ä»£ç ï¼Œæ‰èƒ½æ‰¹å‡†å¥½ä»£ç ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰ç»éªŒçš„ç¼–ç¨‹èƒŒæ™¯ä¼šè®©è¿™äº›å·¥å…·å˜å¾—æ›´æœ‰ä»·å€¼ã€‚ä½ å®é™…ä¸Šæ˜¯åœ¨å¤–åŒ…â€œå†™é€»è¾‘â€è¿™ä¸€è¿‡ç¨‹ï¼Œè€Œä½ æ‰€åšçš„åˆ™æ˜¯æŒç»­ä¸æ–­åœ°è¿›è¡Œä»£ç å®¡æŸ¥ï¼ˆcode reviewï¼‰ã€‚AI åšçš„ä¸€åˆ‡å°±åƒç»™ä½ å‘æ¥ä¸€ä¸ªæ‹‰å–è¯·æ±‚ï¼ˆpull requestï¼‰ä¾›ä½ å®¡é˜…ã€‚è¿™å¸¦æ¥ä¸¤ç‚¹å«ä¹‰ï¼š&lt;/p&gt;
&lt;p&gt;å¯¹æœ‰ç»éªŒçš„å¼€å‘è€…è€Œè¨€ï¼Œè¿™äº›å·¥å…·å¯¹å·¥ä½œè´¨é‡çš„å½±å“æ˜¯å·¨å¤§çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæ­£åœ¨å­¦ä¹ ç¼–ç¨‹çš„äººæ¥è¯´ï¼Œä»ç„¶æœ‰å¿…è¦ç†è§£ç¼–ç çš„æ ¸å¿ƒåŸç†ï¼Œæ‰èƒ½æœ‰æ•ˆè¯„åˆ¤ AI ç»™å‡ºçš„ç»“æœã€‚&lt;/p&gt;
&lt;h3 id="å­¦ä¹ æ›²çº¿ä¸-ai"&gt;å­¦ä¹ æ›²çº¿ä¸ AI&lt;/h3&gt;
&lt;p&gt;è¿™æ˜¯æˆ‘çœ‹åˆ°äººä»¬æœ€å…³å¿ƒçš„æ ¸å¿ƒé—®é¢˜ï¼šå¦‚æœä½ é  AI å­¦ç¼–ç¨‹ï¼Œä½ å¯èƒ½æ°¸è¿œä¸ä¼šçœŸæ­£ç†è§£é‚£äº›ä½ éœ€è¦ç”¨æ¥è¯„åˆ¤ä»£ç çš„è§£å†³æ–¹æ¡ˆã€‚ä½ éœ€è¦çŸ¥é“â€œé…æ–¹â€çš„åŸææ–™å’Œå·¥ä½œåŸç†ï¼Œæ‰èƒ½ä¸‹å¨ï¼›å¦åˆ™ä½ åªæ˜¯æŠŠé£Ÿç‰©å¼„åã€‚å¯¹ä»£ç ä¹Ÿæ˜¯å¦‚æ­¤â€”â€”ä½ éœ€è¦ç†è§£è¯­æ³•ã€è¯­ä¹‰ã€æ±‚å€¼å’Œæ‰§è¡Œçš„è¿‡ç¨‹ã€‚&lt;/p&gt;</description></item><item><title>Dealing With Grabage in Python</title><link>https://starslayerx.github.io/posts/dealing-with-grabage-in-python/</link><pubDate>Mon, 08 Sep 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/dealing-with-grabage-in-python/</guid><description>&lt;h2 id="grabage-collection-in-python"&gt;Grabage Collection In Python&lt;/h2&gt;
&lt;p&gt;æœ¬ç¯‡æ–‡ç« ä»‹ç» Python ä¸­çš„ Grabage Collection (GC) æœºåˆ¶ä»‹ç»&lt;/p&gt;
&lt;h3 id="whats-python-object"&gt;What&amp;rsquo;s Python Object?&lt;/h3&gt;
&lt;p&gt;Python å¯¹è±¡ä¸­æœ‰ä¸‰æ ·ä¸œè¥¿: ç±»å‹(Type)ã€å€¼(value)å’Œå¼•ç”¨è®¡æ•°(reference count), å½“ç»™å˜é‡å‘½åæ—¶, Python ä¼šè‡ªåŠ¨æ£€æµ‹å…¶ç±»å‹, å€¼åœ¨å®šä¹‰å¯¹è±¡æ—¶å£°æ˜, å¼•ç”¨è®¡æ•°æ˜¯æŒ‡è¯¥å¯¹è±¡åç§°çš„æ•°é‡.&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæ¥çœ‹ä¸€ä¸ªç±»&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-Python" data-lang="Python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Person&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;unique_id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;spouse&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unique_id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;unique_id&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;spouse&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;spouse&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__del__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# !r: è°ƒç”¨ repr() æ¥è·å–è¯¥å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨è¾¾å¼&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# !s: str()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;# !a: ascii()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;Object &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unique_id&lt;/span&gt;&lt;span class="si"&gt;!r}&lt;/span&gt;&lt;span class="s2"&gt; is about to be removed from memory. Goodbye!&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¯¥ &lt;code&gt;Person&lt;/code&gt; ç±»æœ‰ä»¥ä¸‹3ä¸ªå±æ€§:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;name&lt;/code&gt;: äººå&lt;/li&gt;
&lt;li&gt;&lt;code&gt;unique_id&lt;/code&gt;: å”¯ä¸€æ€§ id&lt;/li&gt;
&lt;li&gt;&lt;code&gt;spouse&lt;/code&gt;: å°†ä¸º &lt;code&gt;None&lt;/code&gt; æˆ–è€…å°†å­˜å‚¨å¦ä¸€ä¸ª &lt;code&gt;Person&lt;/code&gt; å¯¹è±¡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ‰ä¸€ä¸ªç‰¹æ®Šæ–¹æ³• &lt;code&gt;__del__()&lt;/code&gt;, è¿™ä¸ªç‰¹æ®Šæ–¹æ³•æœ‰ä¸€å®šçš„è¯¯å¯¼æ€§. è¯¥æ–¹æ³•å¹¶ä¸åƒ &lt;code&gt;__len__()&lt;/code&gt; ä¸ &lt;code&gt;len()&lt;/code&gt; æˆ–è€… &lt;code&gt;__iter__()&lt;/code&gt; ä¸ &lt;code&gt;iter()&lt;/code&gt; é‚£æ ·ä¸ &lt;code&gt;del&lt;/code&gt; å…³é”®å­—ç›¸å…³è”. &lt;code&gt;__del__()&lt;/code&gt; ç‰¹æ®Šæ–¹æ³•å¹¶ä¸å®šä¹‰å½“å¯¹å¯¹è±¡å¼•ç”¨æ—¶ &lt;code&gt;del&lt;/code&gt; ä¼šå‘é€ä»€ä¹ˆ, ç›¸å, &lt;code&gt;__del__()&lt;/code&gt; æ˜¯ä¸€ä¸ªç»ˆç»“å™¨ finaliser: å®ƒåœ¨å¯¹è±¡è¢«æ¶ˆæ¯ä¹‹å‰ä»å†…å­˜ä¸­ç§»é™¤ä¹‹é—´è¢«è°ƒç”¨.&lt;br&gt;
å› æ­¤, &lt;code&gt;__del__()&lt;/code&gt; ä¸­ &lt;code&gt;print()&lt;/code&gt; è°ƒç”¨çš„å­—ç¬¦ä¸²ä»…åœ¨ Python å³å°†ä»å†…å­˜ä¸­ç§»é™¤å¯¹è±¡æ—¶æ˜¾ç¤º.&lt;/p&gt;</description></item><item><title>How AI Assistants Make Precise Edits to Your Files</title><link>https://starslayerx.github.io/posts/how-ai-assistants-make-precise-edits-to-your-files/</link><pubDate>Tue, 02 Sep 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/how-ai-assistants-make-precise-edits-to-your-files/</guid><description>&lt;p&gt;ä¹‹å‰çš„æ–‡ç« ä»‹ç»äº†å¦‚ä½•åˆ¶ä½œä¸€ä¸ªåŸºæœ¬çš„ AI ç¼–ç¨‹åŠ©æ‰‹, ä»Šå¤©æ›´è¿‘ä¸€æ­¥, æ¢è®¨ AI åŠ©æ‰‹å¦‚ä½•å¯¹æ–‡ä»¶è¿›è¡Œç²¾ç¡®çš„ä¿®æ”¹.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å®é™…çš„ AI Agent ä¸ä¼šè¯»å–æ‰€æœ‰çš„é¡¹ç›®ä»£ç , ä¸€èˆ¬åªä¼šè¯»å–å½“å‰æ–‡ä»¶çš„ä»£ç , å½“éœ€è¦æ—¶æ‰ä¼šå»è¯»å–ç›¸å…³çš„ä»£ç æ–‡ä»¶. ç„¶è€Œ, è¾“å‡ºä¹Ÿä¸ä¼šè¾“å‡ºè¦ä¿®æ”¹çš„æ•´ä¸ªæ–‡ä»¶çš„ä»£ç , å› ä¸ºè¿™æ ·è¾“å‡ºä¸ä»…å¾ˆæ…¢, åŒæ—¶æˆæœ¬ä¹Ÿå¾ˆé«˜, ä¼šæœ‰å¤§é‡é‡å¤ä»£ç å¯¼è‡´æµªè´¹(ä»¥ deepseek ä¸ºä¾‹, è¾“å‡º token çš„ä»·æ ¼æ˜¯è¾“å…¥ token ä»·æ ¼çš„3å€, æ˜¯ç¼“å­˜å‘½ä¸­è¾“å…¥ token ä»·æ ¼çš„24å€!), å› æ­¤ä¸€èˆ¬æ˜¯è®©æ¨¡å‹è¾“å‡ºè¦ä¿®æ”¹çš„ä»£ç å’Œä¿®æ”¹åçš„ä»£ç .&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;æ—¢ç„¶ä¸èƒ½ä¸€æ¬¡è¾“å‡ºæ–‡ä»¶çš„æ‰€æœ‰ä»£ç , è¿™å°±å¼•å‡ºäº†ä¸€ä¸ªé—®é¢˜: å¦‚ä½•ç²¾ç¡®çš„ä¿®æ”¹ä»£ç æ–‡ä»¶? é¦–å…ˆè¦ç¡®å®šä¸€ç§è®©æ¨¡å‹å‡†ç¡®åœ°æè¿°ä¿®æ”¹çš„æ ¼å¼, å¹¶ä¸”æä¾›å¥å£®çš„æ ¼å¼åŒ¹é…ä¸é”™è¯¯é‡è¯•æœºåˆ¶(æ¨¡å‹è¾“å‡ºä»£ç å¯èƒ½å°‘ä¸ªç©ºæ ¼æˆ–è€…Tab), è¿™ç¯‡æ–‡ç« å¯¹è¿™ä¸ªé—®é¢˜åšäº†æ¢è®¨.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å°† AI agent ç”Ÿæˆçš„ä»£ç ç›´æ¥ä¿®æ”¹åˆ°æ–‡ä»¶ä¸­æ˜¯ä¸€é¡¹æ ¸å¿ƒèƒ½åŠ›, ç„¶è€Œå®é™…ä¸Šè¿™å¸¸å¸¸å‡ºä¹æ„æ–™çš„å›°éš¾, agent å¯èƒ½ä¼šæå‡ºä¸€ä¸ªä»£ç ä¿®æ”¹æ–¹æ¡ˆ, ä½†å®é™…ä¿®æ”¹å´å¤±è´¥, ä¾‹å¦‚&amp;quot;æ‰¾ä¸åˆ°åŒ¹é…çš„ä¸Šä¸‹æ–‡&amp;quot;ä¹‹ç±»çš„é”™è¯¯, éœ€è¦æ‰‹åŠ¨å¹²é¢„. è®¸å¤š AI ç¼–ç¨‹åŠ©æ‰‹çš„å¼€å‘è€…éƒ½é‡åˆ°è¿‡è¿™ç§æƒ…å†µ, è™½ç„¶ AI ç†è§£ä»£ç çš„æ„å›¾, ä½†å°†è¿™ç§ç†è§£è½¬åŒ–ä¸ºç²¾ç¡®çš„æ–‡ä»¶ä¿®æ”¹å´å¸¦æ¥äº†é‡å¤§çš„æŠ€æœ¯æŒ‘æˆ˜.&lt;/p&gt;
&lt;h3 id="why-precise-file-editing-matters-ä¸ºä»€ä¹ˆç²¾ç¡®çš„æ–‡ä»¶ç¼–è¾‘è‡³å…³é‡è¦"&gt;Why Precise File Editing Matters ä¸ºä»€ä¹ˆç²¾ç¡®çš„æ–‡ä»¶ç¼–è¾‘è‡³å…³é‡è¦&lt;/h3&gt;
&lt;p&gt;æœ‰æ•ˆçš„æ–‡ä»¶ç¼–è¾‘æ˜¯ç¼–ç¨‹åŠ©æ‰‹çš„ä»·å€¼æ ¸å¿ƒ, å¦‚æœå…¶ä¸èƒ½å¯é çš„ä¿®æ”¹æ–‡ä»¶, éœ€è¦äººä¸ºæ‰‹åŠ¨ä¿®æ”¹, å°±é€€åŒ–æˆäº† AI èŠå¤©å¼•æ“, ç›¸æ¯”ä¹‹ä¸‹, ä¸€ä¸ªèƒ½å¤Ÿå¯é è‡ªåŠ¨åŒ–ç¼–è¾‘çš„åŠ©æ‰‹å¯ä»¥ä¸ºå¼€å‘è€…èŠ‚çœå¤§é‡æ—¶é—´å’Œè®¤çŸ¥è´Ÿæ‹….&lt;br&gt;
æ ¹æœ¬çš„æŒ‘æˆ˜åœ¨äº, LLM ç¼ºä¹ç›´æ¥çš„æ–‡ä»¶ç³»ç»Ÿè®¿é—®æƒé™, ä»–ä»¬å¿…é¡»é€šè¿‡ä¸“é—¨çš„å·¥å…·æ¥æè¿°é¢„æœŸçš„ä¿®æ”¹, ç„¶åè¿™äº›å·¥å…·æˆ– API è§£é‡ŠæŒ‡ä»¤å¹¶å°è¯•æ‰§è¡Œ, LLM çš„æè¿°ä¸æ–‡ä»¶ç³»ç»ŸçŠ¶æ€ä¹‹é—´çš„è¿™ç§äº¤æ¥æ˜¯å¸¸è§çš„é—®é¢˜æ¥æº.&lt;br&gt;
ä½¿ç”¨ GitHub Coplitã€Aiderã€RooCode æˆ– Cursor ç­‰å·¥å…·çš„ç”¨æˆ·å¯èƒ½å·²ç»è§‚å¯Ÿåˆ°è¿™äº›é—®é¢˜: ç¼–è¾‘å™¨æ— æ³•æ‰¾åˆ°æ­£ç¡®çš„æ’å…¥ç‚¹ã€ç¼©è¿›ä¸æ­£ç¡®, æˆ–è€…å·¥å…·æœ€ç»ˆè¯·æ±‚æ‰‹åŠ¨åº”ç”¨.&lt;/p&gt;</description></item><item><title>Make an AI Coding Agent in python</title><link>https://starslayerx.github.io/posts/make-an-ai-coding-agent-in-python/</link><pubDate>Mon, 01 Sep 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/make-an-ai-coding-agent-in-python/</guid><description>&lt;p&gt;è¿™ç¯‡æ–‡ä»¶ä»‹ç»å¦‚ä½•ä½¿ç”¨ Python åˆ¶ä½œä¸€ä¸ªåŸºç¡€çš„ AI ç¼–ç¨‹åŠ©æ‰‹&lt;/p&gt;
&lt;h2 id="minimal-ai-coding-agent"&gt;Minimal AI Coding Agent&lt;/h2&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä¸€ä¸ª AI Coding Agent è‡³å°‘éœ€è¦çš„åŠŸèƒ½&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Chat loop å¯¹è¯å¾ªç¯&lt;/li&gt;
&lt;li&gt;Call an LLM è°ƒç”¨å¤§è¯­è¨€æ¨¡å‹&lt;/li&gt;
&lt;li&gt;Add tools to call å¢åŠ å·¥å…·è°ƒç”¨&lt;/li&gt;
&lt;li&gt;Handle tool request å¤„ç†å·¥å…·è°ƒç”¨è¯·æ±‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="step-1-chat-loop"&gt;Step 1: Chat Loop&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆ, èŠå¤©å¾ªç¯ä¸€ç›´å¾ªç¯ç­‰å¾…ç”¨æˆ·è¾“å…¥, Python çš„ &amp;ldquo;input&amp;rdquo; æ–¹æ³•å¯ä»¥è·å–ç”¨æˆ·è¾“å…¥&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-Python" data-lang="Python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;Type q to quit&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;user_message&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;input&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;You: &amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;user_message&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;q&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;break&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;ai_message&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;You said &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;user_message&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;... so insightful&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ai_message&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç›®å‰ä¸»æµçš„ LLM éƒ½æ˜¯æ— çŠ¶æ€çš„, æ‰€ä»¥éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨çš„å»ç®¡ç†å¯¹è¯ä¸Šä¸‹æ–‡, è¿™é‡Œä½¿ç”¨ä¸€ä¸ª &lt;code&gt;fake_ai&lt;/code&gt; å‡½æ•°æ¨¡æ‹ŸçœŸå®çš„ LLM è°ƒç”¨, å¹¶åŒ…å« &lt;code&gt;role&lt;/code&gt; å’Œ &lt;code&gt;content&lt;/code&gt; å†…å®¹&lt;/p&gt;</description></item><item><title>Asyncio vs Gevents in Python</title><link>https://starslayerx.github.io/posts/asyncio-vs-gevents-in-python/</link><pubDate>Fri, 29 Aug 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/asyncio-vs-gevents-in-python/</guid><description>&lt;p&gt;python ä¸­ asyncio å’Œ gevent æ˜¯ä¸¤ç§åç¨‹(åœ¨ä¸€ä¸ªçº¿ç¨‹å†…å®ç°å¹¶å‘)çš„å®ç°, è¿™ç¯‡æ–‡ç« å¯¹æ¯”ä»‹ç»è¿™ä¸¤è€…å®ç°.&lt;br&gt;
ä¸‹é¢å…ˆä»‹ç»ä¸€ä¸‹åŸºç¡€æ¦‚å¿µ:&lt;/p&gt;
&lt;h3 id="coroutines-åç¨‹"&gt;Coroutines åç¨‹&lt;/h3&gt;
&lt;p&gt;åœ¨ Python ä¸­, åç¨‹æ˜¯å¯ä»¥æš‚åœå’Œç»§ç»­è¿è¡Œçš„å‡½æ•°, ä½¿å¾—å…¶æ˜¯å¦é€‚åˆå¹¶å‘ç¼–ç¨‹. å®šä¹‰ä½¿ç”¨ &lt;code&gt;async def&lt;/code&gt; è¯­æ³•, åç¨‹è¿è¡Œç¼–å†™éé˜»å¡çš„æ“ä½œ. åœ¨åç¨‹å†…, &lt;code&gt;await&lt;/code&gt; å…³é”®å­—ç”¨äºæš‚åœæ‰§è¡Œ, ç›´åˆ°ç»™å®šçš„ä»»åŠ¡å®Œæˆ, ä»è€Œè¿è¡Œå…¶ä»–åç¨‹åœ¨æ­¤å…¶é—´å¹¶å‘è¿è¡Œ.&lt;/p&gt;
&lt;h3 id="event-loop-äº‹ä»¶å¾ªç¯"&gt;Event Loop äº‹ä»¶å¾ªç¯&lt;/h3&gt;
&lt;p&gt;äº‹ä»¶å¾ªç¯æ˜¯ä¸€ç§æ§åˆ¶ç»“æ„, å®ƒä¸æ–­åœ°å¤„ç†ä¸€ç³»åˆ—äº‹ä»¶, å¤„ç†ä»»åŠ¡å¹¶ç®¡ç†ç¨‹åºçš„æ‰§è¡Œæµç¨‹. ç­‰å¾…äº‹ä»¶å‘ç”Ÿ, å¤„ç†åå†ç­‰å¾…ä¸‹ä¸€ä¸ªäº‹ä»¶. è¿™ç§æœºåˆ¶ç¡®ä¿ç¨‹åºèƒ½å¤Ÿä»¥é«˜æ•ˆæœ‰åºçš„æ–¹å¼å“åº”äº‹ä»¶, ä¾‹å¦‚ç”¨æˆ·è¾“å…¥ã€è®¡æ—¶å™¨æˆ–è€…æ¶ˆæ¯.&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯äº‹ä»¶å¾ªç¯å¦‚ä½•ç®¡ç†åç¨‹:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä»»åŠ¡æäº¤: å½“å‘äº‹ä»¶å¾ªç¯æäº¤ä¸€ä¸ªåç¨‹æ—¶, å…¶è¢«å°è£…åœ¨ä¸€ä¸ª &lt;code&gt;Task&lt;/code&gt; å¯¹è±¡ä¸­, ç„¶åä»»åŠ¡è¢«å®‰æ’åœ¨äº‹ä»¶å¾ªç¯ä¸Šè¿è¡Œ.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å†…éƒ¨é˜Ÿåˆ—: äº‹ä»¶å¾ªç¯ä½¿ç”¨å‡ ä¸ªå†…éƒ¨æ•°æ®ç»“æ„æ¥ç®¡ç†å’Œè°ƒåº¦è¿™äº›ä»»åŠ¡&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å°±ç»ªé˜Ÿåˆ— (Ready Queue): åŒ…å«å¯ä»¥ç«‹å³è¿è¡Œçš„ä»»åŠ¡.&lt;/li&gt;
&lt;li&gt;I/O é€‰æ‹©å™¨ (I/O Selector): ç›‘æ§æ–‡ä»¶æè¿°ç¬¦, å¹¶æ ¹æ® I/O å‡†å¤‡æƒ…å†µè°ƒåº¦ä»»åŠ¡&lt;/li&gt;
&lt;li&gt;è®¡åˆ’å›è°ƒ (Scheduled Callbacks): ç®¡ç†è®¡åˆ’åœ¨ä¸€å®šå»¶è¿Ÿåè¿è¡Œçš„ä»»åŠ¡.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è°ƒåº¦: äº‹ä»¶å¾ªç¯ä¸æ–­æ£€æŸ¥è¿™äº›é˜Ÿåˆ—å’Œæ•°æ®ç»“æ„, ä»¥ç¡®å®šå“ªäº›ä»»åŠ¡å·²å‡†å¤‡å¥½æ‰§è¡Œ. ç„¶åå®ƒè¿è¡Œè¿™äº›ä»»åŠ¡, åœ¨é‡åˆ° await è¯­å¥æ—¶, æ ¹æ®éœ€è¦æš‚åœå’Œæ¢å¤å®ƒä»¬.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¹¶å‘ç®¡ç†: é€šè¿‡äº¤é”™æ‰§è¡Œå¤šä¸ªåç¨‹, äº‹ä»¶å¾ªç¯æ— éœ€å¤šä¸ªçº¿ç¨‹å³å¯å®ç°å¹¶å‘. åœ¨ä»»ä½•æ—¶å€™, åªæœ‰ä¸€ä¸ªä»»åŠ¡ä¼šè¿è¡Œ, ä½†å¦‚æœä¸€ä¸ªä»»åŠ¡æ˜¯ I/O å¯†é›†å‹çš„, å®ƒä¼šåˆ‡æ¢åˆ°å¦ä¸€ä¸ªä»»åŠ¡, ç»™äººä¸€ç§å¹¶è¡Œçš„é”™è§‰.&lt;/p&gt;</description></item><item><title>Prompt Organization</title><link>https://starslayerx.github.io/posts/prompt-organization/</link><pubDate>Thu, 28 Aug 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/prompt-organization/</guid><description>&lt;p&gt;è¿™ç¯‡æ–‡ç« æ—¨åœ¨ä»‹ç» Python ä¸­å¸¸ç”¨çš„æç¤ºè¯ç»„ç»‡æ–¹å¼&lt;/p&gt;
&lt;h3 id="f-string"&gt;f-string&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨ f å­—ç¬¦ä¸²å¡«å……å˜é‡å¾—åˆ°æç¤ºè¯&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-Python" data-lang="Python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_prompt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;query&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;SYSTEM_PROMPT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&amp;#34;&amp;#34;...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt;å¤šè¡Œæç¤ºè¯, ä¹Ÿå¯ä»¥å¡«å……å˜é‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt;&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;USER_PROMPT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&amp;#34;&amp;#34;INPUT:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;query&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt;....
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt;&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;role&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;system&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;content&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;SYSTEM_PROMPT&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;role&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;user&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;content&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;USER_PROMPT&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ç§æ–¹æ³•å®ç°ç®€å•, é€Ÿåº¦å¿«, ä½†æ˜¯:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¤šè¡Œå­—ç¬¦ä¸²ç”±äºå¡«å……å˜é‡çš„éœ€è¦, éœ€å†™åœ¨å‡½æ•°å†…, å¯¼è‡´ä»£ç æ ¼å¼æ··ä¹±
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-Python" data-lang="Python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# å®é™…ä¸Š, å¤šè¡Œå­—ç¬¦ä¸²è¿˜å¯ä»¥è¿™æ ·å®ç°, ä½†ä¹Ÿä¸å¤ªæ—¶å€™æç¤ºè¯å¤ªå¤šçš„æ—¶å€™, ä½†è¿™æ ·ä»£ç æ ¼å¼ä¼šæ›´åŠ ä¼˜é›…&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;system_prompt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;ä½ æ˜¯ä¸€å&lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;role&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;è´Ÿè´£...&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;å…·ä½“è§„åˆ™:&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;1. ....&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;2. ....&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;ä¸Šé¢è¿™ç§æ–¹æ³•ä¼šå°†å¤šè¡Œå­—ç¬¦ä¸²åˆå¹¶, æ³¨æ„ä¸è¦åŠ é€—å·, ä¸ç„¶å°±å˜æˆå…ƒç»„äº†&lt;/li&gt;
&lt;li&gt;é€šè¿‡ä»£ç æ„é€ æç¤ºè¯, ä»»ä½•ä¿®æ”¹éƒ½éœ€è¦ä¿®æ”¹ä»£ç , æ‰©å±•æ€§å·®&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="stringtemplate"&gt;string.Template&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨ Python å…ƒç´ å­—ç¬¦ä¸²æ¨¡æ¿&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-Python" data-lang="Python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;SYSTEM_PROMPT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Template&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&amp;#34;&amp;#34;ä½ æ˜¯ä¸€å$role
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt;å¤šè¡Œæç¤ºè¯...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt;&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;USER_PROMPT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Template&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&amp;#34;&amp;#34;INPUT:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt;$query
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="s2"&gt;&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_prompt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;role&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;query&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;system_prompt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;SYSTEM_PROMPT&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subtitute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;role&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;åŠ©æ‰‹&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;user_prompt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;USER_PROMPT&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subtitute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;query&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;é—®é¢˜...&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;role&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;system&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;content&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;system_prompt&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;role&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;user&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;content&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;user_prompt&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½¿ç”¨æ¨¡æ¿å­—ç¬¦ä¸², æ¨¡æ¿åˆ™ä¸å¿…å†™åœ¨å‡½æ•°å†…, ä¸”æ¨¡æ¿å­—ç¬¦ä¸²å¯ä»¥é€‰æ‹©æ›¿æ¢éƒ¨åˆ†å˜é‡, ä½¿ç”¨ &lt;code&gt;.safe_substitute()&lt;/code&gt;æ–¹æ³•ä¼ å…¥ä¸€ä¸ªå­—å…¸, ä¾‹å¦‚ &lt;code&gt;{&amp;quot;query&amp;quot;: &amp;quot;é—®é¢˜...&amp;quot;}&lt;/code&gt;, å¯¹æ²¡æœ‰ä¼ å…¥çš„å˜é‡è§£æä¸º &lt;code&gt;$var&lt;/code&gt;&lt;br&gt;
å¯¹æ¯” f-string, æ¨¡æ¿å­—ç¬¦ä¸²æ›´åŠ çµæ´», ä¸”å¯ä»¥åªä¼ å…¥éƒ¨åˆ†å€¼&lt;/p&gt;</description></item><item><title>From Python to Go</title><link>https://starslayerx.github.io/posts/from-python-to-go/</link><pubDate>Wed, 27 Aug 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/from-python-to-go/</guid><description>&lt;p&gt;&lt;a href="https://telemetryharbor.com/blog/from-python-to-go-why-we-rewrote-our-ingest-pipeline-at-telemetry-harbor/"&gt;From Python to Go: Why We Rewrote Our Ingest Pipeline at Telemetry Harbor&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å°† Telemetry Harbor çš„æ‘„å–ç®¡é“ä» Python FastAPI é‡å†™ä¸º Goï¼ŒåŸå› æ˜¯é‡åˆ°äº†ä¸¥é‡çš„æ€§èƒ½ç“¶é¢ˆã€‚è¿ç§»åï¼Œæ•ˆç‡æå‡äº† 10 å€ï¼Œæ•°æ®å®Œæ•´æ€§å› ä¸¥æ ¼ç±»å‹æ£€æŸ¥è€Œå¾—åˆ°åŠ å¼ºï¼Œç³»ç»Ÿä¹Ÿæ‹¥æœ‰äº†ç¨³å®šã€å¯æ‰©å±•çš„é«˜å¹¶å‘æ—¶é—´åºåˆ—æ•°æ®æ‘„å–åŸºç¡€ã€‚&lt;/p&gt;
&lt;h4 id="èƒŒæ™¯æ‰“é€ ä¸€ä¸ªæ—¶é—´åºåˆ—æ•°æ®å¹³å°"&gt;èƒŒæ™¯ï¼šæ‰“é€ ä¸€ä¸ªæ—¶é—´åºåˆ—æ•°æ®å¹³å°&lt;/h4&gt;
&lt;p&gt;Telemetry Harbor æºè‡ªæˆ‘ä»¬åœ¨æ±½è½¦è¡Œä¸šç§¯ç´¯çš„ç»éªŒã€‚å‡ ä¹æ¯ä¸ªé¡¹ç›®éƒ½è¦é‡å¤æ­å»ºç›¸åŒçš„åŸºç¡€è®¾æ–½ï¼šæ•°æ®åº“ã€åç«¯ã€æ•°æ®æ‘„å–ç®¡é“ã€å¯è§†åŒ–ç•Œé¢ã€‚æ¯æ¬¡éƒ½è¦èŠ±è´¹æ•°å‘¨æ—¶é—´ï¼Œè¿™è®©æˆ‘ä»¬èŒç”Ÿäº†æ‰“é€ ä¸€ä¸ªå¼€ç®±å³ç”¨å¹³å°çš„æƒ³æ³•ã€‚&lt;/p&gt;
&lt;p&gt;å½“æ—¶çš„å¸‚åœºæ–¹æ¡ˆå¹¶ä¸ç†æƒ³ã€‚InfluxDB çš„å•†ä¸šåŒ–ç­–ç•¥è®©è®¸å¤šå…³é”®ç‰¹æ€§è¢«é”åœ¨ä»˜è´¹å¢™åï¼Œç‰ˆæœ¬è¿ç§»æˆæœ¬é«˜ä¸”åœ¨å¤§æ•°æ®è´Ÿè½½ä¸‹è¡¨ç°ä¸ä½³ã€‚TimescaleDB ä¸ ClickHouse æŠ€æœ¯ä¸Šæ›´å¼ºå¤§ï¼Œä½†ä¾æ—§éœ€è¦ç”¨æˆ·è‡ªè¡Œæ„å»ºåç«¯ä¸æ‘„å–ç®¡é“ã€‚æˆ‘ä»¬çœ‹åˆ°äº†ç¼ºå£â€”â€”éœ€è¦ä¸€ä¸ªæç®€ã€å¯é ã€å¯ç›´æ¥ä½¿ç”¨çš„å¹³å°ã€‚&lt;/p&gt;
&lt;h4 id="python-fastapiåŸå‹å¼€å‘çš„æ­£ç¡®é€‰æ‹©"&gt;Python FastAPIï¼šåŸå‹å¼€å‘çš„æ­£ç¡®é€‰æ‹©&lt;/h4&gt;
&lt;p&gt;MVP é˜¶æ®µï¼Œæˆ‘ä»¬åœ¨å¼€å‘é€Ÿåº¦ä¸è¿è¡Œæ€§èƒ½ä¹‹é—´æƒè¡¡ã€‚æœ€ç»ˆé€‰æ‹©äº† Python FastAPIï¼Œå› ä¸ºå®ƒå…è®¸æˆ‘ä»¬ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¿«é€ŸéªŒè¯å¸‚åœºå‡è®¾&lt;/li&gt;
&lt;li&gt;è¿…é€Ÿæ”¶é›†å®¢æˆ·åé¦ˆå¹¶è¿­ä»£&lt;/li&gt;
&lt;li&gt;åœ¨ä½æˆæœ¬ä¸‹å°è¯•å¤šç§æ–¹æ¡ˆ&lt;/li&gt;
&lt;li&gt;å°½å¿«ä¸Šçº¿ä»¥æŠ¢å å¸‚åœº&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ—©æœŸæ¶æ„éå¸¸ç›´æ¥ï¼šHTTP APIï¼ˆé¿å…é˜²ç«å¢™é—®é¢˜ï¼‰ã€Redis + RQ é˜Ÿåˆ—ã€TimescaleDBã€‚æµ‹è¯•æ•ˆæœè‰¯å¥½ï¼Œä½†å¾ˆå¿«æš´éœ²äº†æ€§èƒ½éšæ‚£â€”â€”RQ çš„åŒæ­¥å¤„ç†æ–¹å¼æ— æ³•æ”¯æ’‘é«˜åååœºæ™¯ã€‚&lt;/p&gt;
&lt;h4 id="æ€§èƒ½ç“¶é¢ˆpython-æ— æ³•è·Ÿä¸Šå¢é•¿"&gt;æ€§èƒ½ç“¶é¢ˆï¼šPython æ— æ³•è·Ÿä¸Šå¢é•¿&lt;/h4&gt;
&lt;p&gt;éšç€æ•°æ®é‡ä¸Šå‡ï¼Œæ€§èƒ½é—®é¢˜é€æ¸æµ®ç°ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç©ºé—² CPU å ç”¨ï¼š10%&lt;/li&gt;
&lt;li&gt;ä¸­ç­‰è´Ÿè½½ï¼šçº¦ 40% CPU&lt;/li&gt;
&lt;li&gt;é«˜è´Ÿè½½ï¼š120â€“300% CPUï¼ˆå³°å€¼ 800%ï¼‰ï¼Œé¢‘ç¹å´©æºƒ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é—®é¢˜ä¸ä»…åœ¨äº RQ çš„åŒæ­¥é™åˆ¶ï¼Œè€Œæ˜¯æ•´ä¸ª Python æ¶æ„åœ¨å¸¸è§„è´Ÿè½½ä¸‹éƒ½éš¾ä»¥ç»´æŒç¨³å®šã€‚è¿™è¿«ä½¿æˆ‘ä»¬è€ƒè™‘å…¨é¢é‡å†™ã€‚&lt;/p&gt;
&lt;h4 id="è¿ç§»å†³ç­–ä¸ºä»€ä¹ˆé€‰æ‹©-go"&gt;è¿ç§»å†³ç­–ï¼šä¸ºä»€ä¹ˆé€‰æ‹© Goï¼Ÿ&lt;/h4&gt;
&lt;p&gt;æˆ‘ä»¬è¯„ä¼°äº† Rust å’Œ Goï¼š&lt;/p&gt;</description></item><item><title>Documenting REST APIs with OpenAPI</title><link>https://starslayerx.github.io/posts/documenting-rest-apis-with-openapi/</link><pubDate>Mon, 25 Aug 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/documenting-rest-apis-with-openapi/</guid><description>&lt;p&gt;æœ¬ç« ä»‹ç»å¦‚ä½•ä½¿ç”¨ OpenAPI æ¥ä¸º API ç¼–å†™æ–‡æ¡£. OpenAPI æ˜¯æè¿° RESTful API æœ€æµè¡Œçš„æ ‡å‡†, æ‹¥æœ‰ä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿ, å¯ä»¥ç”¨äºæµ‹è¯•ã€éªŒè¯å’Œå¯è§†åŒ– API. å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€éƒ½æ”¯æŒ OpenAPI è§„èŒƒçš„åº“.&lt;/p&gt;
&lt;p&gt;OpenAPI ä½¿ç”¨ JSON Schema æ¥æè¿° API çš„ç»“æ„å’Œæ¨¡å‹, å› æ­¤é¦–å…ˆä»‹ç» JSON Schema çš„å·¥ä½œåŸç†. JSON Schema æ˜¯ä¸€ç§ç”¨äºå®šä¹‰ JSON æ–‡æ¡£ç»“æ„çš„è§„èŒƒ, åŒ…æ‹¬æ–‡æ¡£ä¸­å€¼çš„ç±»å‹å’Œæ ¼å¼.&lt;/p&gt;
&lt;h3 id="using-json-schema-to-model-data"&gt;Using JSON Schema to model data&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ä½¿ç”¨ JSON Schema å¯¹æ•°æ®å»ºæ¨¡&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;JSON Schema æ˜¯ä¸€ç§è§„èŒƒæ ‡å‡†, ç”¨äºå®šä¹‰ JSON æ–‡æ¡£çš„ç»“æ„åŠå…¶å±æ€§çš„ç±»å‹å’Œæ ¼å¼. JSON Schema è§„èŒƒé€šå¸¸å®šä¹‰ä¸€ä¸ªå…·æœ‰ç‰¹å®šå±æ€§æˆ–ç‰¹æ€§çš„å¯¹è±¡, ç”±é”®å€¼å¯¹çš„å…³è”æ•°ç»„è¡¨ç¤º, å¦‚ä¸‹é¢è¿™æ ·:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-JSON" data-lang="JSON"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;status&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;string&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol&gt;
&lt;li&gt;åœ¨ JSON Schema è§„èŒƒä¸­, æ¯ä¸ªå±æ€§éƒ½ä»¥é”®å€¼å¯¹çš„å½¢å¼å‡ºç°, å…¶ä¸­å€¼æ˜¯è¯¥å±æ€§çš„æè¿°ç¬¦&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªå±æ€§æœ€åŸºæœ¬çš„æè¿°ç¬¦å°±æ˜¯ &lt;code&gt;type&lt;/code&gt;, ä¸Šé¢ä¾‹å­ä¸­, æŒ‡å®šç±»å‹ä¸ºå­—ç¬¦ä¸²&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;JSON Schema æ”¯æŒä»¥ä¸‹åŸºæœ¬æ•°æ®ç±»å‹:&lt;/p&gt;</description></item><item><title>Rust Alternaitve Tools</title><link>https://starslayerx.github.io/posts/rust-alternaitve-tools/</link><pubDate>Sat, 23 Aug 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/rust-alternaitve-tools/</guid><description>&lt;p&gt;å¸¸ç”¨å·¥å…·çš„ rust æ›¿ä»£å“.&lt;/p&gt;
&lt;h3 id="introduction"&gt;Introduction&lt;/h3&gt;
&lt;p&gt;åœ¨ Unix ç”Ÿæ€ä¸­, è®¸å¤šå‘½ä»¤è¡Œå·¥å…·éƒ½æ˜¯ç”¨ C ç¼–å†™çš„, ç»è¿‡å‡ åå¹´çš„ä¼˜åŒ–, æ€§èƒ½å’Œç¨³å®šæ€§éƒ½éå¸¸ä¼˜ç§€.
ç„¶è€Œ, è¿‘å¹´æ¥, Rust ä»¥å…¶å®‰å…¨æ€§ã€å†…å­˜ç®¡ç†ä¼˜åŠ¿å’Œç°ä»£åŒ–å¼€å‘ä½“éªŒ, æˆä¸ºç³»ç»Ÿçº§å·¥å…·å¼€å‘çš„ç†æƒ³é€‰æ‹©.&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæ›´æ–° cargo, ä¸åŒç³»ç»Ÿéƒ½å¯ä»¥ä½¿ç”¨ cargo å®‰è£…, å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ç³»ç»Ÿçš„åŒ…ç®¡ç†å™¨å®‰è£…&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;rustup update stable
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æœ‰éœ€è¦çš„è¯ä¿®æ”¹æº, ä¸€èˆ¬åœ¨ &lt;code&gt;~/.cargo/config.toml&lt;/code&gt;, ä¸‹é¢æ˜¯ç§‘å¤§æº&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-toml" data-lang="toml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;source&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;crates-io&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;replace-with&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;ustc&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;source&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;ustc&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;registry&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;sparse+https://mirrors.ustc.edu.cn/crates.io-index/&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;registries&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;ustc&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nx"&gt;index&lt;/span&gt; &lt;span class="p"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;sparse+https://mirrors.ustc.edu.cn/crates.io-index/&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="filesystem--archiving-æ–‡ä»¶ç³»ç»Ÿä¸å½’æ¡£"&gt;Filesystem &amp;amp; Archiving æ–‡ä»¶ç³»ç»Ÿä¸å½’æ¡£&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/ogham/exa"&gt;exa&lt;/a&gt; æ›¿ä»£ &lt;code&gt;ls&lt;/code&gt;: å½©è‰²æ”¯æŒ Git çŠ¶æ€çš„ ls æ›¿ä»£å“&lt;br&gt;
å¸¸ç”¨å‚æ•°:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;-1&lt;/code&gt;: ä¸€è¡Œæ˜¾ç¤ºä¸€ä¸ªæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-l&lt;/code&gt;: æ˜¾ç¤ºæ–‡ä»¶ç»†èŠ‚ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-F&lt;/code&gt;: åœ¨ç›®å½•æ–‡ä»¶åæœ«æ·»åŠ æ–œæ ç¬¦å·&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-T&lt;/code&gt;: æ ‘çŠ¶æ˜¾ç¤º&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-R&lt;/code&gt;: é€’å½’æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--icons&lt;/code&gt;: æ˜¾ç¤ºå›¾æ ‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ajeetdsouza/zoxide"&gt;zoxide&lt;/a&gt; æ›¿ä»£ &lt;code&gt;cd&lt;/code&gt;: åŸºäºè®¿é—®é¢‘ç‡çš„å¿«é€Ÿç›®å½•è·³è½¬å·¥å…·&lt;br&gt;
å¸¸ç”¨å‚æ•°:
&lt;ul&gt;
&lt;li&gt;z foo # åŒ¹é… foo çš„è·¯å¾„&lt;/li&gt;
&lt;li&gt;z foo bar # åŒ¹é… foo &amp;amp; bar çš„è·¯å¾„&lt;/li&gt;
&lt;li&gt;z - # å›åˆ°ä¹‹å‰ç›®å½•&lt;/li&gt;
&lt;li&gt;zi foo # fzf&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="file--text-processing-æ–‡ä»¶ä¸æ–‡æœ¬å¤„ç†"&gt;File &amp;amp; Text Processing æ–‡ä»¶ä¸æ–‡æœ¬å¤„ç†&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/sharkdp/bat?tab=readme-ov-file"&gt;bat&lt;/a&gt; æ›¿ä»£ &lt;code&gt;cat&lt;/code&gt;: å…·å¤‡è¯­æ³•é«˜äº®ã€è¡Œå·æ˜¾ç¤ºã€Git é›†æˆç­‰åŠŸèƒ½, è®©æŸ¥çœ‹æ–‡ä»¶å†…å®¹æ›´åŠ ç¾è§‚&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/BurntSushi/ripgrep"&gt;ripgrep&lt;/a&gt; æ›¿ä»£ &lt;code&gt;grep&lt;/code&gt;: ä½¿ç”¨ Rust ç¼–å†™çš„æé€Ÿæ–‡æœ¬æœç´¢å·¥å…·, æ”¯æŒé€’å½’æœç´¢ã€æ­£åˆ™è¡¨è¾¾å¼ã€å¿½ç•¥è§„åˆ™(.gitignore)ç­‰&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sharkdp/fd"&gt;fd&lt;/a&gt; æ›¿ä»£ &lt;code&gt;find&lt;/code&gt;: æä¾›ç®€å•ç›´è§‚çš„è¯­æ³•ã€æ›´å¿«çš„æœç´¢æ€§èƒ½, å¹¶é»˜è®¤æ”¯æŒå½©è‰²è¾“å‡ºå’Œå¿½ç•¥ .gitignore æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="system-monitoring--management-ç³»ç»Ÿç›‘æ§ä¸ç®¡ç†"&gt;System Monitoring &amp;amp; Management ç³»ç»Ÿç›‘æ§ä¸ç®¡ç†&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/ClementTsang/bottom"&gt;bottom&lt;/a&gt; æ›¿ä»£ &lt;code&gt;top&lt;/code&gt; / &lt;code&gt;htop&lt;/code&gt;: ä¸€ä¸ªç°ä»£åŒ–çš„ç³»ç»Ÿèµ„æºç›‘æ§å·¥å…·, æ”¯æŒ CPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘ç»œç­‰å¤šç§æŒ‡æ ‡æ˜¾ç¤º, å¹¶æä¾›äº¤äº’å¼ç•Œé¢&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/dalance/procs"&gt;procs&lt;/a&gt; æ›¿ä»£ &lt;code&gt;ps&lt;/code&gt;: æ›´äººæ€§åŒ–çš„è¿›ç¨‹ä¿¡æ¯æ˜¾ç¤º, æ”¯æŒå½©è‰²è¾“å‡ºã€æ ‘çŠ¶æ˜¾ç¤ºã€æœç´¢ä¸è¿‡æ»¤&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="wrapping-up"&gt;Wrapping up&lt;/h2&gt;
&lt;p&gt;Rust çš„å®‰å…¨æ€§å’Œé«˜æ€§èƒ½ä½¿å…¶æˆä¸ºç¼–å†™ç°ä»£ Linux å·¥å…·çš„ç†æƒ³é€‰æ‹©.
è¿™äº›æ›¿ä»£å“ä¸ä»…æä¾›äº†æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ, è¿˜åˆ©ç”¨ Rust çš„å¹¶å‘ä¼˜åŠ¿å’Œé›¶æˆæœ¬æŠ½è±¡æå‡äº†æ€§èƒ½.
å…¶ä»–ä¸€äº› rust å·¥å…·:&lt;/p&gt;</description></item><item><title>Tokei</title><link>https://starslayerx.github.io/posts/tokei/</link><pubDate>Fri, 22 Aug 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/tokei/</guid><description>&lt;h3 id="tokei-ä»‹ç»"&gt;Tokei ä»‹ç»&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://github.com/XAMPPRocky/tokei"&gt;Tokei&lt;/a&gt;æ˜¯ä¸€æ¬¾ Rust ç¼–å†™çš„å¼€æºå·¥å…·, ç”¨äºç»Ÿè®¡é¡¹ç›®ä»£ç è¡Œæ•°, æ”¯æŒä¸Šç™¾ç§è¯­è¨€, èƒ½å¤Ÿæ‰«ææ•´ä¸ªä»£ç åº“, åŒ…æ‹¬:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¯­è¨€&lt;/li&gt;
&lt;li&gt;æ–‡ä»¶æ•°é‡&lt;/li&gt;
&lt;li&gt;ä»£ç è¡Œæ•°&lt;/li&gt;
&lt;li&gt;æ³¨é‡Šè¡Œæ•°&lt;/li&gt;
&lt;li&gt;ç©ºè¡Œæ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¾—ç›Šäº Rust çš„é«˜æ€§èƒ½å®ç°, Tokei å³ä½¿åœ¨è¶…å¤§è§„æ¨¡ä»£ç åº“ä¸­ä¹Ÿèƒ½ä¿æŒæå¿«çš„ç»Ÿè®¡é€Ÿåº¦&lt;br&gt;
(Rust è½®å­çœŸä¸é”™)&lt;/p&gt;
&lt;h3 id="å®‰è£…"&gt;å®‰è£…&lt;/h3&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;brew install tokei
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æˆ–è€…&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;cargo install tokei
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id="ä½¿ç”¨"&gt;ä½¿ç”¨&lt;/h3&gt;
&lt;p&gt;åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;tokei .
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¾“å‡ºç±»ä¼¼ä¸‹é¢è¿™æ ·&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;===============================================================================
Language Files Lines Code Comments Blanks
===============================================================================
Dockerfile 1 25 9 8 8
Python 52 2914 2372 96 446
TOML 1 65 58 0 7
YAML 2 49 45 0 4
-------------------------------------------------------------------------------
Markdown 1 194 0 158 36
|- BASH 1 13 13 0 0
(Total) 207 13 158 36
===============================================================================
Total 57 3247 2484 262 501
===============================================================================
&lt;/code&gt;&lt;/pre&gt;</description></item><item><title>IEEE-754 Introduce</title><link>https://starslayerx.github.io/posts/ieee-754-introduce/</link><pubDate>Mon, 18 Aug 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/ieee-754-introduce/</guid><description>&lt;p&gt;IEEE 754 æ ‡å‡†æ•°å€¼ç±»å‹åŠåˆ†ç±»&lt;/p&gt;
&lt;h2 id="æ•´æ•°-integer"&gt;æ•´æ•° Integer&lt;/h2&gt;
&lt;p&gt;æ•´æ•°æ˜¯æ²¡æœ‰å°æ•°éƒ¨åˆ†çš„å€¼, åœ¨è®¡ç®—æœºå†…é€šå¸¸æœ‰ä¸¤ç§è¡¨ç¤ºæ–¹å¼:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœ‰ç¬¦å·æ•´æ•°: å¯ä»¥è¡¨ç¤ºæ­£æ•°å’Œè´Ÿæ•°, æœ€å¸¸ç”¨çš„æ˜¯äºŒè¡¥ç è¡¨ç¤º. ä¾‹å¦‚ 8 ä½äºŒè¿›åˆ¶çš„èŒƒå›´ä¸º[-2^7, 2^7-1]&lt;/li&gt;
&lt;li&gt;æ— ç¬¦å·æ•´æ•°: ä»…è¡¨ç¤ºéè´Ÿæ•°, 8 ä½äºŒè¿›åˆ¶çš„èŒƒå›´ä¸º [0, 2^8-1]&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…¶ä¸­è¡¥ç (Two&amp;rsquo;s Complement)ç”¨äºè¡¨ç¤ºè´Ÿæ•°&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ­£æ•°è¡¥ç ä¸åŸç ç›¸åŒ&lt;/li&gt;
&lt;li&gt;è´Ÿæ•°çš„è¡¥ç  = è¯¥æ•°ç»å¯¹å€¼çš„äºŒè¿›åˆ¶å–å + 1&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é€šè¿‡è¡¥ç , å¯ä»¥ä½¿å¾—åŠ å‡è¿ç®—ç»Ÿä¸€, æº¢å‡ºæ£€æµ‹æ›´åŠ ç®€å•&lt;/p&gt;
&lt;h2 id="æµ®ç‚¹æ•°-floating-point"&gt;æµ®ç‚¹æ•° Floating-point&lt;/h2&gt;
&lt;p&gt;æµ®ç‚¹æ•°ç”¨äºè¡¨ç¤ºå¸¦å°æ•°çš„å®æ•°, å°¤å…¶é€‚åˆç§‘å­¦è®¡ç®—å’Œè¿‘ä¼¼è¡¨ç¤ºå¾ˆå¤§æˆ–å¾ˆå°çš„æ•°å€¼. IEEE 754 å®šä¹‰äº†æµ®ç‚¹æ•°çš„æ ‡å‡†æ ¼å¼, ç±»ä¼¼ç§‘å­¦è®¡æ•°æ³•:&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;value = (-1)^(sign) x mantissa x 2^(exponent)
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æµ®ç‚¹æ•°ç”±ä¸‰éƒ¨åˆ†ç»„æˆ:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç¬¦å·ä½ sign: 0/1ä»£è¡¨æ­£è´Ÿ&lt;/li&gt;
&lt;li&gt;é˜¶ç  exponent: é€šå¸¸ä½¿ç”¨åç§»è¡¨ç¤ºæ³•&lt;/li&gt;
&lt;li&gt;å°¾æ•° fraction/mantissa: å°æ•°éƒ¨åˆ†&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¸¸è§æµ®ç‚¹æ•°ç±»å‹:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å•ç²¾åº¦ float32: 1 ä½ç¬¦å· + 8 ä½é˜¶ç  + 23 ä½å°¾æ•°&lt;/li&gt;
&lt;li&gt;åŒç²¾åº¦ float64: 1 ä½ç¬¦å· + 11 ä½é˜¶ç  + 52 ä½å°¾æ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="æµ®ç‚¹æ•°çš„åˆ†ç±»-categories"&gt;æµ®ç‚¹æ•°çš„åˆ†ç±» Categories&lt;/h3&gt;
&lt;p&gt;ä»¥ 64 ç²¾åº¦ä¸ºä¾‹&lt;/p&gt;</description></item><item><title>Intorduce UUID</title><link>https://starslayerx.github.io/posts/intorduce-uuid/</link><pubDate>Sat, 16 Aug 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/intorduce-uuid/</guid><description>&lt;p&gt;UUID(Universally Unique Identifier, é€šç”¨å”¯ä¸€æ ‡è¯†ç¬¦) æ˜¯ä¸€ç§æ ‡å‡†åŒ–çš„128ä½æ ‡è¯†ç¬¦, ç”¨äºåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ç”Ÿæˆå‡ ä¹ä¸ä¼šé‡å¤çš„å”¯ä¸€ ID. æœ€æ—©äº IETF åˆ¶å®šä¸º RFC 4122 æ ‡å‡†, ä¿è¯åœ¨ä¸åŒæœºå™¨ã€ä¸åŒæ—¶é—´ç”Ÿæˆçš„ ID ä¹Ÿèƒ½ä¿æŒå…¨å±€å”¯ä¸€.&lt;/p&gt;
&lt;p&gt;UUID é€šå¸¸ä»¥16è¿›åˆ¶è¡¨ç¤º, é‡‡ç”¨5æ®µç»“æ„, ç”¨è¿å­—ç¬¦ &lt;code&gt;-&lt;/code&gt; åˆ†éš”, ä¾‹å¦‚:&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;550e8400-e29b-41d4-a716-446655440000
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æœ‰å¦‚ä¸‹ç‰¹ç‚¹:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…¨å±€å”¯ä¸€&lt;/li&gt;
&lt;li&gt;æ— ä¸­å¿ƒä¾èµ–&lt;/li&gt;
&lt;li&gt;ä¸å¯é¢„æµ‹&lt;/li&gt;
&lt;li&gt;è·¨å¹³å°é€šç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;UUID æœ‰ä»¥ä¸‹ä¸åŒç‰ˆæœ¬:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style="text-align: left"&gt;ç‰ˆæœ¬&lt;/th&gt;
&lt;th style="text-align: left"&gt;ç”Ÿæˆ&lt;/th&gt;
&lt;th style="text-align: left"&gt;ç‰¹ç‚¹&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style="text-align: left"&gt;v1&lt;/td&gt;
&lt;td style="text-align: left"&gt;åŸºäºæ—¶é—´æˆ³ + MAC åœ°å€&lt;/td&gt;
&lt;td style="text-align: left"&gt;æŒ‰æ—¶é—´æ’åºï¼Œå«ç”Ÿæˆè®¾å¤‡ä¿¡æ¯&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: left"&gt;v3&lt;/td&gt;
&lt;td style="text-align: left"&gt;åŸºäºå‘½åç©ºé—´çš„ MD5 å“ˆå¸Œ&lt;/td&gt;
&lt;td style="text-align: left"&gt;è¾“å…¥ç›¸åŒåˆ™è¾“å‡ºç›¸åŒ(MD5 å·²ä¸å†å®‰å…¨)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: left"&gt;v4&lt;/td&gt;
&lt;td style="text-align: left"&gt;åŸºäºæ“ä½œç³»ç»Ÿçš„éšæœºæ•°ç”Ÿæˆ&lt;/td&gt;
&lt;td style="text-align: left"&gt;å®Œå…¨éšæœº, æœ€å¸¸ç”¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: left"&gt;v5&lt;/td&gt;
&lt;td style="text-align: left"&gt;åŸºäºå‘½åç©ºé—´çš„ SHA-1 å“ˆå¸Œ&lt;/td&gt;
&lt;td style="text-align: left"&gt;ä¸ v3 ç±»ä¼¼, ä½†ä½¿ç”¨ SHA-1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align: left"&gt;v6~v8&lt;/td&gt;
&lt;td style="text-align: left"&gt;ç°ä»£ç‰ˆæœ¬(è‰æ¡ˆ)&lt;/td&gt;
&lt;td style="text-align: left"&gt;æé«˜æ’åºæ€§èƒ½å’Œéšç§ä¿æŠ¤&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;å…¶ä¸­, å¯¹äºéœ€è¦æ—¶é—´æœ‰åºçš„ä½¿ç”¨ v1, å¤§å¤šæ•°é€šç”¨åœºæ™¯ä½¿ç”¨ v4&lt;/p&gt;
&lt;p&gt;UUID çš„åº”ç”¨åœºæ™¯&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ•°æ®åº“ä¸»é”®(åˆ†å¸ƒå¼ç¯å¢ƒé¿å…å†²çª)&lt;/li&gt;
&lt;li&gt;ä¼šè¯æ ‡è¯†(Session IDã€Token)&lt;/li&gt;
&lt;li&gt;æ–‡ä»¶å‘½å(é˜²æ­¢é‡å)&lt;/li&gt;
&lt;li&gt;åˆ†å¸ƒå¼ç³»ç»ŸèŠ‚ç‚¹ ID&lt;/li&gt;
&lt;li&gt;è¿½è¸ªè¯·æ±‚é“¾è·¯(Trace ID)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¤ºä¾‹ä»£ç &lt;/p&gt;</description></item><item><title>Python Generics</title><link>https://starslayerx.github.io/posts/python-generics/</link><pubDate>Thu, 14 Aug 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/python-generics/</guid><description>&lt;p&gt;æœ¬ç¯‡æ–‡ä»¶ä»‹ç» Python ä¸­çš„ æ³›å‹(Generics)&lt;/p&gt;
&lt;h3 id="intro"&gt;Intro&lt;/h3&gt;
&lt;p&gt;åœ¨æ²¡æœ‰æ³›å‹çš„æƒ…å†µä¸‹, ä¼šé‡ä¸Šä»¥ä¸‹å‡ ä¸ªé—®é¢˜:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;éš¾ä»¥è¡¨è¾¾æ„å›¾&lt;br&gt;
å‡è®¾ä½ ç¼–å†™äº†ä¸€ä¸ªå‡½æ•°, å®ƒæ¥å—ä¸€ä¸ªåˆ—è¡¨, å¹¶è¿”å›åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ .
åœ¨ä¸ä½¿ç”¨ç±»å‹æç¤ºçš„æƒ…å†µä¸‹, è¿™ä¸ªå‡½æ•°å¯ä»¥å¤„ç†ä»»ä½•ç±»å‹çš„åˆ—è¡¨, ä½†æˆ‘ä»¬æ— æ³•åœ¨å‡½æ•°ç­¾åä¸­è¡¨è¾¾&amp;quot;è¿”å›çš„å…ƒç´ çš„ç±»å‹ä¸åˆ—è¡¨ä¸­çš„å…ƒç´ ç±»å‹ç›¸åŒ&amp;quot;è¿™ä¸ªæ„å›¾&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_first_element&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸§å¤±ç±»å‹ä¿¡æ¯&lt;br&gt;
å¦‚æœä½¿ç”¨ç±»å‹æç¤º, å¯èƒ½ä¼šåƒä¸‹é¢è¿™æ ·å†™, ä½†è¿™æ ·ä¼šä¸¢å¤±ç±»å‹ä¿¡æ¯.
&lt;code&gt;list[Any]&lt;/code&gt; è¡¨ç¤ºå¯ä»¥æ¥æ”¶ä»»ä½•ç±»å‹çš„åˆ—è¡¨, ä½† &lt;code&gt;-&amp;gt; Any&lt;/code&gt; æ„å‘³ç€ä¸çŸ¥é“è¿”å›çš„å…ƒç´ ç±»å‹æ˜¯ä»€ä¹ˆ, è¿™ä½¿å¾— mypy ç­‰é™æ€ç±»å‹æ£€æµ‹å·¥å…·æ— æ³•è¿½è¸ªç±»å‹, é™ä½äº†ä»£ç çš„å¯è¯»æ€§å’Œå®‰å…¨æ€§&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;typing&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Any&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_first_element&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Any&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;Any&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# è°ƒç”¨æ—¶, ç±»å‹æ£€æŸ¥å·¥å…·æ— æ³•å¾—çŸ¥ first_str çš„ç±»å‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;first_str&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_first_element&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;hello&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;world&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä»£ç é‡å¤&lt;br&gt;
å¦‚æœä¸ºæ¯ç§å¯èƒ½çš„ç±»å‹éƒ½ç¼–å†™ä¸€ä¸ªå•ç‹¬çš„å‡½æ•°, åˆ™ä¼šå¯¼è‡´ä»£ç é‡å¤&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_first_int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_first_str&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é€šè¿‡å¼•å…¥ &lt;strong&gt;ç±»å‹å˜é‡&lt;/strong&gt; (TypeVar) æ¥è§£å†³é—®é¢˜, ç±»å‹å˜é‡å°±åƒä¸€ä¸ªå ä½ç¬¦, ä»£è¡¨åœ¨æœªæ¥æŸæ—¶åˆ»ä¼šè¢«å…·ä½“æŒ‡å®šçš„ç±»å‹&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;typing&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;TypeVar&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;T&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;TypeVar&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;T&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_first_element&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="o"&gt;-&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# ç°åœ¨, ç±»å‹æ£€æŸ¥å·¥å…·å¯ä»¥æ­£ç¡®æ¨æ–­å‡ºç±»å‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;first_str&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_first_element&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;hello&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;world&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;first_int&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;get_first_element&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;T = TypeVar('T')&lt;/code&gt; å®šä¹‰äº†ä¸€ä¸ªåä¸º T çš„ç±»å‹å˜é‡, è¿™é‡Œ T åªæ˜¯ä¸€ä¸ªçº¦å®šä¿—æˆçš„åå­—, ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–å­—æ¯&lt;/li&gt;
&lt;li&gt;&lt;code&gt;items: list[T]&lt;/code&gt; è¡¨ç¤º &lt;code&gt;items&lt;/code&gt; æ˜¯ä¸€ä¸ªåˆ—è¡¨, å…¶å†…éƒ¨å…ƒç´ ç±»å‹æ˜¯ T&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-&amp;gt; T&lt;/code&gt;: è¿”å›ç±»å‹ä¹Ÿæ˜¯ T&lt;/li&gt;
&lt;li&gt;å½“ä½¿ç”¨ &lt;code&gt;[&amp;quot;hello&amp;quot;, &amp;quot;world&amp;quot;]&lt;/code&gt; è°ƒç”¨å‡½æ•°æ—¶, é™æ€ç±»å‹æ£€æŸ¥å™¨ä¼šæ¨æ–­å‡º T æ˜¯ str, è¿”å›ç±»å‹ä¸º str&lt;/li&gt;
&lt;li&gt;å½“ä½¿ç”¨ &lt;code&gt;[1, 2, 3]&lt;/code&gt; è°ƒç”¨å‡½æ•°æ—¶, T è¢«æ¨æ–­ä¸º int&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;: è¿™ä¸ªå‡½æ•°å‡è®¾åˆ—è¡¨éç©º, å¦‚æœä¼ å…¥ç©ºåˆ—è¡¨ä¼šæŠ›å‡º &lt;code&gt;IndexError&lt;/code&gt;&lt;/p&gt;</description></item><item><title>Python Strings</title><link>https://starslayerx.github.io/posts/python-strings/</link><pubDate>Wed, 13 Aug 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/python-strings/</guid><description>&lt;p&gt;è¿™ç¯‡æ–‡ç« æ€»ç»“ä¸€ä¸‹ Python ä¸­å­—ç¬¦ä¸²çš„ç±»å‹&lt;/p&gt;
&lt;h3 id="unicode-string-å­—ç¬¦ä¸²"&gt;Unicode String å­—ç¬¦ä¸²&lt;/h3&gt;
&lt;p&gt;u åœ¨ Python3 ä¸­æ˜¯å¤šä½™çš„, å› ä¸ºæ‰€æœ‰çš„æ™®é€šå­—ç¬¦ä¸²é»˜è®¤éƒ½æ˜¯ Unicode, ä½†åœ¨ Python2 ä¸­, u ç”¨æ¥æ˜¾ç¤ºçš„è¡¨ç¤º Unicode å­—ç¬¦ä¸², ç°åœ¨ä¿ç•™è¿™ä¸ªæ˜¯ä¸ºäº†å‘åå…¼å®¹&lt;/p&gt;
&lt;h3 id="fromatted-string-æ ¼å¼åŒ–å­—ç¬¦ä¸²"&gt;Fromatted String æ ¼å¼åŒ–å­—ç¬¦ä¸²&lt;/h3&gt;
&lt;p&gt;f å‰ç¼€ç”¨äºåˆ›å»ºæ ¼å¼åŒ–å­—ç¬¦ä¸², è¿™æ˜¯æœ€å¸¸è§çš„å­—ç¬¦ä¸²æ ¼å¼æ–¹æ³•, è¿è¡Œåœ¨å­—ç¬¦ä¸²ä¸­åµŒå…¥è¡¨è¾¾å¼, åœ¨æ±‚å€¼æ—¶è½¬æ¢ä¸ºæ™®é€šçš„ &lt;code&gt;str&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-Python" data-lang="Python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;World&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;greeting&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;Hello, &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;!&amp;#34;&lt;/span&gt; &lt;span class="c1"&gt;# ç»“æœ: &amp;#34;Hello, World!&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="raw-string-åŸå§‹å­—ç¬¦ä¸²"&gt;Raw String åŸå§‹å­—ç¬¦ä¸²&lt;/h3&gt;
&lt;p&gt;r å‰ç¼€ç”¨äºåˆ›å»ºåŸå§‹å­—ç¬¦ä¸², ä¼šå¿½ç•¥åæ–œæ  &lt;code&gt;\&lt;/code&gt; çš„è½¬ä¹‰åŠŸèƒ½, åœ¨ç¼–å†™æ–‡ä»¶è·¯å¾„æˆ–æ­£åˆ™è¡¨è¾¾å¼çš„æ—¶å€™éå¸¸æœ‰ç”¨, å¯ä»¥é¿å…å¤§é‡çš„åæ–œæ è½¬ä¹‰&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-Python" data-lang="Python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;C:\Users\Documents&amp;#34;&lt;/span&gt; &lt;span class="c1"&gt;# å•ä¸ªåæ–œæ  &amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;regex&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;\bword\b&amp;#34;&lt;/span&gt; &lt;span class="c1"&gt;# \b ä¸ä¼šè¢«è½¬ä¹‰&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="bytes-string-å­—èŠ‚ä¸²"&gt;Bytes String å­—èŠ‚ä¸²&lt;/h3&gt;
&lt;p&gt;b å‰ç¼€ç”¨äºåˆ›å»ºå­—èŠ‚ä¸²å­—é¢é‡, è¡¨ç¤ºä¸€ä¸ªä¸å¯å˜çš„å­—èŠ‚åºåˆ—, è€Œä¸æ˜¯ Unicode æ–‡æœ¬, å­—èŠ‚ä¸²ä¸»è¦ç”¨äºäºŒè¿›åˆ¶æ•°æ®, ä¾‹å¦‚å›¾åƒæ–‡ä»¶ã€ç½‘ç»œæ•°æ®æˆ–å‹ç¼©æ–‡ä»¶ç­‰&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-Python" data-lang="Python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;binary_data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;b&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;Hello&amp;#34;&lt;/span&gt; &lt;span class="c1"&gt;# å­˜å‚¨çš„æ˜¯ ASCII ç¼–ç çš„å­—èŠ‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="template-string-æ¨¡æ¿å­—ç¬¦ä¸²"&gt;Template String æ¨¡æ¿å­—ç¬¦ä¸²&lt;/h3&gt;
&lt;p&gt;t å‰ç¼€ç”¨äºåˆ›å»ºæ¨¡æ¿å­—ç¬¦ä¸², è¿™æ˜¯ Python 3.14 å¼•å…¥çš„æ–°åŠŸèƒ½, ç”± &lt;a href="https://peps.python.org/pep-0750/"&gt;PEP 750&lt;/a&gt; é€šè¿‡.&lt;/p&gt;</description></item><item><title>Python Function Parameters</title><link>https://starslayerx.github.io/posts/python-function-parameters/</link><pubDate>Sun, 10 Aug 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/python-function-parameters/</guid><description>&lt;p&gt;ä»Šå¤©æ˜¯å‘¨æ—¥, ç®€å•å†™ç‚¹å§, ç®€å•æ€»ç»“ä¸€ä¸‹ Python ä¸­å‡½æ•°å‚æ•°&lt;/p&gt;
&lt;h2 id="python-function-parameters"&gt;Python Function Parameters&lt;/h2&gt;
&lt;p&gt;Python å‡½æ•°å‚æ•°æœºåˆ¶éå¸¸çµæ´»ä¸°å¯Œ, ç†è§£å„ç§å‚æ•°ç±»å‹åŠå…¶ç”¨æ³•å¯¹äºå†™å‡ºä¼˜é›…ã€æ˜“ç»´æŠ¤çš„ä»£ç éå¸¸é‡è¦. æœ¬æ–‡å°†ä»‹ç» Python ä¸­å‡½æ•°å‚æ•°çš„ç§ç±»ä¸ç”¨æ³•, å¹¶è¯¦ç»†è®²è§£ Python 3.8 å¼•å…¥çš„å‚æ•°åˆ†éš”ç¬¦ / å’Œ *, å¸®åŠ©ä½ æ›´å¥½åœ°è®¾è®¡å‡½æ•°æ¥å£.&lt;/p&gt;
&lt;h4 id="1-postional-arguments-ä½ç½®å‚æ•°"&gt;1. Postional Arguments ä½ç½®å‚æ•°&lt;/h4&gt;
&lt;p&gt;å‡½æ•°å®šä¹‰ä¸­æœ€å¸¸è§çš„å‚æ•°, è°ƒç”¨æ—¶æŒ‰é¡ºåºä¼ å…¥å€¼&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-Python" data-lang="Python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;greet&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;age&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;Hello, &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;. You are &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;age&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt; years old.&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;greet&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;Alice&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# Hello, Alice. You are 30 years old.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id="2-keyword-arguments-å…³é”®å­—å‚æ•°"&gt;2. Keyword Arguments å…³é”®å­—å‚æ•°&lt;/h4&gt;
&lt;p&gt;è°ƒç”¨æ—¶ä»¥ &lt;code&gt;key=value&lt;/code&gt; å½¢å¼ä¼ å…¥, é¡ºåºå¯å˜&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-Python" data-lang="Python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;greet&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;age&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;Alice&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id="3-default-arguments-é»˜è®¤å‚æ•°"&gt;3. Default Arguments é»˜è®¤å‚æ•°&lt;/h4&gt;
&lt;p&gt;å®šä¹‰å‡½æ•°æ—¶ç»™å‚æ•°èµ‹é»˜è®¤å€¼, è°ƒç”¨æ—¶å¯çœç•¥&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-Python" data-lang="Python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;greet&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;age&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;Hello, &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;. You are &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;age&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt; years old.&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;greet&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;Bob&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# ä½¿ç”¨é»˜è®¤å¹´é¾„20&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;greet&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;Bob&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;25&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# æŒ‡å®šå¹´é¾„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;æ³¨æ„: ä½¿ç”¨é»˜è®¤å‚æ•°å°½é‡ä¸è¦ä½¿ç”¨å¯å˜ç±»å‹(mutable), ä¾‹å¦‚åˆ—è¡¨, å› ä¸ºé»˜è®¤å‚æ•°æ˜¯å­˜å‚¨åœ¨å‡½æ•°ä¸­çš„, è€Œéå‡½æ•°å®ä¾‹ä¸­, å¤šæ¬¡è°ƒç”¨ä¼šæ”¹å˜é»˜è®¤å€¼çš„å†…å®¹.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-Python" data-lang="Python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;greet&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;Alice&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;Bob&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;]):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="o"&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è‹¥å¸Œæœ›ä½¿ç”¨é»˜è®¤å€¼, å»ºè®®ä½¿ç”¨ä¸‹é¢è¿™ç§æ–¹æ³•&lt;/p&gt;</description></item><item><title>Git Whitelist</title><link>https://starslayerx.github.io/posts/git-whitelist/</link><pubDate>Fri, 08 Aug 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/git-whitelist/</guid><description>&lt;p&gt;æœ‰æ—¶ä½ å¼€å¯äº†ä¸€ä¸ªæ–°çš„é¡¹ç›®, è¿è¡Œäº† &lt;code&gt;cargo init&lt;/code&gt;ã€&lt;code&gt;uv init&lt;/code&gt; å’Œ &lt;code&gt;go mod init&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿™äº›å‘½ä»¤åˆ›å»ºäº†å·¥ä½œæ‰€éœ€è¦çš„å¿…è¦æ–‡ä»¶, åŒæ—¶ä¹Ÿåœ¨ &lt;code&gt;.gitignore&lt;/code&gt; æ–‡ä»¶ä¸­æ·»åŠ äº†ä»¥ä¸‹å†…å®¹&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;target
__pycache__
bin
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸€åˆ‡éƒ½å¾ˆé¡ºåˆ©, ä½ ç»§ç»­å¼€å‘æ–°åŠŸèƒ½, ç­‰åˆ°æ—¶æœºæˆç†Ÿæ—¶å°±å°†é¡¹ç›®å‘å¸ƒåˆ°äº† Git æ‰˜ç®¡å¹³å°ä¸Š&lt;/p&gt;
&lt;p&gt;äººä»¬å¼€å§‹å¯¹ä½ çš„é¡¹ç›®æ„Ÿå…´è¶£, ç”šè‡³æœ‰äººå†³å®šä¸ºä½ å®ç°ä¸€ä¸ªæ–°åŠŸèƒ½, è¿™ç®€ç›´æ˜¯å…è´¹åŠ³åŠ¨åŠ›!&lt;/p&gt;
&lt;p&gt;å½“ä½ æŸ¥çœ‹ä»£ç , å‘ç°äº†ä¸€ä¸ªæ ¼æ ¼ä¸å…¥çš„æ–‡ä»¶ &lt;code&gt;.DS_Store&lt;/code&gt;, ä½ é—®é‚£ä¸ªäººè¿™æ˜¯ä»€ä¹ˆ, ä»–è¯´ä»–æ ¹æœ¬ä¸çŸ¥é“&lt;/p&gt;
&lt;p&gt;ç„¶åä½ åªæ˜¯å°†è¯¥æ–‡ä»¶ä»åˆ†æ”¯é‡Œé¢åˆ é™¤, å¹¶æŠŠæ–‡ä»¶ååŠ å…¥äº†ä»“åº“çš„ &lt;code&gt;.gitignore&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;target
__pycache__
bin
.DS_Store
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç°åœ¨ä»£ç åˆå¹¶åˆ°äº† &lt;code&gt;main&lt;/code&gt;, ä»“åº“é‡ŒåªåŒ…å«æœ‰ç”¨çš„å†…å®¹&lt;/p&gt;
&lt;p&gt;æ¥ç€, å¦ä¸€äººä½¿ç”¨åŸºäº Web æŠ€æœ¯çš„ IDE æäº¤äº†å¦ä¸€ä¸ªåˆå¹¶è¯·æ±‚, ä¸€çœ‹å‘ç°æœ‰ä¸€ä¸ªå®Œå…¨æ— å…³çš„ç›®å½•ä¹Ÿè¢«æäº¤äº†, äºæ˜¯ &lt;code&gt;.gitignore&lt;/code&gt; é‡Œåˆå¢åŠ äº†ä¸€æ¡å†…å®¹&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;target
__pycache__
bin
.DS_Store
.vscode
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;æ¥ä¸‹æ¥, æœ‰äººä½¿ç”¨ IntelliJ IDEA æäº¤äº†äº”ç™¾ä¸ª XML æ–‡ä»¶å’Œ .idea ç›®å½•, è¿™æ—¶åˆä¸å¾—ä¸å°†å…¶åŠ å…¥ &lt;code&gt;.gitignore&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;target
__pycache__
bin
.DS_Store
.vscode
.idea
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¤šå¹´å, &lt;code&gt;.gitignore&lt;/code&gt; å·²ç»æœ‰äº†ä¸Šç™¾è¡Œ, ä½†æ˜¯ä»ç„¶æ—¶ä¸æ—¶æœ‰å„ç§å¥‡æ€ªçš„æ–‡ä»¶, ä¾‹å¦‚ &lt;code&gt;testscripts&lt;/code&gt;ã€&lt;code&gt;foo&lt;/code&gt;ã€&lt;code&gt;a&lt;/code&gt;ã€&lt;code&gt;qux&lt;/code&gt;ã€&lt;code&gt;data.tar.gz&lt;/code&gt;ã€&lt;code&gt;start.sh&lt;/code&gt;ã€&lt;code&gt;cat&lt;/code&gt; &amp;hellip;&amp;hellip;&lt;/p&gt;</description></item><item><title>Python Tricks</title><link>https://starslayerx.github.io/posts/python-tricks/</link><pubDate>Tue, 05 Aug 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/python-tricks/</guid><description>&lt;h3 id="1-the-self-replicating-trick"&gt;1. The Self-Replicating Trick&lt;/h3&gt;
&lt;p&gt;å°†ä¸€ä¸ªå«æœ‰ç©ºåˆ—è¡¨çš„åˆ—è¡¨ä¹˜5, å¾—åˆ°æœ‰5ä¸ªç©ºåˆ—è¡¨çš„åˆ—è¡¨&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[[]]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;x&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;[[], [], [], [], []]&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å½“ä½¿ç”¨&lt;code&gt;.append(&amp;quot;x&amp;quot;)&lt;/code&gt;æ–¹æ³•æ—¶, æ‰€æœ‰åˆ—è¡¨éƒ½è¢«ä¿®æ”¹&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;x&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;x&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;[[&amp;ldquo;x&amp;rdquo;], [&amp;ldquo;x&amp;rdquo;], [&amp;ldquo;x&amp;rdquo;], [&amp;ldquo;x&amp;rdquo;], [&amp;ldquo;x&amp;rdquo;]]&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ‰“å°å…¶ id å¯ä»¥çœ‹åˆ°, id éƒ½ç›¸åŒ&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;4417579584&lt;br&gt;
4417579584&lt;br&gt;
4417579584&lt;br&gt;
4417579584&lt;br&gt;
4417579584&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æˆ–è€…ä½¿ç”¨&lt;code&gt;set()&lt;/code&gt;å‘ç° id å”¯ä¸€&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;id&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;{4417579584}&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´, å½“ä½¿ç”¨ä¹˜æ³•çš„æ—¶å€™, åˆ›å»ºäº†5ä¸ªå†…éƒ¨åˆ—è¡¨çš„å¼•ç”¨å‰¯æœ¬&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨åæ±‡ç¼–å‘ç°, åªåˆ›å»ºäº†ä¸¤ä¸ªåˆ—è¡¨, å¹¶æ‰§è¡Œä¹˜5&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;dis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dis&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;[[]] * 5&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="n"&gt;RESUME&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="c1"&gt;# ç”¨äºæ”¯æŒè§£é‡Šå™¨æ¢å¤ (py3.11)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="n"&gt;BUILD_LIST&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="c1"&gt;# æ„é€ ä¸€ä¸ªç©ºåˆ—è¡¨[], å‹æ ˆ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="mi"&gt;4&lt;/span&gt; &lt;span class="n"&gt;BUILD_LIST&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="c1"&gt;# ä»æ ˆé¡¶å–ä¸€ä¸ªå¯¹è±¡, æ„é€ åˆ—è¡¨[[]]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="mi"&gt;6&lt;/span&gt; &lt;span class="n"&gt;LOAD_CONST&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# åŠ è½½å¸¸é‡ 5&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="mi"&gt;8&lt;/span&gt; &lt;span class="n"&gt;BINARY_OP&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# å¯¹æ ˆé¡¶ä¸¤ä¸ªå…ƒç´ æ‰§è¡Œä¹˜æ³•&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="mi"&gt;12&lt;/span&gt; &lt;span class="n"&gt;RETURN_VALUE&lt;/span&gt; &lt;span class="c1"&gt;# è¿”å›æ ˆé¡¶ç»“æœ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id="the-alternative"&gt;The alternative&lt;/h4&gt;
&lt;p&gt;å¦‚æœè¦æ„é€ ç‹¬ç«‹åˆ—è¡¨, åº”æ”¹ç”¨åˆ—è¡¨æ¨å¯¼å¼&lt;/p&gt;</description></item><item><title>Executing arbitrary Python code from a comment</title><link>https://starslayerx.github.io/posts/executing-arbitrary-python-code-from-a-comment/</link><pubDate>Mon, 04 Aug 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/executing-arbitrary-python-code-from-a-comment/</guid><description>&lt;p&gt;é€šè¿‡æ³¨é‡Šæ‰§è¡Œä»»æ„Pythonä»£ç &lt;/p&gt;
&lt;h3 id="é—®é¢˜æè¿°"&gt;é—®é¢˜æè¿°&lt;/h3&gt;
&lt;p&gt;Q: åªèƒ½æ§åˆ¶ä¸€è¡Œçš„.pyä»£ç ä¸­æ³¨é‡Šçš„å†…å®¹(\n\rå‡ä¼šè¢«æ›¿æ¢ä¸ºç©ºå­—ç¬¦), å¦‚ä½•æ‰§è¡Œä»»æ„ä»£ç ?&lt;br&gt;
A: åœ¨æ³¨é‡Š#ä¸­, æ„é€ ä¸€ä¸ª.zip æ–‡ä»¶, python ä¼šå°†è¯¥å†…å®¹å½“æˆä¸€ä¸ª zip åŒ…æ‰§è¡Œ, è§¦å‘ä»»æ„ä»£ç æ‰§è¡Œ&lt;/p&gt;
&lt;h3 id="è§£å†³æ–¹æ¡ˆ"&gt;è§£å†³æ–¹æ¡ˆ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä» Python 3.5 èµ·, å¯ä»¥ç›´æ¥æ‰§è¡Œä¸€ä¸ª .zip æ–‡ä»¶&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python3" data-lang="python3"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;python&lt;/span&gt; &lt;span class="n"&gt;myapp&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;zip&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‰ææ˜¯ZIP åŒ…ä¸­åŒ…å«ä¸€ä¸ªé¡¶å±‚çš„&lt;code&gt;__main__.py&lt;/code&gt;æ–‡ä»¶, Python ä¼šæŠŠå®ƒå½“ä½œ zipapp, è‡ªåŠ¨è§£å‹å¹¶è¿è¡Œ&lt;code&gt;__main__.py&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Python ä¼šä»æœ«å°¾æ‰¾åˆ° ZIP çš„ç›®å½•ç»“æ„, è€Œä¸æ˜¯ä¾èµ–æ–‡ä»¶å¤´, æ‰€ä»¥å‰é¢çš„â€œåƒåœ¾â€å­—èŠ‚ä¼šè¢«å¿½ç•¥&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Python æºç ä¸­çš„ä»»ä½•è¡Œ, åªè¦ä»¥ # å¼€å¤´, è§£é‡Šå™¨éƒ½ä¼šå¿½ç•¥åé¢å†…å®¹, å› æ­¤å¯ä»¥:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æŠŠ ZIP æ–‡ä»¶çš„æ•°æ®è—åœ¨ Python æºç ä¸­çš„æ³¨é‡Šä¸­ï¼ˆå¼€å¤´åŠ  #ï¼‰&lt;/li&gt;
&lt;li&gt;æŠŠ ZIP æ•°æ®ç›´æ¥æ‹¼æ¥åœ¨ Python æ–‡ä»¶çš„åé¢, åªä¿è¯æ–‡ä»¶å¤´éƒ¨åˆ†æ˜¯åˆæ³• Python&lt;/li&gt;
&lt;li&gt;ZIP ä¸å…³å¿ƒå‰ç¼€, Python åªè¦æœ€å‰é¢æ˜¯æœ‰æ•ˆæºç , ä¹Ÿä¸ä¼šç®¡åé¢&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="éš¾ç‚¹"&gt;éš¾ç‚¹&lt;/h3&gt;
&lt;p&gt;ZIP æ–‡ä»¶å¤´åŒ…å«&lt;strong&gt;äºŒè¿›åˆ¶å­—æ®µ&lt;/strong&gt;ï¼Œæ¯”å¦‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åç§»é‡ï¼ˆæ–‡ä»¶æ•°æ®ç›¸å¯¹äº ZIP å¼€å¤´çš„ä½ç½®ï¼‰&lt;/li&gt;
&lt;li&gt;é•¿åº¦ï¼ˆæ–‡ä»¶åé•¿åº¦ã€æ³¨é‡Šé•¿åº¦ç­‰ï¼‰&lt;/li&gt;
&lt;li&gt;è¿™äº›å€¼å†™æ­»åœ¨ header é‡Œ, æ˜¯åå…­è¿›åˆ¶æ•´æ•°&lt;/li&gt;
&lt;li&gt;å¦‚æœè¿™äº›å­—èŠ‚ä¸­å‡ºç°äº†åƒ \x00ã€\xFF ç­‰é ASCII å†…å®¹, Python å°±ä¸èƒ½æŠŠå®ƒå½“æ³¨é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è§£å†³æ–¹æ³•: æš´åŠ›ç©·ä¸¾åˆæ³•ç»„åˆ&lt;/p&gt;</description></item></channel></rss>