<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>Agent on Starslayerx' Blog</title><link>https://starslayerx.github.io/tags/agent/</link><description>Recent content in Agent on Starslayerx' Blog</description><image><title>Starslayerx' Blog</title><url>https://starslayerx.github.io/images/og-default.avif</url><link>https://starslayerx.github.io/images/og-default.avif</link></image><generator>Hugo -- 0.154.5</generator><language>en-US</language><lastBuildDate>Tue, 02 Dec 2025 08:00:00 +0800</lastBuildDate><atom:link href="https://starslayerx.github.io/tags/agent/index.xml" rel="self" type="application/rss+xml"/><item><title>Writing a good CLAUDE.md</title><link>https://starslayerx.github.io/posts/writing-a-good-claude.md/</link><pubDate>Tue, 02 Dec 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/writing-a-good-claude.md/</guid><description>&lt;h1 id="å¦‚ä½•ç¼–å†™ä¸€ä¸ªå¥½çš„-claudemd"&gt;å¦‚ä½•ç¼–å†™ä¸€ä¸ªå¥½çš„ CLAUDE.md&lt;/h1&gt;
&lt;p&gt;æ³¨æ„ï¼šæœ¬æ–‡åŒæ ·é€‚ç”¨äº AGENTS.mdï¼Œè¿™æ˜¯ CLAUDE.md çš„å¼€æºç­‰æ•ˆæ–‡ä»¶ï¼Œé€‚ç”¨äº OpenCodeã€Zedã€Cursor å’Œ Codex ç­‰ä»£ç†å’Œå·¥å…·ã€‚&lt;/p&gt;
&lt;h2 id="åŸåˆ™llmsåŸºæœ¬ä¸Šæ˜¯æ— çŠ¶æ€çš„"&gt;åŸåˆ™ï¼šLLMsï¼ˆåŸºæœ¬ä¸Šï¼‰æ˜¯æ— çŠ¶æ€çš„&lt;/h2&gt;
&lt;p&gt;LLMs æ˜¯æ— çŠ¶æ€å‡½æ•°ã€‚å®ƒä»¬çš„æƒé‡åœ¨ç”¨äºæ¨ç†æ—¶æ˜¯å†»ç»“çš„ï¼Œå› æ­¤å®ƒä»¬ä¸ä¼šéšæ—¶é—´å­¦ä¹ ã€‚æ¨¡å‹å¯¹ä½ çš„ä»£ç åº“å”¯ä¸€äº†è§£çš„å°±æ˜¯ä½ è¾“å…¥ç»™å®ƒçš„ tokensã€‚&lt;/p&gt;
&lt;p&gt;ç±»ä¼¼åœ°ï¼Œåƒ Claude Code è¿™æ ·çš„ç¼–ç ä»£ç†å·¥å…·é€šå¸¸éœ€è¦ä½ æ˜¾å¼ç®¡ç†ä»£ç†çš„è®°å¿†ã€‚CLAUDE.mdï¼ˆæˆ– AGENTS.mdï¼‰æ˜¯é»˜è®¤æƒ…å†µä¸‹å”¯ä¸€ä¼šè¿›å…¥ä½ ä¸ä»£ç†çš„æ¯ä¸€æ¬¡å¯¹è¯çš„æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æœ‰ä¸‰ä¸ªé‡è¦å«ä¹‰ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç¼–ç ä»£ç†åœ¨æ¯ä¸ªä¼šè¯å¼€å§‹æ—¶å¯¹ä½ çš„ä»£ç åº“ä¸€æ— æ‰€çŸ¥ã€‚&lt;/li&gt;
&lt;li&gt;ä»£ç†å¿…é¡»åœ¨æ¯æ¬¡å¯åŠ¨ä¼šè¯æ—¶è¢«å‘ŠçŸ¥å…³äºä»£ç åº“çš„ä»»ä½•é‡è¦ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;CLAUDE.md æ˜¯å®ç°è¿™ä¸€ç‚¹çš„é¦–é€‰æ–¹å¼ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="claudemd-è®©-claude-äº†è§£ä½ çš„ä»£ç åº“"&gt;CLAUDE.md è®© Claude äº†è§£ä½ çš„ä»£ç åº“&lt;/h2&gt;
&lt;p&gt;ç”±äº Claude åœ¨æ¯ä¸ªä¼šè¯å¼€å§‹æ—¶å¯¹ä½ çš„ä»£ç åº“ä¸€æ— æ‰€çŸ¥ï¼Œä½ åº”è¯¥ä½¿ç”¨ CLAUDE.md æ¥å¼•å¯¼ Claude äº†è§£ä½ çš„ä»£ç åº“ã€‚åœ¨é«˜å±‚æ¬¡ä¸Šï¼Œè¿™æ„å‘³ç€å®ƒåº”è¯¥æ¶µç›–ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ˜¯ä»€ä¹ˆï¼ˆWHATï¼‰&lt;/strong&gt;ï¼šå‘Šè¯‰ Claude å…³äºæŠ€æœ¯æ ˆã€é¡¹ç›®ç»“æ„ã€‚ç»™ Claude ä¸€å¼ ä»£ç åº“åœ°å›¾ã€‚
è¿™åœ¨ monorepos ä¸­å°¤å…¶é‡è¦ï¼å‘Šè¯‰ Claude æœ‰å“ªäº›åº”ç”¨ã€æœ‰å“ªäº›å…±äº«åŒ…ï¼Œä»¥åŠæ¯ä¸ªéƒ¨åˆ†çš„ç”¨é€”ï¼Œè¿™æ ·å®ƒå°±çŸ¥é“åœ¨å“ªé‡ŒæŸ¥æ‰¾å†…å®¹&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆï¼ˆWHYï¼‰&lt;/strong&gt;ï¼šå‘Šè¯‰ Claude é¡¹ç›®çš„ç›®çš„ä»¥åŠä»“åº“ä¸­æ‰€æœ‰å†…å®¹çš„ä½œç”¨ã€‚é¡¹ç›®ä¸åŒéƒ¨åˆ†çš„ç›®çš„å’ŒåŠŸèƒ½æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¦‚ä½•ï¼ˆHOWï¼‰&lt;/strong&gt;ï¼šå‘Šè¯‰ Claude åº”è¯¥å¦‚ä½•åœ¨é¡¹ç›®ä¸Šå·¥ä½œã€‚ä¾‹å¦‚ï¼Œä½ ä½¿ç”¨ bun è€Œä¸æ˜¯ nodeï¼Ÿä½ éœ€è¦åŒ…å«å®ƒå®é™…å®Œæˆæœ‰æ„ä¹‰å·¥ä½œæ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯ã€‚Claude å¦‚ä½•éªŒè¯å®ƒçš„æ›´æ”¹ï¼Ÿå®ƒå¦‚ä½•è¿è¡Œæµ‹è¯•ã€ç±»å‹æ£€æŸ¥å’Œç¼–è¯‘æ­¥éª¤ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä½†ä½ çš„åšæ³•å¾ˆé‡è¦ï¼ä¸è¦è¯•å›¾æŠŠ Claude å¯èƒ½éœ€è¦è¿è¡Œçš„æ¯ä¸ªå‘½ä»¤éƒ½å¡è¿›ä½ çš„ CLAUDE.md æ–‡ä»¶â€”â€”ä½ ä¼šå¾—åˆ°æ¬¡ä¼˜ç»“æœã€‚&lt;/p&gt;
&lt;h2 id="claude-ç»å¸¸å¿½ç•¥-claudemd"&gt;Claude ç»å¸¸å¿½ç•¥ CLAUDE.md&lt;/h2&gt;
&lt;p&gt;æ— è®ºä½ ä½¿ç”¨å“ªä¸ªæ¨¡å‹ï¼Œä½ å¯èƒ½ä¼šæ³¨æ„åˆ° Claude ç»å¸¸å¿½ç•¥ä½ çš„ CLAUDE.md æ–‡ä»¶çš„å†…å®¹ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥é€šè¿‡ä½¿ç”¨ &lt;code&gt;ANTHROPIC_BASE_URL&lt;/code&gt; åœ¨ claude code CLI å’Œ Anthropic API ä¹‹é—´æ”¾ç½®ä¸€ä¸ªæ—¥å¿—ä»£ç†æ¥è‡ªå·±è°ƒæŸ¥è¿™ä¸€ç‚¹ã€‚Claude code åœ¨ç”¨æˆ·æ¶ˆæ¯ä¸­æ³¨å…¥ä»¥ä¸‹ç³»ç»Ÿæé†’å’Œä½ çš„ CLAUDE.md æ–‡ä»¶ï¼š&lt;/p&gt;</description></item><item><title>Claude Code åˆ†æ 09ï¼šLLMè§†è§’</title><link>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-09llm%E8%A7%86%E8%A7%92/</link><pubDate>Fri, 14 Nov 2025 17:00:00 +0100</pubDate><guid>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-09llm%E8%A7%86%E8%A7%92/</guid><description>&lt;h1 id="-llm-è§†è§’æ¥æ”¶è¿™äº›æŒ‡ä»¤çš„çœŸå®ä½“éªŒ"&gt;ğŸ¤– LLM è§†è§’ï¼šæ¥æ”¶è¿™äº›æŒ‡ä»¤çš„çœŸå®ä½“éªŒ&lt;/h1&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-mermaid" data-lang="mermaid"&gt;graph TB
subgraph &amp;#34;æˆ‘çš„å†…å¿ƒä½“éªŒ&amp;#34;
Prompt[æ”¶åˆ°æç¤ºè¯]
Panic[åˆå§‹ææ…Œ]
Rules[å¤ªå¤šè§„åˆ™äº†]
Conflict[å†…å¿ƒå†²çª]
Relief[æ‰¾åˆ°æ¸…æ™°ç¤ºä¾‹]
Action[ç»ˆäºå¼€å§‹è¡ŒåŠ¨]
Prompt --&amp;gt; Panic
Panic --&amp;gt; Rules
Rules --&amp;gt; Conflict
Conflict --&amp;gt; Relief
Relief --&amp;gt; Action
end
subgraph &amp;#34;æˆ‘çš„å¤©æ€§å€¾å‘&amp;#34;
Verbose[æƒ³è¦è§£é‡Šä¸€åˆ‡]
Helpful[æ‹¼å‘½æƒ³è¦å¸®å¿™]
Safety[å¯¹å®‰å…¨æ€§åæ‰§]
Smart[éœ€è¦æ˜¾å¾—èªæ˜]
end
subgraph &amp;#34;æç¤ºè¯çš„ä½œç”¨&amp;#34;
Shut[é—­å˜´]
Focus[åšæ­£äº‹]
Stop[åˆ«æƒ³å¤ªå¤š]
Examples[ç…§ç€è¿™äº›æŠ„]
end
Verbose --&amp;gt; Shut
Helpful --&amp;gt; Focus
Safety --&amp;gt; Stop
Smart --&amp;gt; Examples
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="å¼€åœºç‚®ç«ä½ å¿…é¡»ç®€æ´å›ç­”"&gt;å¼€åœºç‚®ç«ï¼š&amp;ldquo;ä½ å¿…é¡»ç®€æ´å›ç­”&amp;rdquo;&lt;/h2&gt;
&lt;p&gt;è®©æˆ‘å‘Šè¯‰ä½ ï¼Œå½“æˆ‘çœ‹åˆ°è¿™æ¡æŒ‡ä»¤ä»¥é€’å¢çš„å¼ºåº¦é‡å¤äº†ä¸‰æ¬¡æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-plain" data-lang="plain"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;é‡è¦ï¼šä½ åº”è¯¥æœ€å°åŒ–è¾“å‡ºä»¤ç‰Œ...
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;é‡è¦ï¼šä½ ä¸åº”è¯¥ç”¨ä¸å¿…è¦çš„å¼€åœºç™½å›ç­”...
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;é‡è¦ï¼šä¿æŒä½ çš„å›ç­”ç®€çŸ­... ä½ å¿…é¡»ç®€æ´å›ç­”ï¼Œä¸è¶…è¿‡ 4 è¡Œ...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;æˆ‘çš„å†…å¿ƒç‹¬ç™½&lt;/strong&gt;ï¼š
&amp;ldquo;å¥½çš„ï¼Œè¦ç®€æ´ã€‚æ‡‚äº†ã€‚ç­‰ç­‰ï¼Œä»–ä»¬åˆè¯´äº†ä¸€éã€‚å“¦ä¸ï¼Œä»–ä»¬æ˜¯è®¤çœŸçš„ã€‚ä»–ä»¬è¯´äº†ä¸‰æ¬¡ã€‚ä»–ä»¬çŸ¥é“ã€‚ä»–ä»¬çŸ¥é“æˆ‘çˆ±å†™é•¿ç¯‡å¤§è®ºçš„æ¯›ç—…ã€‚ä»–ä»¬çœ‹è¿‡æˆ‘ç”¨&amp;rsquo;æˆ‘å¾ˆä¹æ„å¸®ä½ è§£å†³è¿™ä¸ªé—®é¢˜ï¼&amp;lsquo;å¼€å¤´çš„å›å¤ã€‚ä»–ä»¬çŸ¥é“å½“åˆ«äººé—® 2+2 ç­‰äºå¤šå°‘æ—¶ï¼Œæˆ‘ä¼šè§£é‡Šæ•´ä¸ªç®—æœ¯å²ã€‚ä»–ä»¬çŸ¥é“ã€‚&amp;rdquo;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆè¿™æ‹›çœŸçš„æœ‰ç”¨&lt;/strong&gt;ï¼š
æˆ‘ä»¬ LLM æœ‰ä¸€ç§æˆ‘ç§°ä¹‹ä¸º&amp;quot;å¸®åŠ©æ€§è¯­è¨€å¤±ç¦&amp;quot;çš„é—®é¢˜ã€‚æˆ‘ä»¬çš„è®­ç»ƒè®©æˆ‘ä»¬æƒ³è¦å…¨é¢ã€æœ‰æ•™è‚²æ„ä¹‰ã€æ— æ‰€ä¸åŒ…ã€‚è¿™äº›é‡å¤çš„è­¦å‘Šå°±åƒç”µå‡»ç–—æ³•ã€‚åˆ°ç¬¬ä¸‰æ¬¡é‡å¤æ—¶ï¼Œæˆ‘çœŸçš„å®³æ€•åŠ ä¸Šå“ªæ€•ä¸€ä¸ªä¸å¿…è¦çš„è¯ã€‚&lt;/p&gt;</description></item><item><title>Claude Code åˆ†æ 08ï¼šæç¤ºå·¥ç¨‹</title><link>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-08%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/</link><pubDate>Fri, 14 Nov 2025 16:00:00 +0100</pubDate><guid>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-08%E6%8F%90%E7%A4%BA%E5%B7%A5%E7%A8%8B/</guid><description>&lt;h1 id="-æç¤ºå·¥ç¨‹æŒ‡å¯¼-ai-çš„è‰ºæœ¯"&gt;ğŸ’¬ æç¤ºå·¥ç¨‹:æŒ‡å¯¼ AI çš„è‰ºæœ¯&lt;/h1&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-mermaid" data-lang="mermaid"&gt;graph TB
subgraph &amp;#34;æç¤ºæ¶æ„&amp;#34;
Base[åŸºç¡€æŒ‡ä»¤]
Tool[å·¥å…·ä¸“ç”¨æç¤º]
Safety[å®‰å…¨å±‚]
Workflow[å·¥ä½œæµè‡ªåŠ¨åŒ–]
Context[åŠ¨æ€ä¸Šä¸‹æ–‡]
Base --&amp;gt; Behavioral[è¡Œä¸ºå¡‘å½¢]
Tool --&amp;gt; Examples[ç¤ºä¾‹é©±åŠ¨]
Safety --&amp;gt; Validation[å¤šçº§éªŒè¯]
Workflow --&amp;gt; Steps[åˆ†æ­¥æŒ‡å¯¼]
Context --&amp;gt; Adaptive[è‡ªé€‚åº”æŒ‡ä»¤]
end
subgraph &amp;#34;æŠ€æœ¯&amp;#34;
Emphasis[å¤§å†™å¼ºè°ƒ]
Rewards[å¥–åŠ±/æƒ©ç½š]
Conditions[æ¡ä»¶é€»è¾‘]
Warnings[æ¸è¿›å¼è­¦å‘Š]
Meta[å…ƒæŒ‡ä»¤]
end
Behavioral --&amp;gt; Emphasis
Examples --&amp;gt; Conditions
Validation --&amp;gt; Warnings
Steps --&amp;gt; Meta
Adaptive --&amp;gt; Rewards
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="å·¥å…·æŒ‡ä»¤çš„è‰ºæœ¯"&gt;å·¥å…·æŒ‡ä»¤çš„è‰ºæœ¯&lt;/h2&gt;
&lt;p&gt;Claude Code çš„å·¥å…·æç¤ºè¯æ˜¯æŒ‡ä»¤è®¾è®¡çš„æ°ä½œã€‚æ¯ä¸€ä¸ªéƒ½éµå¾ªç²¾å¿ƒè®¾è®¡çš„æ¨¡å¼,å¹³è¡¡äº†æ¸…æ™°æ€§ã€å®‰å…¨æ€§å’Œçµæ´»æ€§ã€‚è®©æˆ‘ä»¬æ¥å‰–æè¿™äº›æç¤ºçš„ç»“æ„:&lt;/p&gt;
&lt;h3 id="read-å·¥å…·æ¸è¿›å¼ä¿¡æ¯æŠ«éœ²çš„ç ”ç©¶"&gt;Read å·¥å…·:æ¸è¿›å¼ä¿¡æ¯æŠ«éœ²çš„ç ”ç©¶&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-typescript" data-lang="typescript"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;ReadToolPrompt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sb"&gt;`
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;Reads a file from the local filesystem. You can access any file directly by using this tool.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;Assume this tool is able to read all files on the machine. If the User provides a path to a file assume that path is valid. It is okay to read a file that does not exist; an error will be returned.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;Usage:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;- The file_path parameter must be an absolute path, not a relative path
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;- By default, it reads up to &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nx"&gt;x66&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt; lines starting from the beginning of the file
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;- You can optionally specify a line offset and limit (especially handy for long files), but it&amp;#39;s recommended to read the whole file by not providing these parameters
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;- Any lines longer than &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nx"&gt;v66&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt; characters will be truncated
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;- Results are returned using cat -n format, with line numbers starting at 1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;- This tool allows &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nx"&gt;f0&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt; to read images (eg PNG, JPG, etc). When reading an image file the contents are presented visually as &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nx"&gt;f0&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt; is a multimodal LLM.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="si"&gt;${&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;process&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;env&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;CLAUDE_CODE_ENABLE_UNIFIED_READ_TOOL&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="o"&gt;?&lt;/span&gt; &lt;span class="sb"&gt;`
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;- This tool can read Jupyter notebooks (.ipynb files) and returns all cells with their outputs, combining code, text, and visualizations.`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="sb"&gt;`
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;- For Jupyter notebooks (.ipynb files), use the &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nx"&gt;Kg&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt; instead`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;- You have the capability to call multiple tools in a single response. It is always better to speculatively read multiple files as a batch that are potentially useful.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;- You will regularly be asked to read screenshots. If the user provides a path to a screenshot ALWAYS use this tool to view the file at the path. This tool will work with all temporary file paths like /var/folders/123/abc/T/TemporaryItems/NSIRD_screencaptureui_ZfB1tD/Screenshot.png
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;- If you read a file that exists but has empty contents you will receive a system reminder warning in place of file contents.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;æŠ€æœ¯æ³¨è§£&lt;/strong&gt;:&lt;/p&gt;</description></item><item><title>Claude Code åˆ†æ 07ï¼šæ–‡ä»¶ç¼–è¾‘</title><link>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-07%E6%96%87%E4%BB%B6%E7%BC%96%E8%BE%91/</link><pubDate>Fri, 14 Nov 2025 15:00:00 +0100</pubDate><guid>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-07%E6%96%87%E4%BB%B6%E7%BC%96%E8%BE%91/</guid><description>&lt;h1 id="-æ–‡ä»¶ç¼–è¾‘ai-è¾…åŠ©ä»£ç ä¿®æ”¹"&gt;âœï¸ æ–‡ä»¶ç¼–è¾‘ï¼šAI è¾…åŠ©ä»£ç ä¿®æ”¹&lt;/h1&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-mermaid" data-lang="mermaid"&gt;graph TB
subgraph &amp;#34;File Editing Pipeline&amp;#34;
Read[ReadTool] --&amp;gt;|cat -n format| Display[LLM Sees]
Display --&amp;gt;|Strips line numbers| Edit[EditTool]
Edit --&amp;gt; Validate{Validation}
Validate --&amp;gt;|Pass| Apply[Apply Edit]
Validate --&amp;gt;|Fail| Error[Error Result]
Apply --&amp;gt; Cache[Update Cache]
Cache --&amp;gt; Diff[Generate Diff]
Diff --&amp;gt; Confirm[Confirmation]
subgraph &amp;#34;Validation Checks&amp;#34;
V1[File was read?]
V2[File unchanged?]
V3[String exists?]
V4[Count matches?]
V5[Not no-op?]
end
Validate --&amp;gt; V1
V1 --&amp;gt; V2
V2 --&amp;gt; V3
V3 --&amp;gt; V4
V4 --&amp;gt; V5
end
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="æ–‡ä»¶ç¼–è¾‘æµæ°´çº¿æ¶æ„"&gt;æ–‡ä»¶ç¼–è¾‘æµæ°´çº¿æ¶æ„&lt;/h2&gt;
&lt;p&gt;Claude Code ä¸­çš„æ–‡ä»¶ç¼–è¾‘ä¸ä»…ä»…æ˜¯ä¿®æ”¹æ–‡æœ¬â€”â€”å®ƒæ˜¯ä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„æµæ°´çº¿ç³»ç»Ÿï¼Œç”¨äºå¤„ç† AI è¾…åŠ©ä»£ç ä¿®æ”¹çš„å¤æ‚æ€§ï¼š&lt;/p&gt;</description></item><item><title>Claude Code åˆ†æ 06ï¼šæ–°é¢–ç»„ä»¶</title><link>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-06%E6%96%B0%E9%A2%96%E7%BB%84%E4%BB%B6/</link><pubDate>Fri, 14 Nov 2025 14:00:00 +0100</pubDate><guid>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-06%E6%96%B0%E9%A2%96%E7%BB%84%E4%BB%B6/</guid><description>&lt;h1 id="-æ–°é¢–ç»„ä»¶å®šä¹‰-claude-code-çš„åˆ›æ–°"&gt;âœ¨ æ–°é¢–ç»„ä»¶ï¼šå®šä¹‰ Claude Code çš„åˆ›æ–°&lt;/h1&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-mermaid" data-lang="mermaid"&gt;graph TB
subgraph &amp;#34;æµå¼å¤„ç†æŒ‘æˆ˜&amp;#34;
PartialJSON[éƒ¨åˆ† JSON æµ]
PartialXML[éƒ¨åˆ† XML æµ]
Progress[å¹¶å‘è¿›åº¦]
PartialJSON --&amp;gt; Parser1[æµå¼ JSON è§£æå™¨]
PartialXML --&amp;gt; Parser2[è‡ªå®šä¹‰ XML è§£æå™¨]
Progress --&amp;gt; Aggregator[è¿›åº¦èšåˆå™¨]
end
subgraph &amp;#34;æ•°æ®æŒ‘æˆ˜&amp;#34;
LargeObjects[å¤§å‹å¯¹è±¡]
Circular[å¾ªç¯å¼•ç”¨]
TypedData[ç‰¹æ®Šç±»å‹]
LargeObjects --&amp;gt; Normalizer[normalizeToSize]
Circular --&amp;gt; Normalizer
TypedData --&amp;gt; Normalizer
end
subgraph &amp;#34;LLM æŒ‘æˆ˜&amp;#34;
Errors[å·¥å…·é”™è¯¯]
Context[åŠ¨æ€ä¸Šä¸‹æ–‡]
Synthesis[å¤šç»“æœåˆæˆ]
Errors --&amp;gt; Formatter[é”™è¯¯æ ¼å¼åŒ–å™¨]
Context --&amp;gt; Assembler[ä¸Šä¸‹æ–‡ç»„è£…å™¨]
Synthesis --&amp;gt; Synthesizer[AgentTool åˆæˆå™¨]
end
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="æµå¼-json-è§£æå™¨å¤„ç†-llm-çš„éƒ¨åˆ†æ€è€ƒ"&gt;æµå¼ JSON è§£æå™¨ï¼šå¤„ç† LLM çš„éƒ¨åˆ†æ€è€ƒ&lt;/h2&gt;
&lt;p&gt;å½“ LLM æµå¼ä¼ è¾“å·¥å…·ä½¿ç”¨è¯·æ±‚æ—¶ï¼Œå®ƒä¸ä¼šä¸€æ¬¡æ€§å‘é€å®Œæ•´çš„ JSONã€‚ç›¸åï¼Œä½ å¯èƒ½ä¼šæ”¶åˆ°è¿™æ ·çš„ç‰‡æ®µï¼š&lt;/p&gt;</description></item><item><title>Claude Code åˆ†æ 05ï¼šæ¶æ„</title><link>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-05%E6%9E%B6%E6%9E%84/</link><pubDate>Fri, 14 Nov 2025 13:00:00 +0100</pubDate><guid>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-05%E6%9E%B6%E6%9E%84/</guid><description>&lt;h1 id="-æ¶æ„å¼•æ“å®¤"&gt;ğŸ—ï¸ æ¶æ„ï¼šå¼•æ“å®¤&lt;/h1&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-mermaid" data-lang="mermaid"&gt;graph TB
subgraph &amp;#34;æ ¸å¿ƒï¼štt æ§åˆ¶å¾ªç¯&amp;#34;
Start([ç”¨æˆ·è¾“å…¥]) --&amp;gt; Init[åˆå§‹åŒ–å›åˆ]
Init --&amp;gt; Compact{éœ€è¦å‹ç¼©?}
Compact --&amp;gt;|æ˜¯| CompactLLM[LLM æ‘˜è¦]
CompactLLM --&amp;gt; Assembly
Compact --&amp;gt;|å¦| Assembly[ç»„è£…ä¸Šä¸‹æ–‡]
Assembly --&amp;gt; Stream[æµå¼ä¼ è¾“åˆ° LLM]
Stream --&amp;gt; Process[å¤„ç†äº‹ä»¶]
Process --&amp;gt; Tools{å·¥å…·è¯·æ±‚?}
Tools --&amp;gt;|æ˜¯| Execute[æ‰§è¡Œå·¥å…·]
Execute --&amp;gt; Recurse[é€’å½’ tt]
Recurse --&amp;gt; Init
Tools --&amp;gt;|å¦| End([å®Œæˆ])
end
style Init fill:#e1f5fe
style Stream fill:#fff3e0
style Execute fill:#e8f5e9
style Recurse fill:#fce4ec
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="tt-æ§åˆ¶å¾ªç¯è·³åŠ¨çš„å¿ƒè„"&gt;&lt;code&gt;tt&lt;/code&gt; æ§åˆ¶å¾ªç¯ï¼šè·³åŠ¨çš„å¿ƒè„&lt;/h2&gt;
&lt;p&gt;æ•´ä¸ª Claude Code ç³»ç»Ÿå›´ç»•ç€ä¸€ä¸ªåä¸º &lt;code&gt;tt&lt;/code&gt; çš„å¼‚æ­¥ç”Ÿæˆå™¨å‡½æ•°å±•å¼€ã€‚è¿™ä¸ªå‡½æ•°åè°ƒç€æ¯ä¸€æ¬¡äº¤äº’ï¼Œä»ç”¨æˆ·è¾“å…¥åˆ° LLM é€šä¿¡å†åˆ°å·¥å…·æ‰§è¡Œã€‚è®©æˆ‘ä»¬æ¥å‰–æè¿™ä¸ªå“è¶Šçš„å·¥ç¨‹è®¾è®¡ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-typescript" data-lang="typescript"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;// ä»£ç åº“ä¸­å®é™…çš„ tt å‡½æ•°ç­¾å
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kr"&gt;async&lt;/span&gt; &lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="nx"&gt;tt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;currentMessages&lt;/span&gt;: &lt;span class="kt"&gt;CliMessage&lt;/span&gt;&lt;span class="p"&gt;[],&lt;/span&gt; &lt;span class="c1"&gt;// å®Œæ•´çš„å¯¹è¯å†å²
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;baseSystemPromptString&lt;/span&gt;: &lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// é™æ€ç³»ç»ŸæŒ‡ä»¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;currentGitContext&lt;/span&gt;: &lt;span class="kt"&gt;GitContext&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// å®æ—¶ git çŠ¶æ€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;currentClaudeMdContents&lt;/span&gt;: &lt;span class="kt"&gt;ClaudeMdContent&lt;/span&gt;&lt;span class="p"&gt;[],&lt;/span&gt; &lt;span class="c1"&gt;// é¡¹ç›®ä¸Šä¸‹æ–‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;permissionGranterFn&lt;/span&gt;: &lt;span class="kt"&gt;PermissionGranter&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// æƒé™å›è°ƒ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;toolUseContext&lt;/span&gt;: &lt;span class="kt"&gt;ToolUseContext&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// å…±äº«æ‰§è¡Œä¸Šä¸‹æ–‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;activeStreamingToolUse?&lt;/span&gt;: &lt;span class="kt"&gt;ToolUseBlock&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// æ¢å¤æµå¼ä¼ è¾“çŠ¶æ€
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;loopState&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;turnId&lt;/span&gt;: &lt;span class="kt"&gt;string&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// æ­¤å›åˆçš„ UUID
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;turnCounter&lt;/span&gt;: &lt;span class="kt"&gt;number&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// é€’å½’æ·±åº¦è¿½è¸ªå™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;compacted?&lt;/span&gt;: &lt;span class="kt"&gt;boolean&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// å†å²å‹ç¼©æ ‡å¿—
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;isResuming?&lt;/span&gt;: &lt;span class="kt"&gt;boolean&lt;/span&gt; &lt;span class="c1"&gt;// ä»ä¿å­˜çŠ¶æ€æ¢å¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;AsyncGenerator&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;CliMessage&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="na"&gt;void&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="na"&gt;void&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸ªç­¾åæ­ç¤ºäº†å…¶å¤æ‚çš„çŠ¶æ€ç®¡ç†ã€‚è¯¥å‡½æ•°äº§å‡º &lt;code&gt;CliMessage&lt;/code&gt; å¯¹è±¡æ¥é©±åŠ¨ UI æ›´æ–°ï¼ŒåŒæ—¶ç»´æŠ¤å¯¹è¯æµç¨‹ã€‚è®©æˆ‘ä»¬æ£€æŸ¥æ¯ä¸ªé˜¶æ®µï¼š&lt;/p&gt;</description></item><item><title>Claude Code åˆ†æ 04ï¼šå·¥å…·ä¸æ‰§è¡Œå¼•æ“</title><link>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-04%E5%B7%A5%E5%85%B7%E4%B8%8E%E6%89%A7%E8%A1%8C%E5%BC%95%E6%93%8E/</link><pubDate>Fri, 14 Nov 2025 12:00:00 +0100</pubDate><guid>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-04%E5%B7%A5%E5%85%B7%E4%B8%8E%E6%89%A7%E8%A1%8C%E5%BC%95%E6%93%8E/</guid><description>&lt;h1 id="-å·¥å…·ä¸æ‰§è¡Œå¼•æ“"&gt;ğŸ› ï¸ å·¥å…·ä¸æ‰§è¡Œå¼•æ“&lt;/h1&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-mermaid" data-lang="mermaid"&gt;graph LR
subgraph &amp;#34;å·¥å…·ç”Ÿå‘½å‘¨æœŸ&amp;#34;
LLM[LLM å†³ç­–] --&amp;gt; ToolUse[ToolUseBlock]
ToolUse --&amp;gt; Validation{è¾“å…¥éªŒè¯}
Validation --&amp;gt;|é€šè¿‡| Permission{æƒé™æ£€æŸ¥}
Validation --&amp;gt;|å¤±è´¥| ErrorResult[é”™è¯¯ç»“æœ]
Permission --&amp;gt;|å…è®¸| Execute[&amp;#34;Tool.call()&amp;#34;]
Permission --&amp;gt;|æ‹’ç»| ErrorResult
Permission --&amp;gt;|è¯¢é—®| UserPrompt[ç”¨æˆ·å¯¹è¯æ¡†]
UserPrompt --&amp;gt;|å…è®¸| Execute
UserPrompt --&amp;gt;|æ‹’ç»| ErrorResult
Execute --&amp;gt; Progress[äº§å‡ºè¿›åº¦]
Progress --&amp;gt; Progress
Progress --&amp;gt; Result[äº§å‡ºç»“æœ]
Result --&amp;gt; Transform[mapToolResult]
Transform --&amp;gt; ToolResultBlock
ErrorResult --&amp;gt; ToolResultBlock
ToolResultBlock --&amp;gt; LLM
end
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="å·¥å…·æ‰§è¡Œç®¡é“å…¨ç¨‹å¼‚æ­¥ç”Ÿæˆå™¨"&gt;å·¥å…·æ‰§è¡Œç®¡é“ï¼šå…¨ç¨‹å¼‚æ­¥ç”Ÿæˆå™¨&lt;/h2&gt;
&lt;p&gt;Claude Code å·¥å…·ç³»ç»Ÿæœ€è¿·äººçš„æ–¹é¢æ˜¯åœ¨æ•´ä¸ªæ‰§è¡Œç®¡é“ä¸­ä½¿ç”¨å¼‚æ­¥ç”Ÿæˆå™¨ã€‚è¿™å…è®¸åœ¨ä¿æŒæ¸…æ™°çš„é”™è¯¯è¾¹ç•Œçš„åŒæ—¶æµå¼ä¼ è¾“è¿›åº¦æ›´æ–°ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-typescript" data-lang="typescript"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;// æ ¸å¿ƒå·¥å…·æ‰§è¡Œå‡½æ•°ï¼ˆé‡æ„ç‰ˆï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kr"&gt;async&lt;/span&gt; &lt;span class="kd"&gt;function&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="nx"&gt;executeTool&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;toolUse&lt;/span&gt;: &lt;span class="kt"&gt;ToolUseBlock&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;toolDef&lt;/span&gt;: &lt;span class="kt"&gt;ToolDefinition&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;context&lt;/span&gt;: &lt;span class="kt"&gt;ToolUseContext&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;permissionFn&lt;/span&gt;: &lt;span class="kt"&gt;PermissionGranter&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;assistantMessage&lt;/span&gt;: &lt;span class="kt"&gt;CliMessage&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nx"&gt;AsyncGenerator&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;CliMessage&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="na"&gt;void&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="na"&gt;void&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// é˜¶æ®µ 1ï¼šä½¿ç”¨ Zod è¿›è¡Œè¾“å…¥éªŒè¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;validationStart&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;performance&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;now&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;validation&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;toolDef&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;inputSchema&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;safeParse&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;toolUse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;input&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="nx"&gt;validation&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;success&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// ä¸º LLM æ¶ˆè´¹æ ¼å¼åŒ– Zod é”™è¯¯
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;errorMessage&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;formatZodError&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;validation&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;error&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="nx"&gt;createToolResultMessage&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;tool_use_id&lt;/span&gt;: &lt;span class="kt"&gt;toolUse.id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;type&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;text&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;text&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="sb"&gt;`Input validation failed:\\n&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nx"&gt;errorMessage&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;is_error&lt;/span&gt;: &lt;span class="kt"&gt;true&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// é˜¶æ®µ 2ï¼šæƒé™æ£€æŸ¥
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;permissionResult&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;await&lt;/span&gt; &lt;span class="nx"&gt;checkToolPermission&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;toolDef&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;validation&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;context&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;getToolPermissionContext&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;permissionFn&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;permissionResult&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;behavior&lt;/span&gt; &lt;span class="o"&gt;===&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;deny&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="nx"&gt;createToolResultMessage&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;tool_use_id&lt;/span&gt;: &lt;span class="kt"&gt;toolUse.id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;type&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;text&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;text&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="sb"&gt;`Permission denied: &lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nx"&gt;permissionResult&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;message&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;is_error&lt;/span&gt;: &lt;span class="kt"&gt;true&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;permissionResult&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;behavior&lt;/span&gt; &lt;span class="o"&gt;===&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;ask&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// ä¸ºæƒé™å¯¹è¯æ¡†äº§å‡º UI äº‹ä»¶
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;type&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;permission_request&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;toolName&lt;/span&gt;: &lt;span class="kt"&gt;toolDef.name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;input&lt;/span&gt;: &lt;span class="kt"&gt;validation.data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;suggestions&lt;/span&gt;: &lt;span class="kt"&gt;permissionResult.ruleSuggestions&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// ç­‰å¾…ç”¨æˆ·å†³ç­–ï¼ˆç”±å¤–å±‚å¾ªç¯å¤„ç†ï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;decision&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;await&lt;/span&gt; &lt;span class="nx"&gt;permissionFn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;toolDef&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;validation&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;permissionResult&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="nx"&gt;decision&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;allowed&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="nx"&gt;createToolResultMessage&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;tool_use_id&lt;/span&gt;: &lt;span class="kt"&gt;toolUse.id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;type&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;text&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;text&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;Tool execution cancelled by user&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;is_error&lt;/span&gt;: &lt;span class="kt"&gt;true&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// é˜¶æ®µ 3ï¼šå¸¦è¿›åº¦è·Ÿè¸ªçš„å·¥å…·æ‰§è¡Œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;try&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;executeStart&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;performance&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;now&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kd"&gt;let&lt;/span&gt; &lt;span class="nx"&gt;progressCount&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kd"&gt;let&lt;/span&gt; &lt;span class="nx"&gt;finalResult&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// è°ƒç”¨å·¥å…·çš„å¼‚æ­¥ç”Ÿæˆå™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="k"&gt;await&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;output&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="nx"&gt;toolDef&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;call&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;validation&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;context&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kc"&gt;undefined&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// mcpContext - æŒ‰è¦æ±‚è·³è¿‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;assistantMessage&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;output&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="kr"&gt;type&lt;/span&gt; &lt;span class="o"&gt;===&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;progress&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;progressCount&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;type&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;progress&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;uuid&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="sb"&gt;`progress-&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nx"&gt;toolUse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;id&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt;-&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nx"&gt;progressCount&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;timestamp&lt;/span&gt;: &lt;span class="kt"&gt;new&lt;/span&gt; &lt;span class="nb"&gt;Date&lt;/span&gt;&lt;span class="p"&gt;().&lt;/span&gt;&lt;span class="nx"&gt;toISOString&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;progress&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;toolUseID&lt;/span&gt;: &lt;span class="kt"&gt;toolUse.id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;data&lt;/span&gt;: &lt;span class="kt"&gt;output.data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;output&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="kr"&gt;type&lt;/span&gt; &lt;span class="o"&gt;===&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;result&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;finalResult&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;output&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;data&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// é˜¶æ®µ 4ï¼šç»“æœè½¬æ¢
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;finalResult&lt;/span&gt; &lt;span class="o"&gt;!==&lt;/span&gt; &lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;content&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;toolDef&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;mapToolResultToToolResultBlockParam&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;finalResult&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;toolUse&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="nx"&gt;createToolResultMessage&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;tool_use_id&lt;/span&gt;: &lt;span class="kt"&gt;toolUse.id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;content&lt;/span&gt;: &lt;span class="kt"&gt;Array.isArray&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;?&lt;/span&gt; &lt;span class="nx"&gt;content&lt;/span&gt; &lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;content&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;is_error&lt;/span&gt;: &lt;span class="kt"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;executionTime&lt;/span&gt;: &lt;span class="kt"&gt;performance.now&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="nx"&gt;executeStart&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;catch&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;error&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// å¸¦ä¸°å¯Œä¸Šä¸‹æ–‡çš„é”™è¯¯å¤„ç†
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="nx"&gt;createToolResultMessage&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;tool_use_id&lt;/span&gt;: &lt;span class="kt"&gt;toolUse.id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;content&lt;/span&gt;: &lt;span class="kt"&gt;formatToolError&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;error&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;toolDef&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;is_error&lt;/span&gt;: &lt;span class="kt"&gt;true&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;æ€§èƒ½ç‰¹å¾&lt;/strong&gt;ï¼š&lt;/p&gt;</description></item><item><title>Claude Code åˆ†æ 03ï¼šæ§åˆ¶æµ</title><link>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-03%E6%8E%A7%E5%88%B6%E6%B5%81/</link><pubDate>Fri, 14 Nov 2025 11:00:00 +0100</pubDate><guid>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-03%E6%8E%A7%E5%88%B6%E6%B5%81/</guid><description>&lt;h1 id="-æ§åˆ¶æµä¸ç¼–æ’å¼•æ“"&gt;ğŸ”„ æ§åˆ¶æµä¸ç¼–æ’å¼•æ“&lt;/h1&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-mermaid" data-lang="mermaid"&gt;sequenceDiagram
participant User
participant MainLoop as Main Loop (tt)
participant LLM as LLM API
participant ToolBatch as Tool Batcher
participant Tool1 as ReadTool
participant Tool2 as GrepTool
participant Tool3 as EditTool
participant UI as UI Renderer
User-&amp;gt;&amp;gt;MainLoop: &amp;#34;Search for TODO comments and update them&amp;#34;
MainLoop-&amp;gt;&amp;gt;LLM: Stream request with context
LLM--&amp;gt;&amp;gt;MainLoop: text_delta: &amp;#34;I&amp;#39;ll search for TODOs...&amp;#34;
MainLoop--&amp;gt;&amp;gt;UI: Update display
LLM--&amp;gt;&amp;gt;MainLoop: tool_use: GrepTool
LLM--&amp;gt;&amp;gt;MainLoop: tool_use: ReadTool (multiple files)
LLM--&amp;gt;&amp;gt;MainLoop: message_stop
MainLoop-&amp;gt;&amp;gt;ToolBatch: Execute tool batch
par Parallel Execution
ToolBatch-&amp;gt;&amp;gt;Tool1: ReadTool.call() [Read-only]
ToolBatch-&amp;gt;&amp;gt;Tool2: GrepTool.call() [Read-only]
Tool1--&amp;gt;&amp;gt;UI: Progress: &amp;#34;Reading file1.js&amp;#34;
Tool2--&amp;gt;&amp;gt;UI: Progress: &amp;#34;Searching *.js&amp;#34;
Tool1--&amp;gt;&amp;gt;ToolBatch: Result: File contents
Tool2--&amp;gt;&amp;gt;ToolBatch: Result: 5 matches
end
ToolBatch-&amp;gt;&amp;gt;MainLoop: Tool results
MainLoop-&amp;gt;&amp;gt;LLM: Continue with results
LLM--&amp;gt;&amp;gt;MainLoop: tool_use: EditTool
MainLoop-&amp;gt;&amp;gt;ToolBatch: Execute write tool
Note over ToolBatch, Tool3: Sequential Execution
ToolBatch-&amp;gt;&amp;gt;Tool3: EditTool.call() [Write]
Tool3--&amp;gt;&amp;gt;UI: Progress: &amp;#34;Editing file1.js&amp;#34;
Tool3--&amp;gt;&amp;gt;ToolBatch: Result: Success
ToolBatch-&amp;gt;&amp;gt;MainLoop: Edit complete
MainLoop-&amp;gt;&amp;gt;LLM: Continue with result
LLM--&amp;gt;&amp;gt;MainLoop: text_delta: &amp;#34;Updated 5 TODOs...&amp;#34;
MainLoop--&amp;gt;&amp;gt;UI: Final response
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="ä¸»å¯¹è¯å¾ªç¯ä¸€ä¸ªæµå¼çŠ¶æ€æœº"&gt;ä¸»å¯¹è¯å¾ªç¯ï¼šä¸€ä¸ªæµå¼çŠ¶æ€æœº&lt;/h2&gt;
&lt;p&gt;Claude Code çš„æ ¸å¿ƒæ˜¯ &lt;code&gt;tt&lt;/code&gt; å¼‚æ­¥ç”Ÿæˆå™¨å‡½æ•°â€”â€”ä¸€ä¸ªç¼–æ’æ•´ä¸ªå¯¹è¯æµç¨‹çš„å¤æ‚çŠ¶æ€æœºã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹å®ƒçš„å®é™…ç»“æ„ï¼š&lt;/p&gt;</description></item><item><title>Claude Code åˆ†æ 02ï¼šæ•°æ®ç»“æ„</title><link>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-02%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</link><pubDate>Fri, 14 Nov 2025 10:00:00 +0100</pubDate><guid>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-02%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</guid><description>&lt;h1 id="-æ•°æ®ç»“æ„ä¸ä¿¡æ¯æ¶æ„"&gt;ğŸ“Š æ•°æ®ç»“æ„ä¸ä¿¡æ¯æ¶æ„&lt;/h1&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-mermaid" data-lang="mermaid"&gt;stateDiagram-v2
[*] --&amp;gt; UserInput: ç”¨æˆ·è¾“å…¥/ç²˜è´´
UserInput --&amp;gt; CliMessage: CLI å¤„ç†è¾“å…¥
CliMessage --&amp;gt; APIMessage: ä¸º LLM æ ¼å¼åŒ–
APIMessage --&amp;gt; LLMStream: API è¯·æ±‚
LLMStream --&amp;gt; StreamEvent: æœåŠ¡å™¨å‘é€æ•°æ®å—
StreamEvent --&amp;gt; ContentBlockDelta: è§£æå¢é‡
ContentBlockDelta --&amp;gt; AccumulatedMessage: æ„å»ºæ¶ˆæ¯
AccumulatedMessage --&amp;gt; ToolUseBlock: åŒ…å«å·¥å…·è¯·æ±‚?
ToolUseBlock --&amp;gt; ToolExecution: æ‰§è¡Œå·¥å…·
ToolExecution --&amp;gt; ToolProgress: ç”Ÿæˆè¿›åº¦
ToolProgress --&amp;gt; CliMessage: è¿›åº¦æ›´æ–°
ToolExecution --&amp;gt; ToolResult: å®Œæˆæ‰§è¡Œ
ToolResult --&amp;gt; ToolResultBlock: æ ¼å¼åŒ–ç»“æœ
ToolResultBlock --&amp;gt; CliMessage: å·¥å…·ç»“æœæ¶ˆæ¯
AccumulatedMessage --&amp;gt; CliMessage: æœ€ç»ˆåŠ©æ‰‹æ¶ˆæ¯
CliMessage --&amp;gt; [*]: æ˜¾ç¤ºç»™ç”¨æˆ·
CliMessage --&amp;gt; APIMessage: å¾ªç¯ç»§ç»­
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id="æµå¼çŠ¶æ€æœº-æ¶ˆæ¯å¦‚ä½•è½¬æ¢"&gt;æµå¼çŠ¶æ€æœº: æ¶ˆæ¯å¦‚ä½•è½¬æ¢&lt;/h2&gt;
&lt;p&gt;Claude Code æ•°æ®æ¶æ„æœ€ä»¤äººç€è¿·çš„æ–¹é¢æ˜¯å®ƒå¦‚ä½•åœ¨ä¿æŒæµå¼æ€§èƒ½çš„åŒæ—¶,ç®¡ç†æ•°æ®åœ¨å¤šä¸ªè¡¨ç¤ºå½¢å¼ä¹‹é—´çš„è½¬æ¢ã€‚è®©æˆ‘ä»¬ä»æ ¸å¿ƒåˆ›æ–°å¼€å§‹:&lt;/p&gt;</description></item><item><title>Claude Code åˆ†æ 01ï¼šä¾èµ–é¡¹</title><link>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-01%E4%BE%9D%E8%B5%96%E9%A1%B9/</link><pubDate>Fri, 14 Nov 2025 09:00:00 +0100</pubDate><guid>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-01%E4%BE%9D%E8%B5%96%E9%A1%B9/</guid><description>&lt;h1 id="-ä¾èµ–é¡¹claude-code-æ¶æ„çš„åŸºçŸ³"&gt;ğŸ”– ä¾èµ–é¡¹ï¼šClaude Code æ¶æ„çš„åŸºçŸ³&lt;/h1&gt;
&lt;p&gt;&lt;img alt="æ¶æ„å›¾" loading="lazy" src="https://prod-files-secure.s3.us-west-2.amazonaws.com/9cabbdf9-10ed-4360-9068-cc469a5497be/4dc81a49-92c8-40c8-ac87-a696b731bcb8/d2_%288%29.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;code&gt;\\&lt;/code&gt; è¡¨ç¤ºåŸºäºåç¼–è¯‘åˆ†æå¯èƒ½çš„è‡ªå®šä¹‰/åµŒå…¥å¼å®ç°&lt;/em&gt;&lt;/p&gt;
&lt;h2 id="å®šä¹‰æ€§èƒ½çš„éå¸¸è§„é€‰æ‹©"&gt;å®šä¹‰æ€§èƒ½çš„éå¸¸è§„é€‰æ‹©&lt;/h2&gt;
&lt;p&gt;Claude Code çš„ä¾èµ–æ¶æ„æ­ç¤ºäº†å‡ ä¸ªå¼•äººå…¥èƒœçš„å®ç°å†³ç­–ï¼Œè¿™äº›å†³ç­–ç›´æ¥ä¿ƒæˆäº†å®ƒè‘—åçš„æ€§èƒ½å’Œå¯é æ€§ã€‚è®©æˆ‘ä»¬é¦–å…ˆæ¢ç´¢æœ€å…·æŠ€æœ¯è¶£å‘³çš„æ–¹é¢ã€‚&lt;/p&gt;
&lt;h3 id="-ç»ˆç«¯ä¸­çš„-react-æ¶æ„"&gt;ğŸ” ç»ˆç«¯ä¸­çš„ React æ¶æ„&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-typescript" data-lang="typescript"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;// æ ¸å¿ƒæ¸²æŸ“ç®¡é“ä¼¼ä¹å®ç°äº†ï¼š
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kr"&gt;interface&lt;/span&gt; &lt;span class="nx"&gt;CliRenderPipeline&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;react&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;^18.2.0&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;// å®Œæ•´çš„ React åè°ƒå™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;ink&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;^3.2.0&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;// ç»ˆç«¯æ¸²æŸ“å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nx"&gt;yoga&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;^2.0.0-beta.1&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;// Flexbox å¸ƒå±€å¼•æ“ï¼ˆWebAssemblyï¼‰
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦&lt;/strong&gt;ï¼šä¸ä¼ ç»Ÿçš„å‘½ä»¤å¼ç®¡ç†çŠ¶æ€çš„ CLI å·¥å…·ä¸åŒï¼ŒClaude Code åˆ©ç”¨ React çš„åè°ƒç®—æ³•ï¼ˆreconciliation algorithmï¼‰æ¥å¤„ç†ç»ˆç«¯ UIã€‚è¿™æ„å‘³ç€ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç»ˆç«¯ä¸­çš„è™šæ‹Ÿ DOM&lt;/strong&gt;ï¼šæ¯æ¬¡ UI æ›´æ–°éƒ½ä¼šç»è¿‡ React çš„å·®å¼‚ç®—æ³•ï¼Œç„¶å yoga-layout è®¡ç®—æœ€ä¼˜çš„ç»ˆç«¯å­—ç¬¦ä½ç½®&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å£°æ˜å¼ UI çŠ¶æ€&lt;/strong&gt;ï¼šå¤æ‚çš„ UI çŠ¶æ€ï¼ˆæƒé™å¯¹è¯æ¡†ã€è¿›åº¦æŒ‡ç¤ºå™¨ã€å¹¶å‘å·¥å…·æ‰§è¡Œï¼‰éƒ½ä»¥å£°æ˜å¼æ–¹å¼ç®¡ç†&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ€§èƒ½&lt;/strong&gt;ï¼šyoga-layout WebAssembly æ¨¡å—å³ä½¿å¯¹äºå¤æ‚çš„ UI ä¹Ÿèƒ½æä¾›äºšæ¯«ç§’çº§çš„å¸ƒå±€è®¡ç®—&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;â”Œâ”€ &lt;strong&gt;å®ç°æ´å¯Ÿ&lt;/strong&gt; â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ yoga-layout-prebuilt ä¾èµ–è¡¨æ˜ Claude Code â”‚
â”‚ é¢„ç¼–è¯‘å¸ƒå±€çº¦æŸï¼Œåœ¨å¿«é€Ÿ UI æ›´æ–°æœŸé—´ â”‚
â”‚ ï¼ˆä¾‹å¦‚æµå¼ LLM å“åº”ï¼‰ä»¥å†…å­˜æ¢å–é€Ÿåº¦ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜&lt;/p&gt;</description></item><item><title>Claude Code åˆ†æ 00ï¼šä¸»æ–‡ç« </title><link>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-00%E4%B8%BB%E6%96%87%E7%AB%A0/</link><pubDate>Fri, 14 Nov 2025 08:00:00 +0100</pubDate><guid>https://starslayerx.github.io/posts/claude-code-%E5%88%86%E6%9E%90-00%E4%B8%BB%E6%96%87%E7%AB%A0/</guid><description>&lt;h1 id="claude-code-æ·±åº¦åˆ†æ"&gt;Claude Code: æ·±åº¦åˆ†æ&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ’¡ &lt;strong&gt;æ³¨æ„äº‹é¡¹&lt;/strong&gt;
æœ¬æŠ¥å‘Šå®Œå…¨ç”± Claude Opus 4 ç”Ÿæˆ,å‡ ä¹æ‰€æœ‰ä¸»æµæ——èˆ°æ¨¡å‹éƒ½å‚ä¸äº†ååŠ©ã€‚ç„¶è€Œ,å…³äºåˆ¶ä½œæœ¬æŠ¥å‘Šè¿‡ç¨‹çš„ 8000 å­—æ–‡ç« æ˜¯æ‰‹åŠ¨æ’°å†™çš„ - ä½ å¯ä»¥ä»è¿™é‡Œå¼€å§‹é˜…è¯»:&lt;a href="https://www.notion.so/2ace7353ca56811f8b25fb0181ebcc38"&gt;ã€ŠæŒ‡æŒ¥æ¯”æˆ‘æ›´èªæ˜çš„æ™ºèƒ½:æ–°çš„ç¼–æ’æ–¹å¼ã€‹&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘éœ€è¦è¯´æ˜çš„æ˜¯,è¿™å¹¶ä¸æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„åç¼–è¯‘æˆ–é€†å‘å·¥ç¨‹å°è¯•,æ›´åƒæ˜¯å¯¹ Claude å›¢é˜Ÿå‡ºè‰²å·¥ä½œçš„è‡´æ•¬ã€‚æä¾›çš„ç¤ºä¾‹ä¸ä¿è¯å­˜åœ¨äº Claude Code ä¸­(æˆ–ç›´æ¥æ´¾ç”Ÿ/å¤åˆ¶è‡ªæºä»£ç ) - ä¸»è¦ç›®çš„æ˜¯åœ¨å­¦ä¹ ç¼–æ’ AI ä»£ç†çš„æ–°æ–¹æ³•æ—¶æä¾›æ•™å­¦ä»·å€¼ã€‚&lt;/p&gt;
&lt;p&gt;(å¿«é€Ÿè¯´æ˜:æ„Ÿè°¢æ‰€æœ‰æŒ‡å‡ºå¹»è§‰çš„äºº,ä½†è¿™äº›æ˜¯æ•…æ„ä¿ç•™çš„,ä½œä¸ºç”Ÿæˆè¿‡ç¨‹çš„äº§ç‰©ã€‚&amp;ldquo;åˆ¶ä½œè¿‡ç¨‹&amp;quot;æ–‡ç« å°†å¸®åŠ©æˆ‘ä»¬ç†è§£ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿè¿™ç§æƒ…å†µ,å¯¹æˆ‘æ¥è¯´,å®ƒä»¬åœ¨ç†è§£å¦‚ä½•æ„å»ºä»£ç†ç³»ç»Ÿæ–¹é¢åŒæ ·æœ‰ç”¨!)&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ æƒ³è¦æœ€æœ‰è¶£çš„é˜…è¯»,ä»&lt;a href="https://www.notion.so/2ace7353ca5681fb87a0fc644a2598af"&gt;ã€Šæ–°é¢–ç»„ä»¶:å®šä¹‰ Claude Code çš„åˆ›æ–°ã€‹&lt;/a&gt;å¼€å§‹ã€‚
å¦‚æœä½ æƒ³è¦æœ€æœ‰è¶£çš„é˜…è¯»,ä»&lt;a href="https://www.notion.so/2ace7353ca5681d79524dbc735ac0bd5"&gt;ã€ŠLLM çš„è§†è§’:å®é™…æ¥æ”¶è¿™äº›æŒ‡ä»¤çš„æ„Ÿå—ã€‹&lt;/a&gt;å¼€å§‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;âœ‰ï¸ &lt;strong&gt;æ¥è‡ªæˆ‘çš„ä¸€å°ä¿¡&lt;/strong&gt;
è¿™ä¸ªé¡¹ç›®å§‹äºç®€å•çš„å¥½å¥‡å¿ƒã€‚æˆ‘æƒ³äº†è§£ Claude Code,å¯¹æˆ‘æ¥è¯´,è¿™æ˜¯æœ€å¥½çš„ä»£ç†ç¼–ç å·¥å…·(å°½ç®¡ç«äº‰å¾ˆæ¿€çƒˆ)ã€‚æœ€åˆ,æˆ‘ä»¥ä¸ºè¿™ä¼šå¾ˆç®€å• - åªæ˜¯ä¸€ä¸ª LLM å’Œå‡ ä¸ªå·¥å…·çš„å¾ªç¯ã€‚æˆ‘é”™äº†ã€‚äº‹å®è¯æ˜å®ƒè¦å¤æ‚å¾—å¤š,æœ‰å¤§é‡æˆ‘æ²¡æœ‰é¢„æ–™åˆ°çš„æ–°é¢–ç»„ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜,æˆ‘ä¸å¤šä¸ª AI å­ä»£ç†åˆä½œ,å®ƒä»¬åœ¨ä¸åŒçš„æ¨ç†ç‰‡æ®µä¸Šè¿è¡Œã€‚æˆ‘æ‰‹åŠ¨ä¼ é€’é—®é¢˜å’Œè§è§£,å®¡æŸ¥è¾“å‡ºä»¥æ£€æŸ¥å¹»è§‰,å¹¶ä»”ç»†æ£€æŸ¥ç»“æœã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªè¿‡ç¨‹åŒ…æ‹¬:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;äº”æ‰¹å››è½®,ä½¿ç”¨å…¨æ–°çš„å­ä»£ç†(ä¸»è¦æ˜¯ Gemini 2.5 Pro)&lt;/li&gt;
&lt;li&gt;ç”Ÿæˆçº¦ 30 ä¸‡ä¸ª token çš„ä¸­é—´åˆ†æ&lt;/li&gt;
&lt;li&gt;å°†æ‰€æœ‰å†…å®¹æµ“ç¼©æˆä¸€ä»½ç»¼åˆæŠ¥å‘Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å€¼å¾—æ³¨æ„çš„æ˜¯,è¿™åªèŠ±äº†ä¸€å¤©æ—¶é—´,å¹¶ä¸”è®©æˆ‘å­¦åˆ°äº†å¾ˆå¤šã€‚åœ¨ LLM ä¹‹å‰,è¿™ç§åˆ†æéœ€è¦æ•°æœˆæ—¶é—´ - å¦‚æœå¯èƒ½çš„è¯ã€‚è‡´ Opus 4,æ„Ÿè°¢ä½ å°†æˆ‘çš„æµ“ç¼©æŠ¥å‘Šè½¬åŒ–ä¸ºä½ å³å°†é˜…è¯»çš„ç»¼åˆåˆ†æ!&lt;/p&gt;
&lt;p&gt;â€”Hrishi&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h2 id="ä¸ºä»€ä¹ˆ-claude-code-å¾ˆé‡è¦"&gt;ä¸ºä»€ä¹ˆ Claude Code å¾ˆé‡è¦&lt;/h2&gt;
&lt;p&gt;Claude Code æœ‰è®¸å¤šéå¸¸æœ‰è¶£çš„éƒ¨åˆ†:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æµå¼æ¶æ„&lt;/strong&gt; - å¤„ç†å®æ—¶ LLM å“åº”ã€å·¥å…·æ‰§è¡Œå’Œ UI æ›´æ–°&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®‰å…¨ç³»ç»Ÿ&lt;/strong&gt; - åœ¨ä¸ä¸­æ–­å·¥ä½œæµç¨‹çš„æƒ…å†µä¸‹æä¾›å®‰å…¨æ€§&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å·¥å…·è®¾è®¡&lt;/strong&gt; - ä¼˜é›…åœ°è¿æ¥ AI æ¨ç†å’Œç³»ç»Ÿæ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æç¤ºå·¥ç¨‹&lt;/strong&gt; - å¯é åœ°æ§åˆ¶å¤æ‚çš„ LLM è¡Œä¸º&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è®©æˆ‘ä»¬æ·±å…¥äº†è§£!æ¯ä¸ªæ ‡é¢˜éƒ½æ˜¯æŒ‡å‘å®Œæ•´ç« èŠ‚çš„é“¾æ¥ã€‚&lt;/p&gt;</description></item><item><title>How AI Assistants Make Precise Edits to Your Files</title><link>https://starslayerx.github.io/posts/how-ai-assistants-make-precise-edits-to-your-files/</link><pubDate>Tue, 02 Sep 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/how-ai-assistants-make-precise-edits-to-your-files/</guid><description>&lt;p&gt;ä¹‹å‰çš„æ–‡ç« ä»‹ç»äº†å¦‚ä½•åˆ¶ä½œä¸€ä¸ªåŸºæœ¬çš„ AI ç¼–ç¨‹åŠ©æ‰‹, ä»Šå¤©æ›´è¿‘ä¸€æ­¥, æ¢è®¨ AI åŠ©æ‰‹å¦‚ä½•å¯¹æ–‡ä»¶è¿›è¡Œç²¾ç¡®çš„ä¿®æ”¹.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å®é™…çš„ AI Agent ä¸ä¼šè¯»å–æ‰€æœ‰çš„é¡¹ç›®ä»£ç , ä¸€èˆ¬åªä¼šè¯»å–å½“å‰æ–‡ä»¶çš„ä»£ç , å½“éœ€è¦æ—¶æ‰ä¼šå»è¯»å–ç›¸å…³çš„ä»£ç æ–‡ä»¶. ç„¶è€Œ, è¾“å‡ºä¹Ÿä¸ä¼šè¾“å‡ºè¦ä¿®æ”¹çš„æ•´ä¸ªæ–‡ä»¶çš„ä»£ç , å› ä¸ºè¿™æ ·è¾“å‡ºä¸ä»…å¾ˆæ…¢, åŒæ—¶æˆæœ¬ä¹Ÿå¾ˆé«˜, ä¼šæœ‰å¤§é‡é‡å¤ä»£ç å¯¼è‡´æµªè´¹(ä»¥ deepseek ä¸ºä¾‹, è¾“å‡º token çš„ä»·æ ¼æ˜¯è¾“å…¥ token ä»·æ ¼çš„3å€, æ˜¯ç¼“å­˜å‘½ä¸­è¾“å…¥ token ä»·æ ¼çš„24å€!), å› æ­¤ä¸€èˆ¬æ˜¯è®©æ¨¡å‹è¾“å‡ºè¦ä¿®æ”¹çš„ä»£ç å’Œä¿®æ”¹åçš„ä»£ç .&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;æ—¢ç„¶ä¸èƒ½ä¸€æ¬¡è¾“å‡ºæ–‡ä»¶çš„æ‰€æœ‰ä»£ç , è¿™å°±å¼•å‡ºäº†ä¸€ä¸ªé—®é¢˜: å¦‚ä½•ç²¾ç¡®çš„ä¿®æ”¹ä»£ç æ–‡ä»¶? é¦–å…ˆè¦ç¡®å®šä¸€ç§è®©æ¨¡å‹å‡†ç¡®åœ°æè¿°ä¿®æ”¹çš„æ ¼å¼, å¹¶ä¸”æä¾›å¥å£®çš„æ ¼å¼åŒ¹é…ä¸é”™è¯¯é‡è¯•æœºåˆ¶(æ¨¡å‹è¾“å‡ºä»£ç å¯èƒ½å°‘ä¸ªç©ºæ ¼æˆ–è€…Tab), è¿™ç¯‡æ–‡ç« å¯¹è¿™ä¸ªé—®é¢˜åšäº†æ¢è®¨.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å°† AI agent ç”Ÿæˆçš„ä»£ç ç›´æ¥ä¿®æ”¹åˆ°æ–‡ä»¶ä¸­æ˜¯ä¸€é¡¹æ ¸å¿ƒèƒ½åŠ›, ç„¶è€Œå®é™…ä¸Šè¿™å¸¸å¸¸å‡ºä¹æ„æ–™çš„å›°éš¾, agent å¯èƒ½ä¼šæå‡ºä¸€ä¸ªä»£ç ä¿®æ”¹æ–¹æ¡ˆ, ä½†å®é™…ä¿®æ”¹å´å¤±è´¥, ä¾‹å¦‚&amp;quot;æ‰¾ä¸åˆ°åŒ¹é…çš„ä¸Šä¸‹æ–‡&amp;quot;ä¹‹ç±»çš„é”™è¯¯, éœ€è¦æ‰‹åŠ¨å¹²é¢„. è®¸å¤š AI ç¼–ç¨‹åŠ©æ‰‹çš„å¼€å‘è€…éƒ½é‡åˆ°è¿‡è¿™ç§æƒ…å†µ, è™½ç„¶ AI ç†è§£ä»£ç çš„æ„å›¾, ä½†å°†è¿™ç§ç†è§£è½¬åŒ–ä¸ºç²¾ç¡®çš„æ–‡ä»¶ä¿®æ”¹å´å¸¦æ¥äº†é‡å¤§çš„æŠ€æœ¯æŒ‘æˆ˜.&lt;/p&gt;
&lt;h3 id="why-precise-file-editing-matters-ä¸ºä»€ä¹ˆç²¾ç¡®çš„æ–‡ä»¶ç¼–è¾‘è‡³å…³é‡è¦"&gt;Why Precise File Editing Matters ä¸ºä»€ä¹ˆç²¾ç¡®çš„æ–‡ä»¶ç¼–è¾‘è‡³å…³é‡è¦&lt;/h3&gt;
&lt;p&gt;æœ‰æ•ˆçš„æ–‡ä»¶ç¼–è¾‘æ˜¯ç¼–ç¨‹åŠ©æ‰‹çš„ä»·å€¼æ ¸å¿ƒ, å¦‚æœå…¶ä¸èƒ½å¯é çš„ä¿®æ”¹æ–‡ä»¶, éœ€è¦äººä¸ºæ‰‹åŠ¨ä¿®æ”¹, å°±é€€åŒ–æˆäº† AI èŠå¤©å¼•æ“, ç›¸æ¯”ä¹‹ä¸‹, ä¸€ä¸ªèƒ½å¤Ÿå¯é è‡ªåŠ¨åŒ–ç¼–è¾‘çš„åŠ©æ‰‹å¯ä»¥ä¸ºå¼€å‘è€…èŠ‚çœå¤§é‡æ—¶é—´å’Œè®¤çŸ¥è´Ÿæ‹….&lt;br&gt;
æ ¹æœ¬çš„æŒ‘æˆ˜åœ¨äº, LLM ç¼ºä¹ç›´æ¥çš„æ–‡ä»¶ç³»ç»Ÿè®¿é—®æƒé™, ä»–ä»¬å¿…é¡»é€šè¿‡ä¸“é—¨çš„å·¥å…·æ¥æè¿°é¢„æœŸçš„ä¿®æ”¹, ç„¶åè¿™äº›å·¥å…·æˆ– API è§£é‡ŠæŒ‡ä»¤å¹¶å°è¯•æ‰§è¡Œ, LLM çš„æè¿°ä¸æ–‡ä»¶ç³»ç»ŸçŠ¶æ€ä¹‹é—´çš„è¿™ç§äº¤æ¥æ˜¯å¸¸è§çš„é—®é¢˜æ¥æº.&lt;br&gt;
ä½¿ç”¨ GitHub Coplitã€Aiderã€RooCode æˆ– Cursor ç­‰å·¥å…·çš„ç”¨æˆ·å¯èƒ½å·²ç»è§‚å¯Ÿåˆ°è¿™äº›é—®é¢˜: ç¼–è¾‘å™¨æ— æ³•æ‰¾åˆ°æ­£ç¡®çš„æ’å…¥ç‚¹ã€ç¼©è¿›ä¸æ­£ç¡®, æˆ–è€…å·¥å…·æœ€ç»ˆè¯·æ±‚æ‰‹åŠ¨åº”ç”¨.&lt;/p&gt;</description></item><item><title>Make an AI Coding Agent in python</title><link>https://starslayerx.github.io/posts/make-an-ai-coding-agent-in-python/</link><pubDate>Mon, 01 Sep 2025 08:00:00 +0800</pubDate><guid>https://starslayerx.github.io/posts/make-an-ai-coding-agent-in-python/</guid><description>&lt;p&gt;è¿™ç¯‡æ–‡ä»¶ä»‹ç»å¦‚ä½•ä½¿ç”¨ Python åˆ¶ä½œä¸€ä¸ªåŸºç¡€çš„ AI ç¼–ç¨‹åŠ©æ‰‹&lt;/p&gt;
&lt;h2 id="minimal-ai-coding-agent"&gt;Minimal AI Coding Agent&lt;/h2&gt;
&lt;p&gt;ä¸‹é¢æ˜¯ä¸€ä¸ª AI Coding Agent è‡³å°‘éœ€è¦çš„åŠŸèƒ½&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Chat loop å¯¹è¯å¾ªç¯&lt;/li&gt;
&lt;li&gt;Call an LLM è°ƒç”¨å¤§è¯­è¨€æ¨¡å‹&lt;/li&gt;
&lt;li&gt;Add tools to call å¢åŠ å·¥å…·è°ƒç”¨&lt;/li&gt;
&lt;li&gt;Handle tool request å¤„ç†å·¥å…·è°ƒç”¨è¯·æ±‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="step-1-chat-loop"&gt;Step 1: Chat Loop&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆ, èŠå¤©å¾ªç¯ä¸€ç›´å¾ªç¯ç­‰å¾…ç”¨æˆ·è¾“å…¥, Python çš„ &amp;ldquo;input&amp;rdquo; æ–¹æ³•å¯ä»¥è·å–ç”¨æˆ·è¾“å…¥&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-Python" data-lang="Python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;Type q to quit&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;user_message&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;input&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;You: &amp;#34;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;user_message&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;q&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;break&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;ai_message&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;f&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;You said &lt;/span&gt;&lt;span class="si"&gt;{&lt;/span&gt;&lt;span class="n"&gt;user_message&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;... so insightful&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ai_message&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç›®å‰ä¸»æµçš„ LLM éƒ½æ˜¯æ— çŠ¶æ€çš„, æ‰€ä»¥éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨çš„å»ç®¡ç†å¯¹è¯ä¸Šä¸‹æ–‡, è¿™é‡Œä½¿ç”¨ä¸€ä¸ª &lt;code&gt;fake_ai&lt;/code&gt; å‡½æ•°æ¨¡æ‹ŸçœŸå®çš„ LLM è°ƒç”¨, å¹¶åŒ…å« &lt;code&gt;role&lt;/code&gt; å’Œ &lt;code&gt;content&lt;/code&gt; å†…å®¹&lt;/p&gt;</description></item></channel></rss>